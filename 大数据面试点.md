<!DOCTYPE html>
<!-- saved from url=(0040)https://github.com/daihang1/-/new/master -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  <link rel="dns-prefetch" href="https://github.githubassets.com/">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-hddDYPWR0gBbqLRmIZP242WMEiYsVkYI2UCYCVUHB4h5DhD2cbtFJYG+HPh21dZGb+sbgDHxQBNJCBq7YbmlBQ==" rel="stylesheet" href="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/frameworks-02a3eaa24db2bd1ed9b64450595fc2cf.css">
  
    <link crossorigin="anonymous" media="all" integrity="sha512-YdIM/FwAk7kxvPGCpeT2JXxPrThv4m9rH7fLzjn+dg3zKb+PWOaxX1ioiOcmOb64+LeDKgBXsGL4b/BJQY/cdA==" rel="stylesheet" href="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/github-102d2679bcc893600ce928d5c6d34297.css">
    
    
    
    


  <meta name="viewport" content="width=device-width">
  
  <title>New File</title>
    <meta name="description" content="Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ. Contribute to daihang1/- development by creating an account on GitHub.">
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    <meta name="twitter:image:src" content="https://avatars3.githubusercontent.com/u/49648247?s=400&amp;v=4"><meta name="twitter:site" content="@github"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="daihang1/-"><meta name="twitter:description" content="Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ. Contribute to daihang1/- development by creating an account on GitHub.">
    <meta property="og:image" content="https://avatars3.githubusercontent.com/u/49648247?s=400&amp;v=4"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="daihang1/-"><meta property="og:url" content="https://github.com/daihang1/-"><meta property="og:description" content="Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ. Contribute to daihang1/- development by creating an account on GitHub.">

  <link rel="assets" href="https://github.githubassets.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6NDgyNTMwMTA0OjlkZjg5MWNiZTVlMmNkNDRhODYyNDZjOTdmODIxZjk1NzVlNmZmYWM4NzFiODVjMTliNDAzNjE2OWJkM2JiZjY=--c30dd860c1d9155c30d8f036e80664acb460fe83">
  <link rel="sudo-modal" href="https://github.com/sessions/sudo_modal">

    <meta name="request-id" content="43E6:04C3:2BC48D1:3CFEF39:5E06D555" data-pjax-transient="">



  

  <meta name="selected-link" value="repo_source" data-pjax-transient="">

      <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

    <meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-dimension-request_id" content="43E6:04C3:2BC48D1:3CFEF39:5E06D555"><meta name="octolytics-dimension-region_edge" content="ap-southeast-1"><meta name="octolytics-dimension-region_render" content="iad"><meta name="octolytics-dimension-ga_id" content="1450891259.1577502249" class="js-octo-ga-id"><meta name="octolytics-dimension-visitor_id" content="2355375614485513765"><meta name="octolytics-actor-id" content="49648247"><meta name="octolytics-actor-login" content="daihang1"><meta name="octolytics-actor-hash" content="12c7bb338f7b35f72e328ef2b81a29919c147987728516e2e36d8d4224691fc4">

<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/new" data-pjax-transient="true">



    <meta name="google-analytics" content="UA-3769691-2">

  <meta class="js-ga-set" name="userId" content="9bb21278023ed7c1c485647a7d18f1ac">

<meta class="js-ga-set" name="dimension1" content="Logged In">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="daihang1">

      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="NjU5N2E4YTk3MzRlNzY3YTI3NzMxMzM4MDE3YTBmYTgyYjFkNzQ4ODBiNTBjMTVkMTI0ZWYwNDc0MWJmYmY5MHx7InJlbW90ZV9hZGRyZXNzIjoiMjE4LjI2LjU0LjE0NSIsInJlcXVlc3RfaWQiOiI0M0U2OjA0QzM6MkJDNDhEMTozQ0ZFRjM5OjVFMDZENTU1IiwidGltZXN0YW1wIjoxNTc3NTA2MTQwLCJob3N0IjoiZ2l0aHViLmNvbSJ9">

    <meta name="enabled-features" content="MARKETPLACE_FEATURED_BLOG_POSTS,MARKETPLACE_INVOICED_BILLING,MARKETPLACE_SOCIAL_PROOF_CUSTOMERS,MARKETPLACE_TRENDING_SOCIAL_PROOF,MARKETPLACE_RECOMMENDATIONS,MARKETPLACE_PENDING_INSTALLATIONS,NOTIFY_ON_BLOCK,RELATED_ISSUES,GHE_CLOUD_TRIAL">

    <meta name="html-safe-nonce" content="3fdcb012918df7eac7f236616078ca47fb2f3e4a">

  <meta http-equiv="x-pjax-version" content="61f8c219e8739359a3bf9c46bc342ad6">
  

      <link href="https://github.com/daihang1/-/commits/master.atom" rel="alternate" title="Recent Commits to -:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/daihang1/- git https://github.com/daihang1/-.git">

  <meta name="octolytics-dimension-user_id" content="49648247"><meta name="octolytics-dimension-user_login" content="daihang1"><meta name="octolytics-dimension-repository_id" content="230556340"><meta name="octolytics-dimension-repository_nwo" content="daihang1/-"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="230556340"><meta name="octolytics-dimension-repository_network_root_nwo" content="daihang1/-"><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="true">




  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://github.githubassets.com/favicon.ico">

<meta name="theme-color" content="#1e2327">



  <meta name="webauthn-auth-enabled" content="true">

  <meta name="webauthn-registration-enabled" content="true">

  <link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-edit-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="https://github.com/daihang1/-/new/master#start-of-content" tabindex="1" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
      <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
    </span>

    
    
    


          <header class="Header js-details-container Details flex-wrap flex-lg-nowrap p-responsive" role="banner">

    <div class="Header-item d-none d-lg-flex">
      <a class="Header-link" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item d-lg-none">
      <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"></path></svg>
      </button>
    </div>

    <div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
        <div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to" role="combobox" aria-owns="jump-to-results" aria-label="Search or jump to" aria-haspopup="listbox" aria-expanded="false">
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="230556340" data-scoped-search-url="/daihang1/-/search" data-unscoped-search-url="/search" action="https://github.com/daihang1/-/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="‚úì">
      <label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text" class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" data-hotkey="s,/" name="q" value="" placeholder="Search or jump to‚Ä¶" data-unscoped-placeholder="Search or jump to‚Ä¶" data-scoped-placeholder="Search or jump to‚Ä¶" autocapitalize="off" aria-autocomplete="list" aria-controls="jump-to-results" aria-label="Search or jump to‚Ä¶" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations#csrf-token=YXcFOuq/8rnww/Ob9fnfxEpxFzqBjaV6JuKIdFCN8kbHoAZK89iVrVPPcrhNk0pvx6qI+EyAFI58Km8L0w/f7w==" spellcheck="false" autocomplete="off">
          <input type="hidden" class="js-site-search-type-field" name="type">
            <img src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/daihang1/-/new/master">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 00-1 1v14a1 1 0 001 1h13a1 1 0 001-1V1a1 1 0 00-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/daihang1/-/new/master" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/daihang1/-/new/master">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 00-1 1v14a1 1 0 001 1h13a1 1 0 001-1V1a1 1 0 00-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/daihang1/-/new/master" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/daihang1/-/new/master">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 00-1 1v14a1 1 0 001 1h13a1 1 0 001-1V1a1 1 0 00-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/daihang1/-/new/master" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <img src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
    </li>
</ul>

            </div>
      </label>
</form>  </div>
</div>


      <nav class="d-flex flex-column flex-lg-row flex-self-stretch flex-lg-self-auto" aria-label="Global">
    <a class="Header-link d-block d-lg-none py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="https://github.com/dashboard">
      Dashboard
</a>
  <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="https://github.com/pulls">
    Pull requests
</a>
  <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="https://github.com/issues">
    Issues
</a>
    <div class="mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15">
      <a class="js-selected-navigation-item Header-link" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="https://github.com/marketplace">
        Marketplace
</a>      

    </div>

  <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="https://github.com/explore">
    Explore
</a>


    <a class="Header-link d-block d-lg-none mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" href="https://github.com/daihang1">
      <img class="avatar" height="20" width="20" alt="@daihang1" src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/49648247">
      daihang1
</a>
    <!-- '"` --><!-- </textarea></xmp> --><form action="https://github.com/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="D+SA3UqeW9lu7i9du1+5lopRRmm4T1W3MCMAfUAdf5I4x9LIlpwLJH8UymTjT8kJghM/o648MzVCQ2n7QTInvg==">
      <button type="submit" class="Header-link mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15 d-lg-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9V7H8V5h4V3l4 3-4 3zm-2 3H6V3L2 1h8v3h1V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v11.38c0 .39.22.73.55.91L6 16.01V13h4c.55 0 1-.45 1-1V8h-1v4z"></path></svg>
        Sign out
      </button>
</form></nav>

    </div>

    <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative">
      <div class="css-truncate css-truncate-target width-fit position-absolute left-0 right-0 text-center">
              <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
    <a class="Header-link" href="https://github.com/daihang1">daihang1</a>
    /
    <a class="Header-link" href="https://github.com/daihang1/-">-</a>

</div>
    </div>


    <div class="Header-item mr-0 mr-lg-3 flex-order-1 flex-lg-order-none">
      

    <a aria-label="You have no unread notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="notification-changed:49648247" href="https://github.com/notifications">
        <span class="mail-status "></span>
        <svg class="octicon octicon-bell" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z"></path></svg>
</a>
    </div>


    <div class="Header-item position-relative d-none d-lg-flex">
      <details class="details-overlay details-reset">
  <summary class="Header-link" aria-label="Create new‚Ä¶" data-ga-click="Header, create new, icon:add" aria-haspopup="menu" role="button">
    <svg class="octicon octicon-plus" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"></path></svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw" role="menu">
    
<a role="menuitem" class="dropdown-item" href="https://github.com/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="https://github.com/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="https://github.com/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>


  <div role="none" class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="daihang1/-">This repository</span>
  </div>
    <a role="menuitem" class="dropdown-item" href="https://github.com/daihang1/-/issues/new" data-ga-click="Header, create new issue" data-skip-pjax="">
      New issue
    </a>


  </details-menu>
</details>

    </div>

    <div class="Header-item position-relative mr-0 d-none d-lg-flex">
      
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/daihang1/feature_preview/indicator_check.json">

  <summary class="Header-link" aria-label="View profile and more" data-ga-click="Header, show menu, icon:avatar" aria-haspopup="menu" role="button">
    <img alt="@daihang1" class="avatar" src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/49648247(1)" height="20" width="20">
      <span class="feature-preview-indicator js-feature-preview-indicator"></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-2" style="width: 180px" role="menu">
    <div class="header-nav-current-user css-truncate"><a role="menuitem" class="no-underline user-profile-link px-3 pt-2 pb-2 mb-n2 mt-n1 d-block" href="https://github.com/daihang1" data-ga-click="Header, go to profile, text:Signed in as">Signed in as <strong class="css-truncate-target">daihang1</strong></a></div>
    <div role="none" class="dropdown-divider"></div>

      <div class="pl-3 pr-3 f6 user-status-container js-user-status-context pb-1" data-url="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1">
        
<div class="js-user-status-container
    user-status-compact rounded-1 px-2 py-1 mt-2
    border
  " data-team-hovercards-enabled="">
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block link-gray no-underline js-toggle-user-status-edit toggle-user-status-edit " role="menuitem" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:49648247,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:49648247,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;}}" data-hydro-click-hmac="dd3f6d784d8e3ce7897733f5dc81d46dce35c92f1b9b8a404226d966d0d46cd4">
      <div class="d-flex">
        <div class="f6 lh-condensed user-status-header
          d-inline-block v-align-middle
            user-status-emoji-only-header circle
            pr-2
" style="max-width: 29px">
          <div class="user-status-emoji-container flex-shrink-0 mr-1 mt-1 lh-condensed-ultra v-align-bottom" style="">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4.81 12.81a6.72 6.72 0 01-2.17 1.45c-.83.36-1.72.53-2.64.53-.92 0-1.81-.17-2.64-.53-.81-.34-1.55-.83-2.17-1.45a6.773 6.773 0 01-1.45-2.17A6.59 6.59 0 011.21 8c0-.92.17-1.81.53-2.64.34-.81.83-1.55 1.45-2.17.62-.62 1.36-1.11 2.17-1.45A6.59 6.59 0 018 1.21c.92 0 1.81.17 2.64.53.81.34 1.55.83 2.17 1.45.62.62 1.11 1.36 1.45 2.17.36.83.53 1.72.53 2.64 0 .92-.17 1.81-.53 2.64-.34.81-.83 1.55-1.45 2.17zM4 6.8v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2H5.2C4.53 8 4 7.47 4 6.8zm5 0v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2h-.59C9.53 8 9 7.47 9 6.8zm4 3.2c-.72 1.88-2.91 3-5 3s-4.28-1.13-5-3c-.14-.39.23-1 .66-1h8.59c.41 0 .89.61.75 1z"></path></svg>
          </div>
        </div>
        <div class="
          d-inline-block v-align-middle
          
          
           css-truncate css-truncate-target 
           user-status-message-wrapper f6" style="line-height: 20px;">
          <div class="d-inline-block text-gray-dark v-align-text-top text-left">
              <span class="text-gray ml-2">Set status</span>
          </div>
        </div>
      </div>
    </summary>
    <details-dialog class="details-dialog rounded-1 anim-fade-in fast Box Box--overlay" role="dialog" tabindex="-1" aria-modal="true">
      <!-- '"` --><!-- </textarea></xmp> --><form class="position-relative flex-auto js-user-status-form" action="https://github.com/users/status?compact=1&amp;link_mentions=0&amp;truncate=1" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="6Fb38T1Hdyj2NMY7SL6M87dQC5r9rrwGqXUFlxET65wL5wQ1lpM4ntaHj4CFfMAk09PNs8ARlekyiyZqJqdklA==">
        <div class="Box-header bg-gray border-bottom p-3">
          <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog="">
            <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
          </button>
          <h3 class="Box-title f5 text-bold text-gray-dark">Edit status</h3>
        </div>
        <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
        <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
        <div class="px-3 py-2 text-gray-dark">
          <div class="js-characters-remaining-container position-relative mt-2">
            <div class="input-group d-table form-group my-0 js-user-status-form-group">
              <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
                <button type="button" aria-label="Choose an emoji" class="btn-outline btn js-toggle-user-status-emoji-picker btn-open-emoji-picker p-0">
                  <span class="js-user-status-original-emoji" hidden=""></span>
                  <span class="js-user-status-custom-emoji"></span>
                  <span class="js-user-status-no-emoji-icon">
                    <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4.81 12.81a6.72 6.72 0 01-2.17 1.45c-.83.36-1.72.53-2.64.53-.92 0-1.81-.17-2.64-.53-.81-.34-1.55-.83-2.17-1.45a6.773 6.773 0 01-1.45-2.17A6.59 6.59 0 011.21 8c0-.92.17-1.81.53-2.64.34-.81.83-1.55 1.45-2.17.62-.62 1.36-1.11 2.17-1.45A6.59 6.59 0 018 1.21c.92 0 1.81.17 2.64.53.81.34 1.55.83 2.17 1.45.62.62 1.11 1.36 1.45 2.17.36.83.53 1.72.53 2.64 0 .92-.17 1.81-.53 2.64-.34.81-.83 1.55-1.45 2.17zM4 6.8v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2H5.2C4.53 8 4 7.47 4 6.8zm5 0v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2h-.59C9.53 8 9 7.47 9 6.8zm4 3.2c-.72 1.88-2.91 3-5 3s-4.28-1.13-5-3c-.14-.39.23-1 .66-1h8.59c.41 0 .89.61.75 1z"></path></svg>
                  </span>
                </button>
              </span>
              <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
                <input type="text" autocomplete="off" data-no-org-url="/autocomplete/user-suggestions" data-org-url="/suggestions?mention_suggester=1" data-maxlength="80" class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field" placeholder="What&#39;s happening?" name="message" value="" aria-label="What is your current status?">
              </text-expander>
              <div class="error">Could not update your status, please try again.</div>
            </div>
            <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden="">
              80 remaining
            </div>
          </div>
          <include-fragment class="js-user-status-emoji-picker" data-url="/users/status/emoji"></include-fragment>
          <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
            <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
              <h4 class="f6 text-normal my-3">Suggestions:</h4>
              <div class="mx-3 mt-2 clearfix">
                  <div class="float-left col-6">
                      <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">üå¥</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          On vacation
                        </div>
                      </button>
                      <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">ü§í</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Out sick
                        </div>
                      </button>
                  </div>
                  <div class="float-left col-6">
                      <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">üè†</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Working from home
                        </div>
                      </button>
                      <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">üéØ</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Focusing
                        </div>
                      </button>
                  </div>
              </div>
            </div>
            <div class="user-status-limited-availability-container">
              <div class="form-checkbox my-0">
                <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-true-compact-true" id="limited-availability-truncate-true-compact-true">
                <label class="d-block f5 text-gray-dark mb-1" for="limited-availability-truncate-true-compact-true">
                  Busy
                </label>
                <p class="note" id="limited-availability-help-text-truncate-true-compact-true">
                  When others mention you, assign you, or request your review,
                  GitHub will let them know that you have limited availability.
                </p>
              </div>
            </div>
          </div>
            

<div class="d-inline-block f5 mr-2 pt-3 pb-2">
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
    <summary class="f5 btn-link link-gray-dark border px-2 py-1 rounded-1" aria-haspopup="true">
      <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
    </summary>

    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2019-12-28T12:39:00+08:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2019-12-28T13:09:00+08:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2019-12-28T16:09:00+08:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2019-12-28T23:59:59+08:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2019-12-29T23:59:59+08:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

          <include-fragment class="js-user-status-org-picker" data-url="/users/status/organizations"></include-fragment>
        </div>
        <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
          <button type="submit" disabled="" class="width-full btn btn-primary mr-2 js-user-status-submit">
            Set status
          </button>
          <button type="button" disabled="" class="width-full js-clear-user-status-button btn ml-2 ">
            Clear status
          </button>
        </div>
</form>    </details-dialog>
  </details>
</div>

      </div>
      <div role="none" class="dropdown-divider"></div>


    <a role="menuitem" class="dropdown-item" href="https://github.com/daihang1" data-ga-click="Header, go to profile, text:your profile">Your profile</a>

    <a role="menuitem" class="dropdown-item" href="https://github.com/daihang1?tab=repositories" data-ga-click="Header, go to repositories, text:your repositories">Your repositories</a>

    <a role="menuitem" class="dropdown-item" href="https://github.com/daihang1?tab=projects" data-ga-click="Header, go to projects, text:your projects">Your projects</a>

    <a role="menuitem" class="dropdown-item" href="https://github.com/daihang1?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">Your stars</a>
      <a role="menuitem" class="dropdown-item" href="https://gist.github.com/mine" data-ga-click="Header, your gists, text:your gists">Your gists</a>





    <div role="none" class="dropdown-divider"></div>
      
<div id="feature-enrollment-toggle" class="hide-sm hide-md feature-preview-details position-relative">
  <button type="button" class="dropdown-item btn-link" role="menuitem" data-feature-preview-trigger-url="/users/daihang1/feature_previews" data-feature-preview-close-details="{&quot;event_type&quot;:&quot;feature_preview.clicks.close_modal&quot;,&quot;payload&quot;:{&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-feature-preview-close-hmac="6e0b3f9050bf9d8d761709e44f0f843659d149fa8641dd03b6d94f455a6b9618" data-hydro-click="{&quot;event_type&quot;:&quot;feature_preview.clicks.open_modal&quot;,&quot;payload&quot;:{&quot;link_location&quot;:&quot;user_dropdown&quot;,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-hydro-click-hmac="cf2cc2869e83d8959730a38c3f2ad1d595164711041743043e6867fae790f5f0">
    Feature preview
  </button>
    <span class="feature-preview-indicator js-feature-preview-indicator"></span>
</div>

    <a role="menuitem" class="dropdown-item" href="https://help.github.com/" data-ga-click="Header, go to help, text:help">Help</a>
    <a role="menuitem" class="dropdown-item" href="https://github.com/settings/profile" data-ga-click="Header, go to settings, icon:settings">Settings</a>
    <!-- '"` --><!-- </textarea></xmp> --><form class="logout-form" action="https://github.com/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="PknFFVQHPyU/syFRdRWeV9g16/JiMIEPo1t/AaHpY3YJapcAiAVv2C5JxGgtBe7I0HeSOHRD543ROxaHoMY7Wg==">
      
      <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout" role="menuitem">
        Sign out
      </button>
      <input type="text" name="required_field_035b" hidden="hidden" class="form-control">
<input type="hidden" name="timestamp" value="1577506140225" class="form-control">
<input type="hidden" name="timestamp_secret" value="df058cca7d182756349874fc61200062c53063b33c77b49def371afa9c27112e" class="form-control">

</form>  </details-menu>
</details>

    </div>

  </header>

      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>


    <div id="js-flash-container">

</div>



  <div class="application-main " data-commit-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" data-pjax-container="">
      

  

      <div class="border-bottom shelf intro-shelf js-notice mb-0 pb-4">
  <div class="width-full container">
    <div class="width-full mx-auto shelf-content">
      <h2 class="shelf-title">Learn Git and GitHub without any code!</h2>
      <p class="shelf-lead">
          Using the Hello World guide, you‚Äôll start a branch, write comments, and open a pull request.
      </p>
      <a class="btn btn-primary shelf-cta" target="_blank" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;READ_GUIDE&quot;,&quot;repository_id&quot;:230556340,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-hydro-click-hmac="8387701097f4c7c004ae9f06520b3077651e3b2dd028b653be775eb03529d7e1" href="https://guides.github.com/activities/hello-world/">Read the guide</a>
    </div>
    <!-- '"` --><!-- </textarea></xmp> --><form class="shelf-dismiss js-notice-dismiss" action="https://github.com/dashboard/dismiss_bootcamp" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="_method" value="delete"><input type="hidden" name="authenticity_token" value="38Axe8+OZJqcJDXNlsmLyOSD7uZ/rhxxFL8rdam6Wrzq+zOTTORF0TrNAZGYk9NCr64aG6MYtTKOULVWRIZR1A==">
      <button name="button" type="submit" class="mr-1 close-button tooltipped tooltipped-w" aria-label="Hide this notice forever" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;DISMISS_BANNER&quot;,&quot;repository_id&quot;:230556340,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-hydro-click-hmac="5def21c4b61c7db7a646f5e47034e67b7860f713386f1cbcd4e723c0ef2ac139">
        <svg aria-label="Hide this notice forever" class="octicon octicon-x v-align-text-top" viewBox="0 0 12 16" version="1.1" width="12" height="16" role="img"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
</button></form>  </div>
</div>










  <div class=" pagehead repohead readability-menu experiment-repo-nav pt-0 pt-lg-4 ">
    <div class="repohead-details-container clearfix container-lg p-responsive d-none d-lg-block">

      <ul class="pagehead-actions">




  <li>
    
    <!-- '"` --><!-- </textarea></xmp> --><form data-remote="true" class="clearfix js-social-form js-social-container" action="https://github.com/notifications/subscribe" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="JJQckR3WcYbjPctF5jlwUXhT1DD3yBV1BiQuUlpn8l6yIRjCWA5G8QN7fWj5m60hlZ/go16lbdHHuBgIJcdjdg==">      <input type="hidden" name="repository_id" value="230556340">

      <details class="details-reset details-overlay select-menu float-left">
        <summary class="select-menu-button float-left btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:230556340,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-hydro-click-hmac="50932ca79c6be643865e7da61d0a5bf2c1c3562dc9f93b583828f94f1fb7689f" data-ga-click="Repository, click Watch settings, action:blob#new" aria-haspopup="menu" role="button">          <span data-menu-button="">
              <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
              Unwatch
          </span>
</summary>        <details-menu class="select-menu-modal position-absolute mt-5" style="z-index: 99;" role="menu">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
          </div>
          <div class="select-menu-list">
            <button type="submit" name="do" value="included" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Not watching</span>
                <span class="description">Be notified only when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents="">
                  <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                  Watch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="release_only" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Releases only</span>
                <span class="description">Be notified of new releases, and when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents="">
                  <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                  Unwatch releases
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="subscribed" class="select-menu-item width-full" aria-checked="true" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Watching</span>
                <span class="description">Be notified of all conversations.</span>
                <span class="hidden-select-button-text" data-menu-button-contents="">
                  <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                  Unwatch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="ignore" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Ignoring</span>
                <span class="description">Never be notified.</span>
                <span class="hidden-select-button-text" data-menu-button-contents="">
                  <svg class="octicon octicon-mute v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"></path></svg>
                  Stop ignoring
                </span>
              </div>
            </button>
          </div>
        </details-menu>
      </details>
        <a class="social-count js-social-count" href="https://github.com/daihang1/-/watchers" aria-label="1 user is watching this repository">
          1
        </a>
</form>
  </li>

  <li>
      <div class="js-toggler-container js-social-container starring-container ">
    <form class="starred js-social-form" action="https://github.com/daihang1/-/unstar" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="K7tMG3rCOuG5Ler4+CY5zbB/t9Zvlvc18ZWFGIOskG3FfO6/Dy/6MibZ+/JedagHzLLZPOa4nRtXh0N+WGJvGQ==">
      <input type="hidden" name="context" value="repository">
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this repository" title="Unstar daihang1/-" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:230556340,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-hydro-click-hmac="825074c82849a392502b5bdeeb74b6754937da5ea40ceba0e6643043b51c5612" data-ga-click="Repository, click unstar button, action:blob#new; text:Unstar">        <svg aria-label="star" height="16" class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" role="img"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path></svg>

        Unstar
</button>        <a class="social-count js-social-count" href="https://github.com/daihang1/-/stargazers" aria-label="0 users starred this repository">
           0
        </a>
</form>
    <form class="unstarred js-social-form" action="https://github.com/daihang1/-/star" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="XLspO/dg7w+tFE8yhjEzYy4Bx2oEs8ZP6ZgbI6CgCfdQuZFHQbU8sXzs6aOu6+A33n/GsNVoBGsJ5zsMaB97og==">
      <input type="hidden" name="context" value="repository">
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this repository" title="Star daihang1/-" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:230556340,&quot;client_id&quot;:&quot;548403620.1577502245&quot;,&quot;originating_request_id&quot;:&quot;43E6:04C3:2BC48D1:3CFEF39:5E06D555&quot;,&quot;originating_url&quot;:&quot;https://github.com/daihang1/-/new/master&quot;,&quot;referrer&quot;:&quot;https://github.com/daihang1/-&quot;,&quot;user_id&quot;:49648247}}" data-hydro-click-hmac="2a183c7cfc0596f17c67e0b3fc9e3be9341f5b729e64397a1af2f9ad6888bc26" data-ga-click="Repository, click star button, action:blob#new; text:Star">        <svg aria-label="star" height="16" class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" role="img"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path></svg>

        Star
</button>        <a class="social-count js-social-count" href="https://github.com/daihang1/-/stargazers" aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
        <span class="btn btn-sm btn-with-count disabled tooltipped tooltipped-sw" aria-label="Cannot fork because you own this repository and are not a member of any organizations.">
          <svg class="octicon octicon-repo-forked v-align-text-bottom" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 00-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 002 1a1.993 1.993 0 00-1 3.72V6.5l3 3v1.78A1.993 1.993 0 005 15a1.993 1.993 0 001-3.72V9.5l3-3V4.72A1.993 1.993 0 008 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
          Fork
</span>
    <a href="https://github.com/daihang1/-/network/members" class="social-count" aria-label="0 users forked this repository">
      0
    </a>
  </li>
</ul>

      <h1 class="public ">
    <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/users/daihang1/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/daihang1">daihang1</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="https://github.com/daihang1/-">-</a></strong>
  

</h1>

    </div>
    
<nav class="hx_reponav reponav js-repo-nav js-sidenav-container-pjax container-lg p-responsive d-none d-lg-block" itemscope="" itemtype="http://schema.org/BreadcrumbList" aria-label="Repository" data-pjax="#js-repo-pjax-container">

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /daihang1/-" href="https://github.com/daihang1/-">
      <div class="d-inline"><svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg></div>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /daihang1/-/issues" href="https://github.com/daihang1/-/issues">
        <div class="d-inline"><svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 011.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>


  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" data-skip-pjax="true" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /daihang1/-/pulls" href="https://github.com/daihang1/-/pulls">
      <div class="d-inline"><svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0010 15a1.993 1.993 0 001-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 00-1 3.72v6.56A1.993 1.993 0 002 15a1.993 1.993 0 001-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg></div>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="4">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement" class="position-relative float-left">
      <a data-hotkey="g w" data-skip-pjax="true" class="js-selected-navigation-item reponav-item" data-selected-links="repo_actions /daihang1/-/actions" href="https://github.com/daihang1/-/actions">
        <div class="d-inline"><svg class="octicon octicon-play" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 8A7 7 0 110 8a7 7 0 0114 0zm-8.223 3.482l4.599-3.066a.5.5 0 000-.832L5.777 4.518A.5.5 0 005 4.934v6.132a.5.5 0 00.777.416z"></path></svg></div>
        Actions
</a>
    </span>

    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /daihang1/-/projects" href="https://github.com/daihang1/-/projects">
      <div class="d-inline"><svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 00-1 1v14a1 1 0 001 1h13a1 1 0 001-1V1a1 1 0 00-1-1z"></path></svg></div>
      Projects
      <span class="Counter">0</span>
</a>

    <a class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /daihang1/-/wiki" href="https://github.com/daihang1/-/wiki">
      <div class="d-inline"><svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg></div>
      Wiki
</a>
    <a data-skip-pjax="true" class="js-selected-navigation-item reponav-item" data-selected-links="security alerts policy code_scanning /daihang1/-/network/alerts" href="https://github.com/daihang1/-/network/alerts">
      <div class="d-inline"><svg class="octicon octicon-shield" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 2l7-2 7 2v6.02C14 12.69 8.69 16 7 16c-1.69 0-7-3.31-7-7.98V2zm1 .75L7 1l6 1.75v5.268C13 12.104 8.449 15 7 15c-1.449 0-6-2.896-6-6.982V2.75zm1 .75L7 2v12c-1.207 0-5-2.482-5-5.985V3.5z"></path></svg></div>
      Security
</a>
    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse people /daihang1/-/pulse" href="https://github.com/daihang1/-/pulse">
      <div class="d-inline"><svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg></div>
      Insights
</a>
    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_settings repo_branch_settings hooks integration_installations repo_keys_settings issue_template_editor secrets_settings key_links_settings /daihang1/-/settings" href="https://github.com/daihang1/-/settings">
      <div class="d-inline"><svg class="octicon octicon-gear" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></svg></div>
      Settings
</a>
</nav>

  <div class="reponav-wrapper reponav-small d-lg-none">
  <nav class="reponav js-reponav text-center no-wrap" itemscope="" itemtype="http://schema.org/BreadcrumbList">

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a class="js-selected-navigation-item selected reponav-item" itemprop="url" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /daihang1/-" href="https://github.com/daihang1/-">
        <span itemprop="name">Code</span>
        <meta itemprop="position" content="1">
</a>    </span>

      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /daihang1/-/issues" href="https://github.com/daihang1/-/issues">
          <span itemprop="name">Issues</span>
          <span class="Counter">0</span>
          <meta itemprop="position" content="2">
</a>      </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /daihang1/-/pulls" href="https://github.com/daihang1/-/pulls">
        <span itemprop="name">Pull requests</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="3">
</a>    </span>

      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /daihang1/-/projects" href="https://github.com/daihang1/-/projects">
          <span itemprop="name">Projects</span>
          <span class="Counter">0</span>
          <meta itemprop="position" content="4">
</a>      </span>

      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_wiki /daihang1/-/wiki" href="https://github.com/daihang1/-/wiki">
          <span itemprop="name">Wiki</span>
          <meta itemprop="position" content="5">
</a>      </span>

      <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="security alerts policy code_scanning /daihang1/-/network/alerts" href="https://github.com/daihang1/-/network/alerts">
        <span itemprop="name">Security</span>
        <meta itemprop="position" content="6">
</a>
      <a class="js-selected-navigation-item reponav-item" data-selected-links="pulse /daihang1/-/pulse" href="https://github.com/daihang1/-/pulse">
        Pulse
</a>
      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="community /daihang1/-/community" href="https://github.com/daihang1/-/community">
          Community
</a>      </span>

  </nav>
</div>


  </div>
<div class="container-lg clearfix new-discussion-timeline experiment-repo-nav  p-0">
  <div class="repository-content ">

    
    
  
    

    <div class="file-box ">
      <!-- '"` --><!-- </textarea></xmp> --><form class="d-none js-blob-preview-form" action="https://github.com/daihang1/-/preview/master" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="GgJoQwW88qIMTuZNXGj3F2HVwjGtfbVPyT74B2+uJoBG1a8hKE1aJT0vhYsY6y24cq1lGBsbrktvu5vGJAfC1w==">
        <input type="hidden" name="code" value="hdfsÁöÑÂÜôÊµÅÁ®ãÔºö1ÔºâË∑üNNÈÄö‰ø°ËØ∑Ê±Ç‰∏ä‰º†Êñá‰ª∂ÔºåNNÊ£ÄÊü•ÁõÆÊ†áÊñá‰ª∂ÊòØÂê¶Â≠òÂú®ÔºåÁà∂ÁõÆÂΩïÊòØÂê¶Â≠òÂú®2ÔºâNNËøîÂõûÊòØÂê¶ÂèØ‰ª•‰∏ä‰º†3Ôºâclient‰ºöÂÖàÂØπÊñá‰ª∂ËøõË°åÂàáÂàÜÔºåÊØîÂ¶Ç‰∏Ä‰∏™blockÂùó128MÔºåÊñá‰ª∂300MÂ∞±‰ºöË¢´ÂàáÂàÜÊàê3‰∏™ÂùóÔºå‰∏§‰∏™128MÔºå‰∏Ä‰∏™44M„ÄÇËØ∑Ê±ÇÁ¨¨‰∏Ä‰∏™blockËØ•‰º†ËæìÂà∞Âì™‰∫õDNÊúçÂä°Âô®‰∏ä„ÄÇ4ÔºâNNËøîÂõûDNÁöÑÊúçÂä°Âô®„ÄÇ5ÔºâclientËØ∑Ê±Ç‰∏Ä‰∏™Âè∞DN‰∏ä‰º†Êï∞ÊçÆÔºàRPCË∞ÉÁî®ÔºåÂª∫Á´ãpipelineÔºâÔºåÁ¨¨‰∏Ä‰∏™DNÊî∂Âà∞ËØ∑Ê±Ç‰ºöÁªßÁª≠Ë∞ÉÁî®Á¨¨‰∫å‰∏™DNÔºåÁÑ∂ÂêéÁ¨¨‰∫å‰∏™Ë∞ÉÁî®Á¨¨‰∏â‰∏™DN,Â∞ÜÊï¥‰∏™pipelineÂª∫Á´ãÂÆåÊàêÔºåÈÄêÁ∫ßËøîÂõûÂÆ¢Êà∑Á´Ø„ÄÇ6ÔºâclientÂºÄÂßã‰º†Ëæìblock(ÂÖà‰ªéÁ£ÅÁõòËØªÂèñÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Êú¨Âú∞ÂÜÖÂ≠òÁºìÂ≠ò)Ôºå‰ª•packet‰∏∫Âçï‰ΩçÔºà‰∏Ä‰∏™packet‰∏∫64kbÔºâ,ÂÜôÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôdatanode‰ºöËøõË°åÊï∞ÊçÆÊ†°È™åÔºåÂπ∂‰∏çÊòØÈÄöËøápacket‰∏∫Âçï‰ΩçÊ†°È™åÔºåËÄåÊòØ‰ª•chunk‰∏∫Âçï‰ΩçÊ†°È™åÔºà512byteÔºâ,Á¨¨‰∏Ä‰∏™DNÊî∂Âà∞Á¨¨‰∏Ä‰∏™packetÂ∞±‰ºö‰º†ÁªôÁ¨¨‰∫åÂè∞ÔºåÁ¨¨‰∫åÂè∞‰º†ÁªôÁ¨¨‰∏âÂè∞ÔºõÁ¨¨‰∏ÄÂè∞ÊØè‰º†‰∏Ä‰∏™packetÂ∞±‰ºöÊîæÂÖ•‰∏Ä‰∏™Â∫îÁ≠îÈòüÂàóÁ≠âÂæÖÂ∫îÁ≠î„ÄÇ7ÔºâÂΩì‰∏Ä‰∏™block‰º†ËæìÂÆåÊàêÊó∂ÔºåclientÂÜçÊ¨°ËØ∑Ê±ÇNN‰∏ä‰º†Á¨¨‰∫å‰∏™blockÁöÑÊúçÂä°Âô®„ÄÇhdfsÁöÑËØªÊµÅÁ®ãÔºö1ÔºâË∑üNNÈÄö‰ø°Êü•ËØ¢ÂÖÉÊï∞ÊçÆ(blockÊâÄÂú®ÁöÑDNÁöÑËäÇÁÇπ)ÔºåÊâæÂà∞Êñá‰ª∂ÂùóÊâÄÂú®ÁöÑDNÁöÑÊúçÂä°Âô®„ÄÇ2ÔºâÊåëÈÄâ‰∏ÄÂè∞DNÔºàÂ∞±ËøëÂéüÂàôÔºåÁÑ∂ÂêéÈöèÊú∫ÔºâÊúçÂä°Âô®ÔºåËØ∑Ê±ÇÂª∫Á´ãsocketÊµÅ„ÄÇ3ÔºâDNÂºÄÂßãÂèëÈÄÅÊï∞ÊçÆÔºà‰ªéÁ£ÅÁõòÈáåËØªÂèñÊï∞ÊçÆÊîæÂÖ•ÊµÅÔºå‰∏Äpacket‰∏∫Âçï‰ΩçÂÅöÊ†°È™åÔºâ4ÔºâÂÆ¢Êà∑Á´Ø‰ª•packet‰∏∫Âçï‰ΩçÊé•Êî∂ÔºåÁé∞Âú®Êú¨Âú∞ÁºìÂ≠òÔºåÁÑ∂ÂêéÂÜôÂÖ•ÁõÆÊ†áÊñá‰ª∂‰∏≠ÔºåÂêéÈù¢ÁöÑblockÂùóÂ∞±Áõ∏ÂΩì‰∫éappendÂà∞ÂâçÈù¢ÁöÑblockÂùóÔºåÊúÄÂêéÂêàÊàêÊúÄÁªàÈúÄË¶ÅÁöÑÊñá‰ª∂„ÄÇhdfsÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊµÅÁ®ãÔºö
	1. ÂÆ¢Êà∑Á´ØÈÄöËøáClientProtocolÂçèËÆÆÂêëRpcServerÂèëËµ∑ÂàõÂª∫Êñá‰ª∂ÁöÑRPCËØ∑Ê±Ç„ÄÇ
	2. FSNamesystemÂ∞ÅË£Ö‰∫ÜÂêÑÁßçHDFSÊìç‰ΩúÁöÑÂÆûÁé∞ÁªÜËäÇÔºåRpcServerË∞ÉÁî®FSNamesystem‰∏≠ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï‰ª•ÂàõÂª∫ÁõÆÂΩï„ÄÇ
	3. Ëøõ‰∏ÄÊ≠•ÁöÑÔºåFSDirectoryÂ∞ÅË£Ö‰∫ÜÂêÑÁßçÁõÆÂΩïÊ†ëÊìç‰ΩúÁöÑÂÆûÁé∞ÁªÜËäÇÔºåFSNamesystemË∞ÉÁî®FSDirectory‰∏≠ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÂú®ÁõÆÂΩïÊ†ë‰∏≠ÂàõÂª∫ÁõÆÊ†áÊñá‰ª∂ÔºåÂπ∂ÈÄöËøáÊó•ÂøóÁ≥ªÁªüÂ§á‰ªΩÊñá‰ª∂Á≥ªÁªüÁöÑ‰øÆÊîπ„ÄÇ
	4. ÊúÄÂêéÔºåRpcServerÂ∞ÜRPCÂìçÂ∫îËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ

hadoop1.xÂíåhadoop2.xÁöÑÂå∫Âà´Ôºö
	1. ËµÑÊ∫êË∞ÉÂ∫¶ÊñπÂºèÁöÑÊîπÂèòÂú®1.x, ‰ΩøÁî®JobtrackerË¥üË¥£‰ªªÂä°Ë∞ÉÂ∫¶ÂíåËµÑÊ∫êÁÆ°ÁêÜ,ÂçïÁÇπË¥üÊãÖËøáÈáç,Âú®2.x‰∏≠,Êñ∞Â¢û‰∫Üyarn‰Ωú‰∏∫ÈõÜÁæ§ÁöÑË∞ÉÂ∫¶Â∑•ÂÖ∑.Âú®yarn‰∏≠,‰ΩøÁî®ResourceManagerËøõË°å ËµÑÊ∫êÁÆ°ÁêÜ, ÂçïÁã¨ÂºÄÂêØ‰∏Ä‰∏™Container‰Ωú‰∏∫ApplicationMasterÊù•ËøõË°å‰ªªÂä°ÁÆ°ÁêÜ.
	2. HAÊ®°ÂºèÂú®1.x‰∏≠Ê≤°ÊúâHAÊ®°Âºè,ÈõÜÁæ§‰∏≠Âè™Êúâ‰∏Ä‰∏™NameNode,ËÄåÂú®2.x‰∏≠ÂèØ‰ª•ÂêØÁî®HAÊ®°Âºè,Â≠òÂú®‰∏Ä‰∏™Active NameNode ÂíåStandby NameNode.
	3. HDFS FederationHadoop 2.0‰∏≠ÂØπHDFSËøõË°å‰∫ÜÊîπËøõÔºå‰ΩøNameNodeÂèØ‰ª•Ê®™ÂêëÊâ©Â±ïÊàêÂ§ö‰∏™ÔºåÊØè‰∏™NameNodeÂàÜÁÆ°‰∏ÄÈÉ®ÂàÜÁõÆÂΩïÔºåËøõËÄå‰∫ßÁîü‰∫ÜHDFS FederationÔºåËØ•Êú∫Âà∂ÁöÑÂºïÂÖ•‰∏ç‰ªÖÂ¢ûÂº∫‰∫ÜHDFSÁöÑÊâ©Â±ïÊÄßÔºå‰πü‰ΩøHDFSÂÖ∑Â§á‰∫ÜÈöîÁ¶ªÊÄß

hadoopÁöÑÂ∏∏Áî®ÈÖçÁΩÆÊñá‰ª∂ÊúâÂì™‰∫õÔºö
	* hadoop-env.sh: Áî®‰∫éÂÆö‰πâhadoopËøêË°åÁéØÂ¢ÉÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÊØîÂ¶ÇÈÖçÁΩÆJAVA_HOMEÁéØÂ¢ÉÂèòÈáè„ÄÅ‰∏∫hadoopÁöÑJVMÊåáÂÆöÁâπÂÆöÁöÑÈÄâÈ°π„ÄÅÊåáÂÆöÊó•ÂøóÊñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩïË∑ØÂæÑ‰ª•ÂèämasterÂíåslaveÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÁ≠âÔºõ
	* core-site.xml: Áî®‰∫éÂÆö‰πâÁ≥ªÁªüÁ∫ßÂà´ÁöÑÂèÇÊï∞ÔºåÂ¶ÇHDFS URL„ÄÅHadoopÁöÑ‰∏¥Êó∂ÁõÆÂΩï‰ª•ÂèäÁî®‰∫érack-awareÈõÜÁæ§‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÁöÑÈÖçÁΩÆÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñcore-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ
	* hdfs-site.xml: HDFSÁöÑÁõ∏ÂÖ≥ËÆæÂÆöÔºåÂ¶ÇÊñá‰ª∂ÂâØÊú¨ÁöÑ‰∏™Êï∞„ÄÅÂùóÂ§ßÂ∞èÂèäÊòØÂê¶‰ΩøÁî®Âº∫Âà∂ÊùÉÈôêÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñhdfs-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ
	* mapred-site.xmlÔºöHDFSÁöÑÁõ∏ÂÖ≥ËÆæÂÆöÔºåÂ¶Çreduce‰ªªÂä°ÁöÑÈªòËÆ§‰∏™Êï∞„ÄÅ‰ªªÂä°ÊâÄËÉΩÂ§ü‰ΩøÁî®ÂÜÖÂ≠òÁöÑÈªòËÆ§‰∏ä‰∏ãÈôêÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñmapred-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ

hadoopÁöÑ‰ºòÂåñÔºö     1)HDFSÂ∞èÊñá‰ª∂ÂΩ±Âìç          a.ÂΩ±ÂìçNameNodeÁöÑÂØøÂëΩÔºåÂõ†‰∏∫Êñá‰ª∂ÂÖÉÊï∞ÊçÆÂ≠òÂÇ®Âú®NameNodeÁöÑÂÜÖÂ≠ò‰∏≠          b.ÂΩ±ÂìçËÆ°ÁÆóÂºïÊìéÁöÑ‰ªªÂä°Êï∞ÈáèÔºåÊØîÂ¶ÇÊØè‰∏™Â∞èÁöÑÊñá‰ª∂ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™Map‰ªªÂä°     2)Êï∞ÊçÆËæìÂÖ•Â∞èÊñá‰ª∂Â§ÑÁêÜÔºö          a.ÂêàÂπ∂Â∞èÊñá‰ª∂ÔºöÂØπÂ∞èÊñá‰ª∂ËøõË°åÂΩíÊ°£ÔºàHarÔºâ„ÄÅËá™ÂÆö‰πâInputformatÂ∞ÜÂ∞èÊñá‰ª∂Â≠òÂÇ®ÊàêSequenceFileÊñá‰ª∂„ÄÇ          b.ÈááÁî®ConbinFileInputFormatÊù•‰Ωú‰∏∫ËæìÂÖ•ÔºåËß£ÂÜ≥ËæìÂÖ•Á´ØÂ§ßÈáèÂ∞èÊñá‰ª∂Âú∫ÊôØ„ÄÇ          c.ÂØπ‰∫éÂ§ßÈáèÂ∞èÊñá‰ª∂JobÔºåÂèØ‰ª•ÂºÄÂêØJVMÈáçÁî®„ÄÇ     3)MapÈò∂ÊÆµ          a.Â¢ûÂ§ßÁéØÂΩ¢ÁºìÂÜ≤Âå∫Â§ßÂ∞è„ÄÇÁî±100mÊâ©Â§ßÂà∞200m          b.Â¢ûÂ§ßÁéØÂΩ¢ÁºìÂÜ≤Âå∫Ê∫¢ÂÜôÁöÑÊØî‰æã„ÄÇÁî±80%Êâ©Â§ßÂà∞90%          c.ÂáèÂ∞ëÂØπÊ∫¢ÂÜôÊñá‰ª∂ÁöÑmergeÊ¨°Êï∞„ÄÇ          d.‰∏çÂΩ±ÂìçÂÆûÈôÖ‰∏öÂä°ÁöÑÂâçÊèê‰∏ãÔºåÈááÁî®CombinerÊèêÂâçÂêàÂπ∂ÔºåÂáèÂ∞ë I/O„ÄÇ     4)ReduceÈò∂ÊÆµ          a.ÂêàÁêÜËÆæÁΩÆMapÂíåReduceÊï∞Ôºö‰∏§‰∏™ÈÉΩ‰∏çËÉΩËÆæÁΩÆÂ§™Â∞ëÔºå‰πü‰∏çËÉΩËÆæÁΩÆÂ§™Â§ö„ÄÇÂ§™Â∞ëÔºå‰ºöÂØºËá¥TaskÁ≠âÂæÖÔºåÂª∂ÈïøÂ§ÑÁêÜÊó∂Èó¥ÔºõÂ§™Â§öÔºå‰ºöÂØºËá¥ Map„ÄÅReduce‰ªªÂä°Èó¥Á´û‰∫âËµÑÊ∫êÔºåÈÄ†ÊàêÂ§ÑÁêÜË∂ÖÊó∂Á≠âÈîôËØØ„ÄÇ          b.ËÆæÁΩÆMap„ÄÅReduceÂÖ±Â≠òÔºöË∞ÉÊï¥slowstart.completedmapsÂèÇÊï∞Ôºå‰ΩøMapËøêË°åÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÂêéÔºåReduce‰πüÂºÄÂßãËøêË°åÔºåÂáèÂ∞ëReduceÁöÑÁ≠âÂæÖÊó∂Èó¥„ÄÇ          c.ËßÑÈÅø‰ΩøÁî®ReduceÔºåÂõ†‰∏∫ReduceÂú®Áî®‰∫éËøûÊé•Êï∞ÊçÆÈõÜÁöÑÊó∂ÂÄôÂ∞Ü‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÁΩëÁªúÊ∂àËÄó„ÄÇ          d.Â¢ûÂä†ÊØè‰∏™ReduceÂéªMap‰∏≠ÊãøÊï∞ÊçÆÁöÑÂπ∂Ë°åÊï∞          e.ÈõÜÁæ§ÊÄßËÉΩÂèØ‰ª•ÁöÑÂâçÊèê‰∏ãÔºåÂ¢ûÂ§ßReduceÁ´ØÂ≠òÂÇ®Êï∞ÊçÆÂÜÖÂ≠òÁöÑÂ§ßÂ∞è„ÄÇ     5)IO‰º†Ëæì          a.ÈááÁî®Êï∞ÊçÆÂéãÁº©ÁöÑÊñπÂºèÔºåÂáèÂ∞ëÁΩëÁªúIOÁöÑÁöÑÊó∂Èó¥„ÄÇÂÆâË£ÖSnappyÂíåLZOPÂéãÁº©ÁºñÁ†ÅÂô®„ÄÇ          b.‰ΩøÁî®SequenceFile‰∫åËøõÂà∂Êñá‰ª∂     6)Êï¥‰Ωì          a.MapTaskÈªòËÆ§ÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫1GÔºåÂèØ‰ª•Â¢ûÂä†MapTaskÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫4-5g          b.ReduceTaskÈªòËÆ§ÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫1GÔºåÂèØ‰ª•Â¢ûÂä†ReduceTaskÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫4-5g          c.ÂèØ‰ª•Â¢ûÂä†MapTaskÁöÑcpuÊ†∏Êï∞ÔºåÂ¢ûÂä†ReduceTaskÁöÑCPUÊ†∏Êï∞          d.Â¢ûÂä†ÊØè‰∏™ContainerÁöÑCPUÊ†∏Êï∞ÂíåÂÜÖÂ≠òÂ§ßÂ∞è          e.Ë∞ÉÊï¥ÊØè‰∏™Map TaskÂíåReduce TaskÊúÄÂ§ßÈáçËØïÊ¨°Êï∞ÁÆÄÁ≠îËØ¥‰∏Ä‰∏ãhadoopÁöÑmap-reduceÁºñÁ®ãÊ®°Âûã:È¶ñÂÖàmap task‰ºö‰ªéÊú¨Âú∞Êñá‰ª∂Á≥ªÁªüËØªÂèñÊï∞ÊçÆÔºåËΩ¨Êç¢Êàêkey-valueÂΩ¢ÂºèÁöÑÈîÆÂÄºÂØπÈõÜÂêà‰ΩøÁî®ÁöÑÊòØhadoopÂÜÖÁΩÆÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊØîÂ¶Çlongwritable„ÄÅtextÁ≠âÂ∞ÜÈîÆÂÄºÂØπÈõÜÂêàËæìÂÖ•mapperËøõË°å‰∏öÂä°Â§ÑÁêÜËøáÁ®ãÔºåÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêÈúÄË¶ÅÁöÑkey-valueÂú®ËæìÂá∫‰πãÂêé‰ºöËøõË°å‰∏Ä‰∏™partitionÂàÜÂå∫Êìç‰ΩúÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØhashpartitionerÔºåÂèØ‰ª•ÈÄöËøáÈáçÂÜôhashpartitionerÁöÑgetpartitionÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÂàÜÂå∫ËßÑÂàô‰πãÂêé‰ºöÂØπkeyËøõË°åËøõË°åsortÊéíÂ∫èÔºågroupingÂàÜÁªÑÊìç‰ΩúÂ∞ÜÁõ∏ÂêåkeyÁöÑvalueÂêàÂπ∂ÂàÜÁªÑËæìÂá∫ÔºåÂú®ËøôÈáåÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÈáçÂÜôWritableComparatorÁöÑComparatorÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÊéíÂ∫èËßÑÂàôÔºåÈáçÂÜôRawComparatorÁöÑcomparaÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÂàÜÁªÑËßÑÂàô‰πãÂêéËøõË°å‰∏Ä‰∏™combinerÂΩíÁ∫¶Êìç‰ΩúÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™Êú¨Âú∞ÊÆµÁöÑreduceÈ¢ÑÂ§ÑÁêÜÔºå‰ª•ÂáèÂ∞èÂêéÈù¢shufleÂíåreducerÁöÑÂ∑•‰ΩúÈáèreduce task‰ºöÈÄöËøáÁΩëÁªúÂ∞ÜÂêÑ‰∏™Êï∞ÊçÆÊî∂ÈõÜËøõË°åreduceÂ§ÑÁêÜÔºåÊúÄÂêéÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÊàñËÄÖÊòæÁ§∫ÔºåÁªìÊùüÊï¥‰∏™jobhadoopÁöÑTextInputFormat‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºåÂ¶Ç‰ΩïËá™ÂÆö‰πâÂÆûÁé∞:InputFormat‰ºöÂú®mapÊìç‰Ωú‰πãÂâçÂØπÊï∞ÊçÆËøõË°å‰∏§ÊñπÈù¢ÁöÑÈ¢ÑÂ§ÑÁêÜ 1ÊòØgetSplitsÔºåËøîÂõûÁöÑÊòØInputSplitÊï∞ÁªÑÔºåÂØπÊï∞ÊçÆËøõË°åsplitÂàÜÁâáÔºåÊØèÁâá‰∫§ÁªômapÊìç‰Ωú‰∏ÄÊ¨° 2ÊòØgetRecordReaderÔºåËøîÂõûÁöÑÊòØRecordReaderÂØπË±°ÔºåÂØπÊØè‰∏™splitÂàÜÁâáËøõË°åËΩ¨Êç¢‰∏∫key-valueÈîÆÂÄºÂØπÊ†ºÂºè‰º†ÈÄíÁªômapÂ∏∏Áî®ÁöÑInputFormatÊòØTextInputFormatÔºå‰ΩøÁî®ÁöÑÊòØLineRecordReaderÂØπÊØè‰∏™ÂàÜÁâáËøõË°åÈîÆÂÄºÂØπÁöÑËΩ¨Êç¢Ôºå‰ª•Ë°åÂÅèÁßªÈáè‰Ωú‰∏∫ÈîÆÔºåË°åÂÜÖÂÆπ‰Ωú‰∏∫ÂÄºËá™ÂÆö‰πâÁ±ªÁªßÊâøInputFormatÊé•Âè£ÔºåÈáçÂÜôcreateRecordReaderÂíåisSplitableÊñπÊ≥ï Âú®createRecordReader‰∏≠ÂèØ‰ª•Ëá™ÂÆö‰πâÂàÜÈöîÁ¨¶hadoopÂÆûÁé∞joinÁöÑÂá†ÁßçÊñπÂºèÔºö1„ÄÅÂú®reducerÁ´ØËøõË°åjoinÔºömapÁ´ØÂêåÊó∂ËØªÂèñ‰∏§‰∏™Êñá‰ª∂ËøõË°åÊâìÊ†áÁ≠æÔºåÂú® reducerÁ´ØÊää‰∏§‰∏™‰∏çÂêåÊñá‰ª∂ÁöÑkeyÁõ∏ÂêåÁöÑvalueËøõË°åjoinÔºàÁ¨õÂç°Â∞îÁßØÔºâÔºåÂç≥reducerÁ´Ø ËøõË°åÂÆûÈôÖÁöÑjoinÔºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑshuffleÔºå‰ΩéÊïàÁöÑ „ÄÇ2„ÄÅÂú®mapÁ´ØËøõË°åjoinÔºöÊòØÈíàÂØπ‰∏§‰∏™ÂæÖËøûÊé•Ë°®Ôºå‰∏Ä‰∏™Â§ßË°®Âíå‰∏Ä‰∏™Â∞èË°®ÔºåÂ∞èË°®ÈùûÂ∏∏Â∞èÔºåË∂≥Â§üÁõ¥Êé•Â≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠„ÄÇËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Â§çÂà∂Â§ö‰ªΩÔºåËÆ©ÊØè‰∏™mapÁöÑtaskÂÜÖÂ≠ò‰∏≠Â≠òÂú®‰∏Ä‰ªΩÔºàÊØîÂ¶ÇÂ≠òÊîæÂà∞hash table‰∏≠ÔºâÔºåÁÑ∂ÂêéÂè™Êâ´ÊèèÂ§ßË°®ÔºåÂØπ‰∫éÂ§ßË°® ‰∏≠ÊØè‰∏ÄÊù°ËÆ∞ÂΩïkey/valueÔºåÂú®hashtable‰∏≠Êü•ÊâæÊòØÂê¶ÊúâÁõ∏ÂêåÁöÑkeyÁöÑËÆ∞ÂΩïÔºåÂ¶ÇÊûúÊúâÔºåÂàôËøûÊé•ÂêéËæìÂá∫„ÄÇ3„ÄÅSemiJoinÔºàÂçäËøûÊé•ÔºâÔºöreducerÁ´ØÁöÑjoinÔºåË∑®Êú∫Âô®‰º†ËæìÊï∞ÊçÆÔºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÁ£ÅÁõòioÔºåÊàê‰∏∫ÈôêÂà∂joinÁöÑÁì∂È¢àÔºåÂú®mapÈò∂ÊÆµËøáÊª§„ÄÇÂÆûÁé∞ÊñπÊ≥ïÊòØÔºöÈÄâÂèñ‰∏Ä‰∏™Â∞èË°®f1ÔºåÂ∞ÜÂÖ∂ÂèÇ‰∫éjoinÁöÑkeyÂèñÂá∫Êù•Ôºå‰øùÂ≠òÂà∞f3‰∏≠Ôºåf3Êñá‰ª∂‰∏ÄËà¨ÂæàÂ∞èÔºåÂèØ‰ª•Â≠òÊîæÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇÂú® mapÈò∂ÊÆµÔºå‰ΩøÁî®DistributedCache(ÂàÜÂ∏ÉÂºèÁºìÂ≠ò)Â∞Üf3ÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞ÂêÑ‰∏™taskTracker‰∏äÔºåÁÑ∂ÂêéÂ∞Üf2‰∏≠‰∏éf3Êï∞ÊçÆ‰∏çÂåπÈÖçÁöÑkeyÊâÄÂØπÂ∫îÁöÑÁöÑËÆ∞ÂΩïËøáÊª§ÊéâÔºåÂâ©‰∏ãÁöÑreduceÈò∂ÊÆµÂ∑•‰Ωú‰∏éreducerÁ´ØjoinÁõ∏Âêå„ÄÇhadoopÁöÑDistributedCacheÔºàÂàÜÂ∏ÉÂºèÁºìÂ≠òÔºâÔºöÔºàmapÁ´ØËøõË°åjoinÔºâ    DistributedCacheÊòØhadoopÊ°ÜÊû∂Êèê‰æõÁöÑ‰∏ÄÁßçÊú∫Âà∂,ÂèØ‰ª•Â∞ÜjobÊåáÂÆöÁöÑÊñá‰ª∂,Âú®jobÊâßË°åÂâç,ÂÖàË°åÂàÜÂèëÂà∞taskÊâßË°åÁöÑÊú∫Âô®‰∏ä,Âπ∂ÊúâÁõ∏ÂÖ≥Êú∫Âà∂ÂØπcacheÊñá‰ª∂ËøõË°åÁÆ°ÁêÜ.       DistributedCache ÂèØÂ∞ÜÂÖ∑‰ΩìÂ∫îÁî®Áõ∏ÂÖ≥ÁöÑ„ÄÅÂ§ßÂ∞∫ÂØ∏ÁöÑ„ÄÅÂè™ËØªÁöÑÊñá‰ª∂ÊúâÊïàÂú∞ÂàÜÂ∏ÉÊîæÁΩÆ„ÄÇDistributedCache ÊòØMap/ReduceÊ°ÜÊû∂Êèê‰æõÁöÑÂäüËÉΩÔºåËÉΩÂ§üÁºìÂ≠òÂ∫îÁî®Á®ãÂ∫èÊâÄÈúÄÁöÑÊñá‰ª∂ ÔºàÂåÖÊã¨ÊñáÊú¨ÔºåÊ°£Ê°àÊñá‰ª∂ÔºåjarÊñá‰ª∂Á≠âÔºâ„ÄÇ       ÂèØ‰ª•Â∞ÜÂ∞èË°®ÂàÜÂèëÂà∞ÊâÄÊúâÁöÑmapËäÇÁÇπÔºåËøôÊ†∑ÔºåmapËäÇÁÇπÂ∞±ÂèØ‰ª•Âú®Êú¨Âú∞„ÄÇÂØπËá™Â∑±ÊâÄËØªÂà∞ÁöÑÂ§ßË°®Êï∞ÊçÆËøõË°åjoinÂπ∂ËæìÂá∫ÊúÄÁªàÁªìÊûúÔºåÂèØ‰ª•Â§ßÂ§ßÊèêÈ´òjoinÊìç‰ΩúÁöÑÂπ∂ÂèëÂ∫¶ÔºåÂä†Âø´Â§ÑÁêÜÈÄüÂ∫¶Ôºõ HadoopÊèê‰æõ‰∫Ü‰∏Ä‰∏™Distributed CacheÊú∫Âà∂ÔºåËÉΩÊääÊñá‰ª∂Âú®ÂêàÈÄÇÁöÑÊó∂ÂÄôÂèëÁªôMapTaskÔºåMapTaskÂ∞±ÂèØ‰ª•‰ªéÊú¨Âú∞ËøõË°åÂä†ËΩΩÂ∞èË°®Êï∞ÊçÆÔºõCombineTextInputFormat(ÂàáÁâáÊú∫Âà∂‰ºòÂåñÂ§ßÈáèÂ∞èÊñá‰ª∂)Ôºö Â∞Ühdfs‰∏äÂ§ö‰∏™Â∞èÊñá‰ª∂ÂêàÂπ∂Âà∞‰∏Ä‰∏™InputSplit‰∏≠ÔºåÁÑ∂Âêé‰ºöÂêØÁî®‰∏Ä‰∏™mapÊù•Â§ÑÁêÜËøôÈáåÈù¢ÁöÑÊñá‰ª∂Ôºå‰ª•Ê≠§ÂáèÂ∞ëmrÊï¥‰Ωì‰Ωú‰∏ö‰∫∫ÁöÑËøêË°åÊó∂Èó¥„ÄÇ  CombineTextInputFormat.setMaxInputSplitSize(job, 4194304)  CombineTextInputFormatÁî®‰∫éÂ∞èÊñá‰ª∂ËøáÂ§öÁöÑÂú∫ÊôØÔºåÂÆÉÂèØ‰ª•Â∞ÜÂ§ö‰∏™Â∞èÊñá‰ª∂‰ªéÈÄªËæë‰∏äËßÑÂàíÂà∞‰∏Ä‰∏™ÂàáÁâá‰∏≠ÔºåËøôÊ†∑ÔºåÂ§ö‰∏™Â∞èÊñá‰ª∂Â∞±ÂèØ‰ª•‰∫§Áªô‰∏Ä‰∏™MapTaskÂ§ÑÁêÜ        combineTextInputFormatÂàÜ‰∏∫ËôöÊãüÂÇ®Â≠òËøáÁ®ãÂíåÂàáÁâáËøáÁ®ãÔºö        ËôöÊãüÂÇ®Â≠òËøáÁ®ãÔºö Ê†πÊçÆÊòØÂê¶ËÆæÁΩÆsetMaxInputSplitSizeÂÄºÔºåÂ∞ÜÊØè‰∏™Êñá‰ª∂ÂàíÂàÜÊàê‰∏Ä‰∏™‰∏Ä‰∏™setMaxInputSplitSizeÂÄºÂ§ßÂ∞èÁöÑÊñá‰ª∂      ÂΩìÂâ©‰ΩôÊï∞ÊçÆÂ§ßÂ∞èË∂ÖËøásetMaxInputSplitSizeÂÄº‰∏î‰∏çÂ§ß‰∫é2ÂÄçsetMaxInputSplitSizeÂÄºÔºåÊ≠§Êó∂Â∞ÜÊñá‰ª∂ÂùáÂàÜÊàê2‰∏™ËôöÊãüÂ≠òÂÇ®ÂùóÔºàÈò≤Ê≠¢Âá∫Áé∞Â§™Â∞èÂàáÁâá)        ÂàáÁâáËøáÁ®ãÔºöÊñ≠ËôöÊãüÂ≠òÂÇ®ÁöÑÊñá‰ª∂Â§ßÂ∞èÊòØÂê¶Â§ß‰∫ésetMaxInputSplitSizeÂÄºÔºåÂ§ß‰∫éÁ≠â‰∫éÂàôÂçïÁã¨ÂΩ¢Êàê‰∏Ä‰∏™ÂàáÁâáÂ¶ÇÊûú‰∏çÂ§ß‰∫éÂàôË∑ü‰∏ã‰∏Ä‰∏™ËôöÊãüÂ≠òÂÇ®Êñá             ‰ª∂ËøõË°åÂêàÂπ∂ÔºåÂÖ±ÂêåÂΩ¢Êàê‰∏Ä‰∏™ÂàáÁâáhadoopÁöÑÂàáÁâáÊú∫Âà∂Ôºö    ÁÆÄÂçïÁöÑÊåâÁÖßÊñá‰ª∂ÁöÑÂÜÖÂÆπÈïøÂ∫¶ËøõË°åÂàáÁâá      ÂàáÁâáÂ§ßÂ∞èÔºåÈªòËÆ§Á≠â‰∫éBlockÂ§ßÂ∞è      ÂàáÁâáÊó∂‰∏çËÄÉËôëÊï∞ÊçÆÈõÜÁöÑÊï¥‰ΩìÔºåËÄåÊòØÈÄê‰∏™ÈíàÂØπÊØè‰∏Ä‰∏™Êñá‰ª∂ÂçïÁã¨ÂàáÁâá    Ê∫êÁ†Å‰∏≠ÁöÑÂàáÁâáËÆ°ÁÆóÂÖ¨ÂºèÔºö Math.max(minSize, Math.min(maxSize,blockSize))yarnÁöÑÂ∑•‰ΩúÊú∫Âà∂ÔºöÔºà0ÔºâMr Á®ãÂ∫èÊèê‰∫§Âà∞ÂÆ¢Êà∑Á´ØÊâÄÂú®ÁöÑËäÇÁÇπ„ÄÇÔºà1ÔºâYarnrunner Âêë Resourcemanager Áî≥ËØ∑‰∏Ä‰∏™ Application„ÄÇÔºà2Ôºârm Â∞ÜËØ•Â∫îÁî®Á®ãÂ∫èÁöÑËµÑÊ∫êË∑ØÂæÑËøîÂõûÁªô yarnrunner„ÄÇÔºà3ÔºâËØ•Á®ãÂ∫èÂ∞ÜËøêË°åÊâÄÈúÄËµÑÊ∫êÊèê‰∫§Âà∞ HDFS ‰∏ä„ÄÇÔºà4ÔºâÁ®ãÂ∫èËµÑÊ∫êÊèê‰∫§ÂÆåÊØïÂêéÔºåÁî≥ËØ∑ËøêË°å mrAppMaster„ÄÇÔºà5ÔºâRM Â∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÂàùÂßãÂåñÊàê‰∏Ä‰∏™ task„ÄÇÔºà6ÔºâÂÖ∂‰∏≠‰∏Ä‰∏™ NodeManager È¢ÜÂèñÂà∞ task ‰ªªÂä°„ÄÇÔºà7ÔºâËØ• NodeManager ÂàõÂª∫ÂÆπÂô® ContainerÔºåÂπ∂‰∫ßÁîü MRAppmaster„ÄÇÔºà8ÔºâContainer ‰ªé HDFS ‰∏äÊã∑Ë¥ùËµÑÊ∫êÂà∞Êú¨Âú∞„ÄÇÔºà9ÔºâMRAppmaster Âêë RM Áî≥ËØ∑ËøêË°å maptask ËµÑÊ∫ê„ÄÇÔºà10ÔºâRM Â∞ÜËøêË°å maptask ‰ªªÂä°ÂàÜÈÖçÁªôÂè¶Â§ñ‰∏§‰∏™ NodeManagerÔºåÂè¶‰∏§‰∏™ NodeManager ÂàÜÂà´È¢ÜÂèñ‰ªªÂä°Âπ∂ÂàõÂª∫ÂÆπÂô®„ÄÇÔºà11ÔºâMR Âêë‰∏§‰∏™Êé•Êî∂Âà∞‰ªªÂä°ÁöÑ NodeManager ÂèëÈÄÅÁ®ãÂ∫èÂêØÂä®ËÑöÊú¨ÔºåËøô‰∏§‰∏™ NodeManagerÂàÜÂà´ÂêØÂä® maptaskÔºåmaptask ÂØπÊï∞ÊçÆÂàÜÂå∫ÊéíÂ∫è„ÄÇÔºà12ÔºâMrAppMaster Á≠âÂæÖÊâÄÊúâ maptask ËøêË°åÂÆåÊØïÂêéÔºåÂêë RM Áî≥ËØ∑ÂÆπÂô®ÔºåËøêË°å reduce task„ÄÇÔºà13Ôºâreduce task Âêë maptask Ëé∑ÂèñÁõ∏Â∫îÂàÜÂå∫ÁöÑÊï∞ÊçÆ„ÄÇÔºà14ÔºâÁ®ãÂ∫èËøêË°åÂÆåÊØïÂêéÔºåMR ‰ºöÂêë RM Áî≥ËØ∑Ê≥®ÈîÄËá™Â∑±„ÄÇhadoopÂèÇÊï∞Ë∞É‰ºòÔºö
	1. Âú®hdfs-site.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÂ§öÁõÆÂΩïÔºåÊúÄÂ•ΩÊèêÂâçÈÖçÁΩÆÂ•ΩÔºåÂê¶ÂàôÊõ¥ÊîπÁõÆÂΩïÈúÄË¶ÅÈáçÊñ∞ÂêØÂä®ÈõÜÁæ§
	2. NameNodeÊúâ‰∏Ä‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊ±†ÔºåÁî®Êù•Â§ÑÁêÜ‰∏çÂêåDataNodeÁöÑÂπ∂ÂèëÂøÉË∑≥‰ª•ÂèäÂÆ¢Êà∑Á´ØÂπ∂ÂèëÁöÑÂÖÉÊï∞ÊçÆÊìç‰Ωú„ÄÇ

dfs.namenode.handler.count=20 * log2(Cluster Size)ÔºåÊØîÂ¶ÇÈõÜÁæ§ËßÑÊ®°‰∏∫10Âè∞Êó∂ÔºåÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫60
	1. ÁºñËæëÊó•ÂøóÂ≠òÂÇ®Ë∑ØÂæÑdfs.namenode.edits.dirËÆæÁΩÆ‰∏éÈïúÂÉèÊñá‰ª∂Â≠òÂÇ®Ë∑ØÂæÑdfs.namenode.name.dirÂ∞ΩÈáèÂàÜÂºÄÔºåËææÂà∞ÊúÄ‰ΩéÂÜôÂÖ•Âª∂Ëøü
	2. ÊúçÂä°Âô®ËäÇÁÇπ‰∏äYARNÂèØ‰ΩøÁî®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òÊÄªÈáèÔºåÈªòËÆ§ÊòØ8192ÔºàMBÔºâÔºåÊ≥®ÊÑèÔºåÂ¶ÇÊûú‰Ω†ÁöÑËäÇÁÇπÂÜÖÂ≠òËµÑÊ∫ê‰∏çÂ§ü8GBÔºåÂàôÈúÄË¶ÅË∞ÉÂáèÂ∞èËøô‰∏™ÂÄºÔºåËÄåYARN‰∏ç‰ºöÊô∫ËÉΩÁöÑÊé¢ÊµãËäÇÁÇπÁöÑÁâ©ÁêÜÂÜÖÂ≠òÊÄªÈáè„ÄÇyarn.nodemanager.resource.memory-mb
	3. Âçï‰∏™‰ªªÂä°ÂèØÁî≥ËØ∑ÁöÑÊúÄÂ§öÁâ©ÁêÜÂÜÖÂ≠òÈáèÔºåÈªòËÆ§ÊòØ8192ÔºàMBÔºâ„ÄÇyarn.scheduler.maximum-allocation-mb

hadoopÂÆïÊú∫Ôºö
	1. Â¶ÇÊûúMRÈÄ†ÊàêÁ≥ªÁªüÂÆïÊú∫„ÄÇÊ≠§Êó∂Ë¶ÅÊéßÂà∂YarnÂêåÊó∂ËøêË°åÁöÑ‰ªªÂä°Êï∞ÔºåÂíåÊØè‰∏™‰ªªÂä°Áî≥ËØ∑ÁöÑÊúÄÂ§ßÂÜÖÂ≠ò„ÄÇË∞ÉÊï¥ÂèÇÊï∞Ôºöyarn.scheduler.maximum-allocation-mbÔºàÂçï‰∏™‰ªªÂä°ÂèØÁî≥ËØ∑ÁöÑÊúÄÂ§öÁâ©ÁêÜÂÜÖÂ≠òÈáèÔºåÈªòËÆ§ÊòØ8192MBÔºâ
	2. Â¶ÇÊûúÂÜôÂÖ•Êñá‰ª∂ËøáÈáèÈÄ†ÊàêNameNodeÂÆïÊú∫„ÄÇÈÇ£‰πàË∞ÉÈ´òKafkaÁöÑÂ≠òÂÇ®Â§ßÂ∞èÔºåÊéßÂà∂‰ªéKafkaÂà∞HDFSÁöÑÂÜôÂÖ•ÈÄüÂ∫¶„ÄÇÈ´òÂ≥∞ÊúüÁöÑÊó∂ÂÄôÁî®KafkaËøõË°åÁºìÂ≠òÔºåÈ´òÂ≥∞ÊúüËøáÂéªÊï∞ÊçÆÂêåÊ≠•‰ºöËá™Âä®Ë∑ü‰∏ä„ÄÇ

hadoopÂíåsparkÁöÑÈÉΩÊòØÂπ∂Ë°åËÆ°ÁÆóÔºåÈÇ£‰πà‰ªñ‰ª¨Êúâ‰ªÄ‰πàÁõ∏ÂêåÂíåÂå∫Âà´:‰∏§ËÄÖÈÉΩÊòØÁî®mrÊ®°ÂûãÊù•ËøõË°åÂπ∂Ë°åËÆ°ÁÆóÔºåhadoopÁöÑ‰∏Ä‰∏™‰Ωú‰∏öÁß∞‰∏∫jobÔºåjobÈáåÈù¢ÂàÜ‰∏∫map taskÂíåreduce taskÔºåÊØè‰∏™taskÈÉΩÊòØÂú®Ëá™Â∑±ÁöÑËøõÁ®ã‰∏≠ËøêË°åÁöÑÔºåÂΩìtaskÁªìÊùüÊó∂ÔºåËøõÁ®ã‰πü‰ºöÁªìÊùüsparkÁî®Êà∑Êèê‰∫§ÁöÑ‰ªªÂä°Êàê‰∏∫applicationÔºå‰∏Ä‰∏™applicationÂØπÂ∫î‰∏Ä‰∏™sparkcontextÔºåapp‰∏≠Â≠òÂú®Â§ö‰∏™jobÔºåÊØèËß¶Âèë‰∏ÄÊ¨°actionÊìç‰ΩúÂ∞±‰ºö‰∫ßÁîü‰∏Ä‰∏™jobËøô‰∫õjobÂèØ‰ª•Âπ∂Ë°åÊàñ‰∏≤Ë°åÊâßË°åÔºåÊØè‰∏™job‰∏≠ÊúâÂ§ö‰∏™stageÔºåstageÊòØshuffleËøáÁ®ã‰∏≠DAGSchadulerÈÄöËøáRDD‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂàíÂàÜjobËÄåÊù•ÁöÑÔºåÊØè‰∏™stageÈáåÈù¢ÊúâÂ§ö‰∏™taskÔºåÁªÑÊàêtasksetÊúâTaskSchadulerÂàÜÂèëÂà∞ÂêÑ‰∏™executor‰∏≠ÊâßË°åÔºåexecutorÁöÑÁîüÂëΩÂë®ÊúüÊòØÂíåapp‰∏ÄÊ†∑ÁöÑÔºåÂç≥‰ΩøÊ≤°ÊúâjobËøêË°å‰πüÊòØÂ≠òÂú®ÁöÑÔºåÊâÄ‰ª•taskÂèØ‰ª•Âø´ÈÄüÂêØÂä®ËØªÂèñÂÜÖÂ≠òËøõË°åËÆ°ÁÆóhadoopÁöÑjobÂè™ÊúâmapÂíåreduceÊìç‰ΩúÔºåË°®ËææËÉΩÂäõÊØîËæÉÊ¨†Áº∫ËÄå‰∏îÂú®mrËøáÁ®ã‰∏≠‰ºöÈáçÂ§çÁöÑËØªÂÜôhdfsÔºåÈÄ†ÊàêÂ§ßÈáèÁöÑioÊìç‰ΩúÔºåÂ§ö‰∏™jobÈúÄË¶ÅËá™Â∑±ÁÆ°ÁêÜÂÖ≥Á≥ªsparkÁöÑËø≠‰ª£ËÆ°ÁÆóÈÉΩÊòØÂú®ÂÜÖÂ≠ò‰∏≠ËøõË°åÁöÑÔºåAPI‰∏≠Êèê‰æõ‰∫ÜÂ§ßÈáèÁöÑRDDÊìç‰ΩúÂ¶ÇjoinÔºågroupbyÁ≠âÔºåËÄå‰∏îÈÄöËøáDAGÂõæÂèØ‰ª•ÂÆûÁé∞ËâØÂ•ΩÁöÑÂÆπÈîô‰∏∫‰ªÄ‰πàË¶ÅÁî®flumeÂØºÂÖ•hdfsÔºåhdfsÁöÑÊûÑÊû∂ÊòØÊÄéÊ†∑ÁöÑ:flumeÂèØ‰ª•ÂÆûÊó∂ÁöÑÂØºÂÖ•Êï∞ÊçÆÂà∞hdfs‰∏≠ÔºåÂΩìhdfs‰∏äÁöÑÊñá‰ª∂ËææÂà∞‰∏Ä‰∏™ÊåáÂÆöÂ§ßÂ∞èÁöÑÊó∂ÂÄô‰ºöÂΩ¢Êàê‰∏Ä‰∏™Êñá‰ª∂ÔºåÊàñËÄÖË∂ÖËøáÊåáÂÆöÊó∂Èó¥ÁöÑËØù‰πüÂΩ¢Êàê‰∏Ä‰∏™Êñá‰ª∂Êñá‰ª∂ÈÉΩÊòØÂ≠òÂÇ®Âú®datanode‰∏äÈù¢ÁöÑÔºånamenodeËÆ∞ÂΩïÁùÄdatanodeÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåËÄånamenodeÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÊòØÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊâÄ‰ª•ÂΩìÊñá‰ª∂ÂàáÁâáÂæàÂ∞èÊàñËÄÖÂæàÂ§öÁöÑÊó∂ÂÄô‰ºöÂç°Ê≠ªÁÆÄÂçïËØ¥‰∏Ä‰∏ãhadoopÂíåsparkÁöÑshuffleËøáÁ®ã:hadoopÔºömapÁ´Ø‰øùÂ≠òÂàÜÁâáÊï∞ÊçÆÔºåÈÄöËøáÁΩëÁªúÊî∂ÈõÜÂà∞reduceÁ´Ø sparkÔºösparkÁöÑshuffleÊòØÂú®DAGSchedularÂàíÂàÜStageÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑÔºåTaskScheduleË¶ÅÂàÜÂèëStageÂà∞ÂêÑ‰∏™workerÁöÑexecutorÂáèÂ∞ëshuffleÂèØ‰ª•ÊèêÈ´òÊÄßËÉΩflumÁöÑË¥üËΩΩÂùáË°°ÂíåÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂Ôºö    Ë¥üËΩΩÂùáË°°(load-balance)ÊòØÁî®‰∫éËß£ÂÜ≥‰∏ÄÂè∞Êú∫Âô®(‰∏Ä‰∏™ËøõÁ®ã)Êó†Ê≥ïËß£ÂÜ≥ÊâÄÊúâËØ∑Ê±ÇËÄå‰∫ßÁîüÁöÑ‰∏ÄÁßçÁÆóÊ≥ï„ÄÇLoad balancing Sink ProcessorËÉΩÂ§üÂÆûÁé∞load balanceÂäüËÉΩÔºåÂ¶Ç‰∏ãÂõæAgent1ÊòØ‰∏Ä‰∏™Ë∑ØÁî±ËäÇÁÇπÔºåË¥üË¥£Â∞ÜChannelÊöÇÂ≠òÁöÑEventÂùáË°°Âà∞ÂØπÂ∫îÁöÑÂ§ö‰∏™SinkÁªÑ‰ª∂‰∏äÔºåËÄåÊØè‰∏™SinkÁªÑ‰ª∂ÂàÜÂà´ËøûÊé•Âà∞‰∏Ä‰∏™Áã¨Á´ãÁöÑAgent‰∏äÔºåÁ§∫‰æãÈÖçÁΩÆ„ÄÇFailover Sink ProcessorÔºàÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂ÔºâÁª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÁ∫ßSinkÁªÑ‰ª∂ÂàóË°®ÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™SinkÁªÑ‰ª∂ÂèØÁî®ÔºåEventÂ∞±Ë¢´‰º†ÈÄíÂà∞‰∏ã‰∏Ä‰∏™ÁªÑ‰ª∂„ÄÇÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂ§±Ë¥•ÁöÑSinkÈôçÁ∫ßÂà∞‰∏Ä‰∏™Ê±†ÔºåÂú®Ëøô‰∫õÊ±†‰∏≠ÂÆÉ‰ª¨Ë¢´ÂàÜÈÖç‰∏Ä‰∏™ÂÜ∑Âç¥Êó∂Èó¥ÔºåÈöèÁùÄÊïÖÈöúÁöÑËøûÁª≠ÔºåÂú®ÈáçËØï‰πãÂâçÂÜ∑Âç¥Êó∂Èó¥Â¢ûÂä†„ÄÇ‰∏ÄÊó¶SinkÊàêÂäüÂèëÈÄÅ‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÂÆÉÂ∞ÜÊÅ¢Â§çÂà∞Ê¥ªÂä®Ê±†„ÄÇ SinkÂÖ∑Êúâ‰∏é‰πãÁõ∏ÂÖ≥ÁöÑ‰ºòÂÖàÁ∫ßÔºåÊï∞ÈáèË∂äÂ§ßÔºå‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇflumeÁöÑÁªÑÊàêÔºöÔºàput‰∫ãÁâ©Âíåtask‰∫ãÁâ©Ôºâ    
	1. flumeÁªÑÊàêÔºåPut‰∫ãÂä°ÔºåTake‰∫ãÂä°

Taildir SourceÔºöÊñ≠ÁÇπÁª≠‰º†„ÄÅÂ§öÁõÆÂΩï„ÄÇFlume1.6‰ª•ÂâçÈúÄË¶ÅËá™Â∑±Ëá™ÂÆö‰πâSourceËÆ∞ÂΩïÊØèÊ¨°ËØªÂèñÊñá‰ª∂‰ΩçÁΩÆÔºåÂÆûÁé∞Êñ≠ÁÇπÁª≠‰º†„ÄÇFile ChannelÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®Á£ÅÁõòÔºåÂÆïÊú∫Êï∞ÊçÆÂèØ‰ª•‰øùÂ≠ò„ÄÇ‰ΩÜÊòØ‰º†ËæìÈÄüÁéáÊÖ¢„ÄÇÈÄÇÂêàÂØπÊï∞ÊçÆ‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±ÇÈ´òÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºåÈáëËûçË°å‰∏ö„ÄÇMemory ChannelÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂÆïÊú∫Êï∞ÊçÆ‰∏¢Â§±„ÄÇ‰º†ËæìÈÄüÁéáÂø´„ÄÇÈÄÇÂêàÂØπÊï∞ÊçÆ‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºåÊôÆÈÄöÁöÑÊó•ÂøóÊï∞ÊçÆ„ÄÇKafka ChannelÔºöÂáèÂ∞ë‰∫ÜFlumeÁöÑSinkÈò∂ÊÆµÔºåÊèêÈ´ò‰∫Ü‰º†ËæìÊïàÁéá„ÄÇ          SourceÂà∞ChannelÊòØPut‰∫ãÂä°  ChannelÂà∞SinkÊòØTake‰∫ãÂä°flumeËá™ÂÆö‰πâÊã¶Êà™Âô®ÂÆûÁé∞    

		1. ÂÆûÁé∞ Interceptor
		2. ÈáçÂÜôÂõõ‰∏™ÊñπÊ≥ï



		* initialize ÂàùÂßãÂåñ
		* public Event intercept(Event event) Â§ÑÁêÜÂçï‰∏™Event
		* public List&lt;Event&gt; intercept(List&lt;Event&gt; events) Â§ÑÁêÜÂ§ö‰∏™EventÔºåÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®Event intercept(Event event)
		* close ÊñπÊ≥ï

flume channel ÈÄâÊã©Âô®Ôºö    channel selectorsÊúâ‰∏§ÁßçÁ±ªÂûãÔºö          Replicating Channel Selector (default):‰ºöÂ∞ÜsourceËøáÊù•ÁöÑeventsÂèëÂæÄÊâÄÊúâÁöÑchannel„ÄÇ          Multiplexing Channel Selector:ÂèØ‰ª•ÈÄâÊã©ÂèëÂæÄÈÇ£‰∫õchannel„ÄÇflumeÈááÈõÜÊï∞ÊçÆ‰∏ç‰ºö‰∏¢Â§±ÔºåÂõ†‰∏∫channelÂÇ®Â≠òÂèØ‰ª•ÂÇ®Â≠òÂú®File‰∏≠ÔºåÊï∞ÊçÆ‰º†ËæìËá™Ë∫´Êúâ‰∫ãÁâ©„ÄÇFlumeÂÜÖÂ≠òÔºö    ÂºÄÂèë‰∏≠Âú®flume-env.sh‰∏≠ËÆæÁΩÆJVM heap‰∏∫4GÊàñÊõ¥È´òÔºåÈÉ®ÁΩ≤Âú®ÂçïÁã¨ÁöÑÊúçÂä°Âô®‰∏äÔºà4Ê†∏8Á∫øÁ®ã16GÂÜÖÂ≠òÔºâ  -XmxÔºàËÆæÂÆöÁ®ãÂ∫èËøêË°åÊúüÈó¥ÊúÄÂ§ßÂèØÂç†Áî®ÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÔºâ‰∏é-XmsÔºàËÆæÂÆöÁ®ãÂ∫èÂêØÂä®Êó∂Âç†Áî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºâÊúÄÂ•ΩËÆæÁΩÆ‰∏ÄËá¥ÔºåÂáèÂ∞ëÂÜÖÂ≠òÊäñÂä®Â∏¶Êù•ÁöÑÊÄßËÉΩÂΩ±ÂìçÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏ç‰∏ÄËá¥ÂÆπÊòìÂØºËá¥È¢ëÁπÅfullgc„ÄÇFileChannel‰ºòÂåñÔºö      ÈÄöËøáÈÖçÁΩÆdataDirsÊåáÂêëÂ§ö‰∏™Ë∑ØÂæÑÔºåÊØè‰∏™Ë∑ØÂæÑÂØπÂ∫î‰∏çÂêåÁöÑÁ°¨ÁõòÔºåÂ¢ûÂ§ßFlumeÂêûÂêêÈáè„ÄÇ   checkpointDirÂíåbackupCheckpointDir‰πüÂ∞ΩÈáèÈÖçÁΩÆÂú®‰∏çÂêåÁ°¨ÁõòÂØπÂ∫îÁöÑÁõÆÂΩï‰∏≠Ôºå‰øùËØÅcheckpointÂùèÊéâÂêéÔºåÂèØ‰ª•Âø´ÈÄü‰ΩøÁî®backupCheckpointDirÊÅ¢Â§çÊï∞ÊçÆHDFSSinkÂ∞èÊñá‰ª∂Â§ÑÁêÜÔºöÂÆòÊñπÈªòËÆ§ÁöÑËøô‰∏â‰∏™ÂèÇÊï∞ÈÖçÁΩÆÂÜôÂÖ•HDFSÂêé‰ºö‰∫ßÁîüÂ∞èÊñá‰ª∂Ôºåhdfs.rollInterval„ÄÅhdfs.rollSize„ÄÅhdfs.rollCountÂü∫‰∫é‰ª•‰∏ähdfs.rollInterval=3600Ôºåhdfs.rollSize=134217728Ôºåhdfs.rollCount =0Ôºåhdfs.roundValue=10Ôºåhdfs.roundUnit= secondÂá†‰∏™ÂèÇÊï∞ÁªºÂêà‰ΩúÁî®ÔºåÊïàÊûúÂ¶Ç‰∏ãÔºöÔºà1ÔºâtmpÊñá‰ª∂Âú®ËææÂà∞128MÊó∂‰ºöÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂Ôºà2ÔºâtmpÊñá‰ª∂ÂàõÂª∫Ë∂Ö10ÂàÜÊó∂‰ºöÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂‰∏æ‰æãÔºöÂú®2018-01-01 05:23ÁöÑÊó∂‰æØsinkÊé•Êî∂Âà∞Êï∞ÊçÆÔºåÈÇ£‰ºö‰∫ßÁîüÂ¶Ç‰∏ãtmpÊñá‰ª∂Ôºö/itcast/20180101/itcast.201801010520.tmpÂç≥‰ΩøÊñá‰ª∂ÂÜÖÂÆπÊ≤°ÊúâËææÂà∞128MÔºå‰πü‰ºöÂú®05:33Êó∂ÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂kafka‰∏ªË¶ÅÁªÑ‰ª∂ËØ¥ÊòéÔºökafkaÁöÑËÑèÊï∞ÊçÆ‰∏ÄËà¨Âú®‰∏ãÊ∏∏Á®ãÂ∫èËøõË°åÂ§ÑÁêÜ„ÄÇ    Kafka ÊúâÁùÄÈªòËÆ§ÁöÑÂàÜÂå∫Êú∫Âà∂Ôºö

		* Â¶ÇÊûúÈîÆÂÄº‰∏∫ nullÔºå Âàô‰ΩøÁî®ËΩÆËØ¢ (Round Robin) ÁÆóÊ≥ïÂ∞ÜÊ∂àÊÅØÂùáË°°Âú∞ÂàÜÂ∏ÉÂà∞ÂêÑ‰∏™ÂàÜÂå∫‰∏äÔºõ
		* Â¶ÇÊûúÈîÆÂÄº‰∏ç‰∏∫ nullÔºåÈÇ£‰πà Kafka ‰ºö‰ΩøÁî®ÂÜÖÁΩÆÁöÑÊï£ÂàóÁÆóÊ≥ïÂØπÈîÆËøõË°åÊï£ÂàóÔºåÁÑ∂ÂêéÂàÜÂ∏ÉÂà∞ÂêÑ‰∏™ÂàÜÂå∫‰∏ä„ÄÇ

    producer:Áîü‰∫ßËÄÖÔºåÁîü‰∫ßÁöÑÊ∂àÊÅØÈÄöËøátopicËøõË°åÂΩíÁ±ªÔºå‰øùÂ≠òÂà∞kafkaÁöÑbrokerÈáåÈù¢Âéª„ÄÇ     topicÔºö‰∏ªÈ¢òÔºå‰∏Ä‰∏™‰∏ªÈ¢òÂèØ‰ª•ÊúâÈõ∂‰∏™Ôºå‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ê∂àË¥πËÄÖËÆ¢ÈòÖÂÜôÂÖ•ÁöÑÊï∞ÊçÆ„ÄÇ     partitionÔºöÂàÜÂå∫Ôºå‰∏ÄËà¨ÂàÜÂå∫‰∏çË¶ÅË∂ÖËøáÈõÜÁæ§ÁöÑÊú∫Âô®Êï∞ÈáèÔºà‰∏ÄËà¨‰∏∫3-10‰∏™ÔºâbrokerÊï∞‰∏éÂàÜÂå∫Êï∞Ê≤°ÊúâÂÖ≥Á≥ªÔºõ Âú®kafka‰∏≠ÔºåÊØè‰∏Ä‰∏™ÂàÜÂå∫‰ºöÊúâ‰∏Ä‰∏™ÁºñÂè∑ÔºöÁºñÂè∑‰ªé0ÂºÄÂßãÊØè‰∏Ä‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÊòØÊúâÂ∫èÁöÑËØ¥Êòé-Êï∞ÊçÆÊòØÊúâÂ∫è Â¶Ç‰Ωï‰øùËØÅ‰∏Ä‰∏™‰∏ªÈ¢ò‰∏ãÁöÑÊï∞ÊçÆÊòØÊúâÂ∫èÁöÑÔºüÔºàÁîü‰∫ßÊòØ‰ªÄ‰πàÊ†∑ÁöÑÈ°∫Â∫èÔºåÈÇ£‰πàÊ∂àË¥πÁöÑÊó∂ÂÄô‰πüÊòØ‰ªÄ‰πàÊ†∑ÁöÑÈ°∫Â∫èÔºâ„ÄÇ  partitionÁöÑÂâØÊú¨Êï∞Ôºö‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÁ≠â‰∫ébrokerÁöÑ‰∏™Êï∞Ôºå‰∏Ä‰∏™brokerÊúçÂä°‰∏ãÔºå‰∏çÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™ÂâØÊú¨Âõ†Â≠êÔºåÂâØÊú¨Âõ†Â≠êÂ∫îËØ•Â∞è‰∫éÊàñÁ≠â‰∫éÂèØËµ¢ÂæóbrokerÊï∞„ÄÇ  kafkaÂàÜÂå∫‰∏éÊ∂àË¥πËÄÖÁªÑÁöÑÂÖ≥Á≥ªÔºöÊ∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑÊ∂àË¥πËÄÖÊï∞Â∫îËØ•Â∞è‰∫éÊàñÁ≠â‰∫éËØ•‰∏ªÈ¢ò‰∏ãÁöÑÂàÜÂå∫Êï∞„ÄÇkafkaÈ´òÂêûÂêê„ÄÅ‰ΩéÂª∂Êó∂„ÄÅÈ´òÊÄßËÉΩÁöÑÂÆûÁé∞ÂéüÁêÜÔºö‰∏Ä„ÄÅÈ°µÁºìÂ≠òÊäÄÊúØ+Á£ÅÁõòÈ°∫Â∫èÂÜô„ÄÇ‰∫å„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ„ÄÇhttps://blog.csdn.net/xiaoguozi0218/article/details/93310587KafkaÊ∂àÊÅØÁöÑÂàÜÂèë:ProducerÂÆ¢Êà∑Á´ØË¥üË¥£Ê∂àÊÅØÁöÑÂàÜÂèëkafkaÈõÜÁæ§‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™brokerÈÉΩÂèØ‰ª•ÂêëproducerÊèê‰æõmetadata‰ø°ÊÅØ,Ëøô‰∫õmetadata‰∏≠ÂåÖÂê´‚ÄùÈõÜÁæ§‰∏≠Â≠òÊ¥ªÁöÑserversÂàóË°®‚Äù/‚Äùpartitions leaderÂàóË°®‚ÄùÁ≠â‰ø°ÊÅØÔºõÂΩìproducerËé∑ÂèñÂà∞metadata‰ø°ÊÅØ‰πãÂêé, producerÂ∞Ü‰ºöÂíåTopic‰∏ãÊâÄÊúâpartitionleader‰øùÊåÅsocketËøûÊé•ÔºõÊ∂àÊÅØÁî±producerÁõ¥Êé•ÈÄöËøásocketÂèëÈÄÅÂà∞brokerÔºå‰∏≠Èó¥‰∏ç‰ºöÁªèËøá‰ªª‰Ωï‚ÄùË∑ØÁî±Â±Ç‚ÄùÔºå‰∫ãÂÆû‰∏äÔºåÊ∂àÊÅØË¢´Ë∑ØÁî±Âà∞Âì™‰∏™partition‰∏äÁî±producerÂÆ¢Êà∑Á´ØÂÜ≥ÂÆöÔºõÊØîÂ¶ÇÂèØ‰ª•ÈááÁî®‚Äùrandom‚Äù‚Äúkey-hash‚Äù‚ÄúËΩÆËØ¢‚ÄùÁ≠â,Â¶ÇÊûú‰∏Ä‰∏™topic‰∏≠ÊúâÂ§ö‰∏™partitions,ÈÇ£‰πàÂú®producerÁ´ØÂÆûÁé∞‚ÄùÊ∂àÊÅØÂùáË°°ÂàÜÂèë‚ÄùÊòØÂøÖË¶ÅÁöÑ„ÄÇÂú®producerÁ´ØÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠,ÂºÄÂèëËÄÖÂèØ‰ª•ÊåáÂÆöpartitionË∑ØÁî±ÁöÑÊñπÂºè„ÄÇkafkaÁöÑÊï∞ÊçÆ‰∏¢Â§±‰∏éÈáçÂ§çÔºöKafka ÁöÑÊØè‰∏ÄÊù°Ê∂àÊÅØÈÉΩÊúâ‰∏Ä‰∏™ÂÅèÁßªÈáèÂ±ûÊÄßÔºåËÆ∞ÂΩï‰∫ÜÂÖ∂Âú®ÂàÜÂå∫‰∏≠ÁöÑ‰ΩçÁΩÆÔºåÂÅèÁßªÈáèÊòØ‰∏Ä‰∏™ÂçïË∞ÉÈÄíÂ¢ûÁöÑÊï¥Êï∞„ÄÇÊ∂àË¥πËÄÖÈÄöËøáÂæÄ‰∏Ä‰∏™Âè´‰Ωú Ôºøconsumer_offset ÁöÑÁâπÊÆä‰∏ªÈ¢òÂèëÈÄÅÊ∂àÊÅØÔºåÊ∂àÊÅØÈáåÂåÖÂê´ÊØè‰∏™ÂàÜÂå∫ÁöÑÂÅèÁßªÈáè„ÄÇ Â¶ÇÊûúÊ∂àË¥πËÄÖ‰∏ÄÁõ¥Â§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåÈÇ£‰πàÂÅèÁßªÈáèÂ∞±Ê≤°Êúâ ‰ªÄ‰πàÁî®Â§Ñ„ÄÇ‰∏çËøáÔºåÂ¶ÇÊûúÊúâÊ∂àË¥πËÄÖÈÄÄÂá∫ÊàñËÄÖÊñ∞ÂàÜÂå∫Âä†ÂÖ•ÔºåÊ≠§Êó∂Â∞±‰ºöËß¶ÂèëÂÜçÂùáË°°„ÄÇÂÆåÊàêÂÜçÂùáË°°‰πãÂêéÔºåÊØè‰∏™Ê∂àË¥πËÄÖÂèØËÉΩÂàÜÈÖçÂà∞Êñ∞ÁöÑÂàÜÂå∫ÔºåËÄå‰∏çÊòØ‰πãÂâçÂ§ÑÁêÜÁöÑÈÇ£‰∏™„ÄÇ‰∏∫‰∫ÜËÉΩÂ§üÁªßÁª≠‰πãÂâçÁöÑÂ∑•‰ΩúÔºåÊ∂àË¥πËÄÖÈúÄË¶ÅËØªÂèñÊØè‰∏™ÂàÜÂå∫ÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ÁöÑÂÅèÁßªÈáèÔºåÁÑ∂Âêé‰ªéÂÅèÁßªÈáèÊåáÂÆöÁöÑÂú∞ÊñπÁªßÁª≠Â§ÑÁêÜ„ÄÇ Âõ†‰∏∫Ëøô‰∏™ÂéüÂõ†ÔºåÊâÄ‰ª•Â¶ÇÊûú‰∏çËÉΩÊ≠£Á°ÆÊèê‰∫§ÂÅèÁßªÈáèÔºåÂ∞±ÂèØËÉΩ‰ºöÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±ÊàñËÄÖÈáçÂ§çÂá∫Áé∞Ê∂àË¥πÔºåÊØîÂ¶Ç‰∏ãÈù¢ÊÉÖÂÜµÔºö
	* Â¶ÇÊûúÊèê‰∫§ÁöÑÂÅèÁßªÈáèÂ∞è‰∫éÂÆ¢Êà∑Á´ØÂ§ÑÁêÜÁöÑÊúÄÂêé‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂÅèÁßªÈáè ÔºåÈÇ£‰πàÂ§Ñ‰∫é‰∏§‰∏™ÂÅèÁßªÈáè‰πãÈó¥ÁöÑÊ∂àÊÅØÂ∞±‰ºöË¢´ÈáçÂ§çÊ∂àË¥πÔºõ
	* Â¶ÇÊûúÊèê‰∫§ÁöÑÂÅèÁßªÈáèÂ§ß‰∫éÂÆ¢Êà∑Á´ØÂ§ÑÁêÜÁöÑÊúÄÂêé‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂÅèÁßªÈáèÔºåÈÇ£‰πàÂ§Ñ‰∫é‰∏§‰∏™ÂÅèÁßªÈáè‰πãÈó¥ÁöÑÊ∂àÊÅØÂ∞Ü‰ºö‰∏¢Â§±„ÄÇ

ack=0:Áîü‰∫ßËÄÖÊ∂àÊÅØÂèëÈÄÅÂêéÁ´ãÂç≥ËøîÂõûÔºå‰∏çÁî®Á°ÆËÆ§Ê∂àÊÅØÊòØÂê¶ÂèëÈÄÅÊàêÂäü„ÄÇÔºàÊÄßËÉΩÊúÄÂ•ΩÔºåÂèØÈù†ÊÄßÊúÄÂ∑Æ„ÄÇÂèëËøáÂéªÂ∞±ÂÆå‰∫ã‰∫ÜÔºå‰∏çÂÖ≥ÂøÉbrokerÊòØÂê¶Â§ÑÁêÜÊàêÂäüÔºåÂèØËÉΩ‰∏¢Êï∞ÊçÆ„ÄÇÔºâack=1:ÔºàÈªòËÆ§ÔºâÁîü‰∫ßËÄÖÊ∂àÊÅØÂèëÈÄÅÂêéÔºåÁ≠âÂæÖleaderÂÜôÂÖ•ÊàêÂäüËøîÂõûack,ÂàôÁîü‰∫ßËÄÖÊâçËøîÂõû„ÄÇÔºàÊÄßËÉΩÂíåÂèØÈù†ÊÄßÁõ∏ÂØπÂπ≥Ë°°„ÄÇÂΩìÂÜôLeaderÊàêÂäüÂêéÂ∞±ËøîÂõû,ÂÖ∂‰ªñÁöÑreplicaÈÉΩÊòØÈÄöËøáfetcherÂéªÂêåÊ≠•ÁöÑ,ÊâÄ‰ª•kafkaÊòØÂºÇÊ≠•ÂÜôÔºå‰∏ªÂ§áÂàáÊç¢ÂèØËÉΩ‰∏¢Êï∞ÊçÆ„ÄÇÔºâack=-1:Áîü‰∫ßËÄÖÊ∂àÊÅØÂèëÈÄÅÂêéÔºå‰∏ç‰ªÖleaderÂÜôÂÖ•ÊàêÂäüÔºåËøòÈúÄË¶ÅÂÖ∂‰ªñËäÇÁÇπÂàÜÂå∫ÂÜôÂÖ•ÊàêÂäüÂêéÔºåÁîü‰∫ßËÄÖÊâçËøîÂõû„ÄÇÔºàÊÄßËÉΩÊúÄÂ∑ÆÔºåÂèØÈù†ÊÄßÊúÄÂ•Ω„ÄÇË¶ÅÁ≠âÂà∞isrÈáåÊâÄÊúâÊú∫Âô®ÂêåÊ≠•ÊàêÂäüÔºåÊâçËÉΩËøîÂõûÊàêÂäüÔºåÂª∂Êó∂ÂèñÂÜ≥‰∫éÊúÄÊÖ¢ÁöÑÊú∫Âô®„ÄÇÂº∫‰∏ÄËá¥Ôºå‰∏ç‰ºö‰∏¢Êï∞ÊçÆ„ÄÇÔºâÊ≥®ÊÑèÔºöËã•ack=-1Êó∂ËøòÊúâÊï∞ÊçÆ‰∏¢Â§±ÊÉÖÂÜµÔºåÁ°ÆËÆ§ÊòØÂê¶ÈõÜÁæ§‰∏≠Âè™Êúâ‰∏ÄÂè∞leader„ÄÇkafka‰∏≠ÁöÑCAPÈóÆÈ¢òÔºö ÂàÜÂ∏ÉÂºèÁ≥ªÁªüË¶ÅÈÅµÂÆàcapÂéüÂàôÔºåÂç≥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÊï∞ÊçÆÂèØÁî®ÊÄßÔºåÂíåÂàÜÂå∫ÂÆπÈîôÊÄß„ÄÇ  ÂÖ∂‰∏≠kafkaÂàÜÂå∫ÂÆπÈîôÊÄß‰∏∫‰∫ÜËß£ÂÜ≥kafka‰∏≠ÁöÑÂâØÊú¨ÂàÜÂå∫ÂΩì‰∏≠ÁöÑÊï∞ÊçÆ‰∏éleaderÂΩì‰∏≠ÁöÑÊï∞ÊçÆÂ≠òÂú®Â∑ÆÂà´ÁöÑÈóÆÈ¢òÔºö    ‰ΩøÁî®‰∫ÜISRÔºàÂü∫Êú¨ÂêåÊ≠•ÂàóË°®ÔºâÁöÑÂêåÊ≠•Á≠ñÁï•ÔºöÂÜ≥ÂÆöÂì™‰∫õÂâØÊú¨ÂàÜÂå∫ÊòØÂèØÁî®ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÂèØ‰ª•Â∞ÜleaderÂàÜÂå∫ÈáåÈù¢ÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞ÂâØÊú¨ÂàÜÂå∫ÈáåÈù¢Âéª„ÄÇÂÜ≥ÂÆö‰∏Ä‰∏™ÂâØÊú¨ÂàÜÂå∫ÊòØÂê¶ÂèØÁî®ÁöÑÊù°‰ª∂Êúâ‰∏§‰∏™Ôºö    
	* replica.lag.time.max.ms=10000     ÂâØÊú¨ÂàÜÂå∫‰∏é‰∏ªÂàÜÂå∫ÂøÉË∑≥Êó∂Èó¥Âª∂Ëøü
	*       replica.lag.max.messages=4000    ÂâØÊú¨ÂàÜÂå∫‰∏é‰∏ªÂàÜÂå∫Ê∂àÊÅØÂêåÊ≠•ÊúÄÂ§ßÂ∑Æ
	* ISRÔºàIn-Sync ReplicasÔºâÔºåÂâØÊú¨ÂêåÊ≠•ÈòüÂàó„ÄÇISR‰∏≠ÂåÖÊã¨LeaderÂíåFollower„ÄÇÂ¶ÇÊûúLeaderËøõÁ®ãÊåÇÊéâÔºå‰ºöÂú®ISRÈòüÂàó‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÊúçÂä°‰Ωú‰∏∫Êñ∞ÁöÑLeader„ÄÇÊúâreplica.lag.max.messagesÔºàÂª∂ËøüÊù°Êï∞ÔºâÂíåreplica.lag.time.max.msÔºàÂª∂ËøüÊó∂Èó¥Ôºâ‰∏§‰∏™ÂèÇÊï∞ÂÜ≥ÂÆö‰∏ÄÂè∞ÊúçÂä°ÊòØÂê¶ÂèØ‰ª•Âä†ÂÖ•ISRÂâØÊú¨ÈòüÂàóÔºåÂú®0.10ÁâàÊú¨ÁßªÈô§‰∫Üreplica.lag.max.messagesÂèÇÊï∞ÔºåÈò≤Ê≠¢ÊúçÂä°È¢ëÁπÅÁöÑËøõÂéªÈòüÂàó„ÄÇ
	* ‰ªªÊÑè‰∏Ä‰∏™Áª¥Â∫¶Ë∂ÖËøáÈòàÂÄºÈÉΩ‰ºöÊääFollowerÂâîÈô§Âá∫ISRÔºåÂ≠òÂÖ•OSRÔºàOutof-Sync ReplicasÔºâÂàóË°®ÔºåÊñ∞Âä†ÂÖ•ÁöÑFollower‰πü‰ºöÂÖàÂ≠òÊîæÂú®OSR‰∏≠„ÄÇ
	* ÊØè‰∏™ÂàÜÂå∫ÈÉΩÊúâ‰∏Ä‰∏™ ISR(in-sync Replica) ÂàóË°®ÔºåÁî®‰∫éÁª¥Êä§ÊâÄÊúâÂêåÊ≠•ÁöÑ„ÄÅÂèØÁî®ÁöÑÂâØÊú¨„ÄÇÈ¶ñÈ¢ÜÂâØÊú¨ÂøÖÁÑ∂ÊòØÂêåÊ≠•ÂâØÊú¨ÔºåËÄåÂØπ‰∫éË∑üÈöèËÄÖÂâØÊú¨Êù•ËØ¥ÔºåÂÆÉÈúÄË¶ÅÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÊâçËÉΩË¢´ËÆ§‰∏∫ÊòØÂêåÊ≠•ÂâØÊú¨Ôºö
	* ‰∏é Zookeeper ‰πãÈó¥Êúâ‰∏Ä‰∏™Ê¥ªË∑ÉÁöÑ‰ºöËØùÔºåÂç≥ÂøÖÈ°ªÂÆöÊó∂Âêë Zookeeper ÂèëÈÄÅÂøÉË∑≥Ôºõ
	* Âú®ËßÑÂÆöÁöÑÊó∂Èó¥ÂÜÖ‰ªéÈ¶ñÈ¢ÜÂâØÊú¨ÈÇ£Èáå‰ΩéÂª∂ËøüÂú∞Ëé∑ÂèñËøáÊ∂àÊÅØ„ÄÇ
	* Â¶ÇÊûúÂâØÊú¨‰∏çÊª°Ë∂≥‰∏äÈù¢Êù°‰ª∂ÁöÑËØùÔºåÂ∞±‰ºöË¢´‰ªé ISR ÂàóË°®‰∏≠ÁßªÈô§ÔºåÁõ¥Âà∞Êª°Ë∂≥Êù°‰ª∂Êâç‰ºöË¢´ÂÜçÊ¨°Âä†ÂÖ•„ÄÇ
	* ËøôÈáåÁªôÂá∫‰∏Ä‰∏™‰∏ªÈ¢òÂàõÂª∫ÁöÑÁ§∫‰æãÔºö‰ΩøÁî® --replication-factor ÊåáÂÆöÂâØÊú¨Á≥ªÊï∞‰∏∫ 3ÔºåÂàõÂª∫ÊàêÂäüÂêé‰ΩøÁî® --describe ÂëΩ‰ª§ÂèØ‰ª•ÁúãÂà∞ÂàÜÂå∫ 0 ÁöÑÊúâ 0,1,2 ‰∏â‰∏™ÂâØÊú¨Ôºå‰∏î‰∏â‰∏™ÂâØÊú¨ÈÉΩÂú® ISR ÂàóË°®‰∏≠ÔºåÂÖ∂‰∏≠ 1 ‰∏∫È¶ñÈ¢ÜÂâØÊú¨„ÄÇ

kafkaÊåÇÊéâÔºö
	1. FlumeËÆ∞ÂΩï
	2. Êó•ÂøóÊúâËÆ∞ÂΩï
	3. Áü≠ÊúüÊ≤°‰∫ã

ConsumerÁöÑË¥üËΩΩÂùáË°°:ÂΩì‰∏Ä‰∏™group‰∏≠,ÊúâconsumerÂä†ÂÖ•ÊàñËÄÖÁ¶ªÂºÄÊó∂,‰ºöËß¶ÂèëpartitionsÂùáË°°.ÂùáË°°ÁöÑÊúÄÁªàÁõÆÁöÑ,ÊòØÊèêÂçátopicÁöÑÂπ∂ÂèëÊ∂àË¥πËÉΩÂäõÔºåÊ≠•È™§Â¶Ç‰∏ãÔºöÂÅáÂ¶Çtopic1,ÂÖ∑ÊúâÂ¶Ç‰∏ãpartitions: P0,P1,P2,P3Âä†ÂÖ•group‰∏≠,ÊúâÂ¶Ç‰∏ãconsumer: C1,C2È¶ñÂÖàÊ†πÊçÆpartitionÁ¥¢ÂºïÂè∑ÂØπpartitionsÊéíÂ∫è: P0,P1,P2,P3Ê†πÊçÆconsumer.idÊéíÂ∫è: C0,C1ËÆ°ÁÆóÂÄçÊï∞: M = [P0,P1,P2,P3].size / [C0,C1].size,Êú¨‰æãÂÄºM=2(Âêë‰∏äÂèñÊï¥)ÁÑ∂Âêé‰æùÊ¨°ÂàÜÈÖçpartitions: C0 = [P0,P1],C1=[P2,P3],Âç≥Ci = [P(i * M),P((i + 1)M -1)]KafkaÊ∂àÊÅØÊï∞ÊçÆÁßØÂéãÔºåKafkaÊ∂àË¥πËÉΩÂäõ‰∏çË∂≥ÊÄé‰πàÂ§ÑÁêÜÔºö
	1. Â¶ÇÊûúÊòØKafkaÊ∂àË¥πËÉΩÂäõ‰∏çË∂≥ÔºåÂàôÂèØ‰ª•ËÄÉËôëÂ¢ûÂä†TopicÁöÑÂàÜÂå∫Êï∞ÔºåÂπ∂‰∏îÂêåÊó∂ÊèêÂçáÊ∂àË¥πÁªÑÁöÑÊ∂àË¥πËÄÖÊï∞ÈáèÔºåÊ∂àË¥πËÄÖÊï∞=ÂàÜÂå∫Êï∞„ÄÇÔºà‰∏§ËÄÖÁº∫‰∏Ä‰∏çÂèØÔºâ
	2. Â¶ÇÊûúÊòØ‰∏ãÊ∏∏ÁöÑÊï∞ÊçÆÂ§ÑÁêÜ‰∏çÂèäÊó∂ÔºöÊèêÈ´òÊØèÊâπÊ¨°ÊãâÂèñÁöÑÊï∞Èáè„ÄÇÊâπÊ¨°ÊãâÂèñÊï∞ÊçÆËøáÂ∞ëÔºàÊãâÂèñÊï∞ÊçÆ/Â§ÑÁêÜÊó∂Èó¥&lt;Áîü‰∫ßÈÄüÂ∫¶ÔºâÔºå‰ΩøÂ§ÑÁêÜÁöÑÊï∞ÊçÆÂ∞è‰∫éÁîü‰∫ßÁöÑÊï∞ÊçÆÔºå‰πü‰ºöÈÄ†ÊàêÊï∞ÊçÆÁßØÂéã„ÄÇ

kafkaÁöÑÂÜçÂπ≥Ë°°Êú∫Âà∂ÔºöÂÜçÂπ≥Ë°°Â∞±ÊòØkafka consumerÊâÄËÆ¢ÈòÖÁöÑtopicÂèëÁîüÂèòÂåñÊó∂ÂèëÁîüÁöÑ‰∏ÄÁßçÂàÜÂå∫ÈáçÂàÜÈÖçÊú∫Âà∂Ôºå‰∏ÄËà¨Êúâ‰∏âÁßçÊÉÖÂÜµ‰ºöËß¶Âèë ÂÜçÂπ≥Ë°°„ÄÇ
	* consumer group‰∏≠ÁöÑÊñ∞Â¢ûÊàñÂà†Èô§Êüê‰∏™consumerÔºåÂØºËá¥ÂÖ∂ÊâÄÊ∂àË¥πÁöÑÂàÜÂå∫ÈúÄË¶ÅÂàÜÈÖçÂà∞ÁªÑÂÜÖÂÖ∂‰ªñÁöÑconsumer‰∏äÔºõ
	* consumerËÆ¢ÈòÖÁöÑtopicÂèëÁîüÂèòÂåñÔºåÊØîÂ¶ÇËÆ¢ÈòÖÁöÑtopicÈááÁî®ÁöÑÊòØÊ≠£ÂàôË°®ËææÂºèÁöÑÂΩ¢ÂºèÔºåÂ¶Çtest-*Ê≠§Êó∂Â¶ÇÊûúÊúâ‰∏Ä‰∏™Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™topic test-userÔºåÈÇ£‰πàËøô‰∏™topicÁöÑÊâÄÊúâÂàÜÂå∫‰πüÊòØ‰ºöËá™Âä®ÂàÜÈÖçÁªôÂΩìÂâçÁöÑconsumerÁöÑÔºåÊ≠§Êó∂Â∞±‰ºöÂèëÁîüÂÜçÂπ≥Ë°°Ôºõ
	* consumerÊâÄËÆ¢ÈòÖÁöÑtopicÂèëÁîü‰∫ÜÊñ∞Â¢ûÂàÜÂå∫ÁöÑË°å‰∏∫ÔºåÈÇ£‰πàÊñ∞Â¢ûÁöÑÂàÜÂå∫Â∞±‰ºöÂàÜÈÖçÁªôÂΩìÂâçÁöÑconsumerÔºåÊ≠§Êó∂Â∞±‰ºöËß¶ÂèëÂÜçÂπ≥Ë°°„ÄÇ

 KafkaÊèê‰æõÁöÑÂÜçÂπ≥Ë°°Á≠ñÁï•‰∏ªË¶ÅÊúâ‰∏âÁßçÔºöRound RobinÔºåRangeÂíåStickyÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØRange„ÄÇËøô‰∏âÁßçÂàÜÈÖçÁ≠ñÁï•ÁöÑ‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÔºö    
	* Round RobinÔºö‰ºöÈááÁî®ËΩÆËØ¢ÁöÑÊñπÂºèÂ∞ÜÂΩìÂâçÊâÄÊúâÁöÑÂàÜÂå∫‰æùÊ¨°ÂàÜÈÖçÁªôÊâÄÊúâÁöÑconsumerÔºõ
	* RangeÔºöÈ¶ñÂÖà‰ºöËÆ°ÁÆóÊØè‰∏™consumerÂèØ‰ª•Ê∂àË¥πÁöÑÂàÜÂå∫‰∏™Êï∞ÔºåÁÑ∂ÂêéÊåâÁÖßÈ°∫Â∫èÂ∞ÜÊåáÂÆö‰∏™Êï∞ËåÉÂõ¥ÁöÑÂàÜÂå∫ÂàÜÈÖçÁªôÂêÑ‰∏™consumerÔºõ
	* StickyÔºöËøôÁßçÂàÜÂå∫Á≠ñÁï•ÊòØÊúÄÊñ∞ÁâàÊú¨‰∏≠Êñ∞Â¢ûÁöÑ‰∏ÄÁßçÁ≠ñÁï•ÔºåÂÖ∂‰∏ªË¶ÅÂÆûÁé∞‰∫Ü‰∏§‰∏™ÁõÆÁöÑÔºö

		* Â∞ÜÁé∞ÊúâÁöÑÂàÜÂå∫Â∞ΩÂèØËÉΩÂùáË°°ÁöÑÂàÜÈÖçÁªôÂêÑ‰∏™consumerÔºåÂ≠òÂú®Ê≠§ÁõÆÁöÑÁöÑÂéüÂõ†Âú®‰∫éRound RobinÂíåRangeÂàÜÈÖçÁ≠ñÁï•ÂÆûÈôÖ‰∏äÈÉΩ‰ºöÂØºËá¥ÊüêÂá†‰∏™consumerÊâøËΩΩËøáÂ§öÁöÑÂàÜÂå∫Ôºå‰ªéËÄåÂØºËá¥Ê∂àË¥πÂéãÂäõ‰∏çÂùáË°°Ôºõ
		* Â¶ÇÊûúÂèëÁîüÂÜçÂπ≥Ë°°ÔºåÈÇ£‰πàÈáçÊñ∞ÂàÜÈÖç‰πãÂêéÂú®Ââç‰∏ÄÁÇπÁöÑÂü∫Á°Ä‰∏ä‰ºöÂ∞ΩÂäõ‰øùËØÅÂΩìÂâçÊú™ÂÆïÊú∫ÁöÑconsumerÊâÄ
		* Ê∂àË¥πÁöÑÂàÜÂå∫‰∏ç‰ºöË¢´ÂàÜÈÖçÁªôÂÖ∂‰ªñÁöÑconsumer‰∏äÔºõ

consumerÂ¶Ç‰ΩïÈÄöËøá offsetÂØªÊâæÊï∞ÊçÆÔºöÂ¶ÇÊûúconsumerË¶ÅÊâæoffsetÊòØ1008ÁöÑÊ∂àÊÅØÔºåÈÇ£‰πàÔºå1ÔºåÊåâÁÖß‰∫åÂàÜÊ≥ïÊâæÂà∞Â∞è‰∫é1008ÁöÑsegmentÔºå‰πüÂ∞±ÊòØ00000000000000001000.logÂíå00000000000000001000.index2ÔºåÁî®ÁõÆÊ†áoffsetÂáèÂéªÊñá‰ª∂Âêç‰∏≠ÁöÑoffsetÂæóÂà∞Ê∂àÊÅØÂú®Ëøô‰∏™segment‰∏≠ÁöÑÂÅèÁßªÈáè„ÄÇ‰πüÂ∞±ÊòØ1008-1000=8ÔºåÂÅèÁßªÈáèÊòØ8„ÄÇ3ÔºåÂÜçÊ¨°Áî®‰∫åÂàÜÊ≥ïÂú®indexÊñá‰ª∂‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑÁ¥¢ÂºïÔºå‰πüÂ∞±ÊòØÁ¨¨‰∏âË°å6,45„ÄÇ4ÔºåÂà∞logÊñá‰ª∂‰∏≠Ôºå‰ªéÂÅèÁßªÈáè45ÁöÑ‰ΩçÁΩÆÂºÄÂßãÔºàÂÆûÈôÖ‰∏äËøôÈáåÁöÑÊ∂àÊÅØoffsetÊòØ1006ÔºâÔºåÈ°∫Â∫èÊü•ÊâæÔºåÁõ¥Âà∞ÊâæÂà∞offset‰∏∫1008ÁöÑÊ∂àÊÅØ„ÄÇÊü•ÊâæÊúüÈó¥kafkaÊòØÊåâÁÖßlogÁöÑÂ≠òÂÇ®Ê†ºÂºèÊù•Âà§Êñ≠‰∏ÄÊù°Ê∂àÊÅØÊòØÂê¶ÁªìÊùüÁöÑ„ÄÇkafkaÂ¶Ç‰ΩïÊ∏ÖÁêÜËøáÊúüÊï∞ÊçÆÔºö
	* Âà†Èô§log.cleanup.policy=deleteÂêØÁî®Âà†Èô§Á≠ñÁï•

		* Áõ¥Êé•Âà†Èô§ÔºåÂà†Èô§ÂêéÁöÑÊ∂àÊÅØ‰∏çÂèØÊÅ¢Â§ç„ÄÇÂèØÈÖçÁΩÆ‰ª•‰∏ã‰∏§‰∏™Á≠ñÁï•Ôºö Ê∏ÖÁêÜË∂ÖËøáÊåáÂÆöÊó∂Èó¥Ê∏ÖÁêÜÔºölog.retention.hours=16
		* Ë∂ÖËøáÊåáÂÆöÂ§ßÂ∞èÂêéÔºåÂà†Èô§ÊóßÁöÑÊ∂àÊÅØÔºö log.retention.bytes=1073741824 ‰∏∫‰∫ÜÈÅøÂÖçÂú®Âà†Èô§Êó∂ÈòªÂ°ûËØªÊìç‰ΩúÔºåÈááÁî®‰∫Ücopy-on-writeÂΩ¢ÂºèÁöÑÂÆûÁé∞ÔºåÂà†Èô§Êìç‰ΩúËøõË°åÊó∂ÔºåËØªÂèñÊìç‰ΩúÁöÑ‰∫åÂàÜÊü•ÊâæÂäüËÉΩÂÆûÈôÖÊòØÂú®‰∏Ä‰∏™ÈùôÊÄÅÁöÑÂø´ÁÖßÂâØÊú¨‰∏äËøõË°åÁöÑÔºåËøôÁ±ª‰ºº‰∫éJavaÁöÑCopyOnWriteArrayList„ÄÇ
	* ÂéãÁº©Â∞ÜÊï∞ÊçÆÂéãÁº©ÔºåÂè™‰øùÁïôÊØè‰∏™keyÊúÄÂêé‰∏Ä‰∏™ÁâàÊú¨ÁöÑÊï∞ÊçÆ„ÄÇ È¶ñÂÖàÂú®brokerÁöÑÈÖçÁΩÆ‰∏≠ËÆæÁΩÆlog.cleaner.enable=trueÂêØÁî®cleanerÔºåËøô‰∏™ÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑ„ÄÇ Âú®topicÁöÑÈÖçÁΩÆ‰∏≠ËÆæÁΩÆlog.cleanup.policy=compactÂêØÁî®ÂéãÁº©Á≠ñÁï•„ÄÇÂ¶Ç‰∏äÂõæÔºåÂú®Êï¥‰∏™Êï∞ÊçÆÊµÅ‰∏≠ÔºåÊØè‰∏™KeyÈÉΩÊúâÂèØËÉΩÂá∫Áé∞Â§öÊ¨°ÔºåÂéãÁº©Êó∂Â∞ÜÊ†πÊçÆKeyÂ∞ÜÊ∂àÊÅØËÅöÂêàÔºåÂè™‰øùÁïôÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞Êó∂ÁöÑÊï∞ÊçÆ„ÄÇËøôÊ†∑ÔºåÊó†ËÆ∫‰ªÄ‰πàÊó∂ÂÄôÊ∂àË¥πÊ∂àÊÅØÔºåÈÉΩËÉΩÊãøÂà∞ÊØè‰∏™KeyÁöÑÊúÄÊñ∞ÁâàÊú¨ÁöÑÊï∞ÊçÆ„ÄÇ ÂéãÁº©ÂêéÁöÑoffsetÂèØËÉΩÊòØ‰∏çËøûÁª≠ÁöÑÔºåÊØîÂ¶Ç‰∏äÂõæ‰∏≠Ê≤°Êúâ5Âíå7ÔºåÂõ†‰∏∫Ëøô‰∫õoffsetÁöÑÊ∂àÊÅØË¢´merge‰∫ÜÔºåÂΩì‰ªéËøô‰∫õoffsetÊ∂àË¥πÊ∂àÊÅØÊó∂ÔºåÂ∞Ü‰ºöÊãøÂà∞ÊØîËøô‰∏™offsetÂ§ßÁöÑoffsetÂØπÂ∫îÁöÑÊ∂àÊÅØÔºåÊØîÂ¶ÇÔºåÂΩìËØïÂõæËé∑Âèñoffset‰∏∫5ÁöÑÊ∂àÊÅØÊó∂ÔºåÂÆûÈôÖ‰∏ä‰ºöÊãøÂà∞offset‰∏∫6ÁöÑÊ∂àÊÅØÔºåÂπ∂‰ªéËøô‰∏™‰ΩçÁΩÆÂºÄÂßãÊ∂àË¥π„ÄÇ ËøôÁßçÁ≠ñÁï•Âè™ÈÄÇÂêàÁâπ‰øóÂú∫ÊôØÔºåÊØîÂ¶ÇÊ∂àÊÅØÁöÑkeyÊòØÁî®Êà∑IDÔºåÊ∂àÊÅØ‰ΩìÊòØÁî®Êà∑ÁöÑËµÑÊñôÔºåÈÄöËøáËøôÁßçÂéãÁº©Á≠ñÁï•ÔºåÊï¥‰∏™Ê∂àÊÅØÈõÜÈáåÂ∞±‰øùÂ≠ò‰∫ÜÊâÄÊúâÁî®Êà∑ÊúÄÊñ∞ÁöÑËµÑÊñô„ÄÇ ÂéãÁº©Á≠ñÁï•ÊîØÊåÅÂà†Èô§ÔºåÂΩìÊüê‰∏™KeyÁöÑÊúÄÊñ∞ÁâàÊú¨ÁöÑÊ∂àÊÅØÊ≤°ÊúâÂÜÖÂÆπÊó∂ÔºåËøô‰∏™KeyÂ∞ÜË¢´Âà†Èô§ÔºåËøô‰πüÁ¨¶Âêà‰ª•‰∏äÈÄªËæë„ÄÇ

zookeeperÂú®kafka‰∏≠ÁöÑ‰ΩúÁî®Ôºö
	1. kafkaÁöÑÂÖÉÊï∞ÊçÆÈÉΩÂ≠òÊîæÂú®zk‰∏äÈù¢,Áî±zkÊù•ÁÆ°ÁêÜ
	2. 0.8‰πãÂâçÁâàÊú¨ÁöÑkafka, consumerÁöÑÊ∂àË¥πÁä∂ÊÄÅÔºågroupÁöÑÁÆ°ÁêÜ‰ª•Âèä offsetÁöÑÂÄºÈÉΩÊòØÁî±zkÁÆ°ÁêÜÁöÑ,Áé∞Âú®offset‰ºö‰øùÂ≠òÂú®Êú¨Âú∞topicÊñá‰ª∂Èáå
	3. Ë¥üË¥£borkerÁöÑleadÈÄâ‰∏æÂíåÁÆ°ÁêÜ

kafkaÈõÜÁæ§ÔºöKafka ‰ΩøÁî® Zookeeper Êù•Áª¥Êä§ÈõÜÁæ§ÊàêÂëò (brokers) ÁöÑ‰ø°ÊÅØ„ÄÇÊØè‰∏™ broker ÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜ broker.idÔºåÁî®‰∫éÊ†áËØÜËá™Â∑±Âú®ÈõÜÁæ§‰∏≠ÁöÑË∫´‰ªΩÔºåÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂ server.properties ‰∏≠ËøõË°åÈÖçÁΩÆÔºåÊàñËÄÖÁî±Á®ãÂ∫èËá™Âä®ÁîüÊàê„ÄÇ‰∏ãÈù¢ÊòØ Kafka brokers ÈõÜÁæ§Ëá™Âä®ÂàõÂª∫ÁöÑËøáÁ®ãÔºö
	* ÊØè‰∏Ä‰∏™ broker ÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöÂú® Zookeeper ÁöÑ /brokers/ids Ë∑ØÂæÑ‰∏ãÂàõÂª∫‰∏Ä‰∏™ ‰∏¥Êó∂ËäÇÁÇπÔºåÂπ∂Â∞ÜËá™Â∑±ÁöÑ broker.id ÂÜôÂÖ•Ôºå‰ªéËÄåÂ∞ÜËá™Ë∫´Ê≥®ÂÜåÂà∞ÈõÜÁæ§Ôºõ
	* ÂΩìÊúâÂ§ö‰∏™ broker Êó∂ÔºåÊâÄÊúâ broker ‰ºöÁ´û‰∫âÊÄßÂú∞Âú® Zookeeper ‰∏äÂàõÂª∫ /controller ËäÇÁÇπÔºåÁî±‰∫é Zookeeper ‰∏äÁöÑËäÇÁÇπ‰∏ç‰ºöÈáçÂ§çÔºåÊâÄ‰ª•ÂøÖÁÑ∂Âè™‰ºöÊúâ‰∏Ä‰∏™ broker ÂàõÂª∫ÊàêÂäüÔºåÊ≠§Êó∂ËØ• broker Áß∞‰∏∫ controller broker„ÄÇÂÆÉÈô§‰∫ÜÂÖ∑Â§áÂÖ∂‰ªñ broker ÁöÑÂäüËÉΩÂ§ñÔºåËøòË¥üË¥£ÁÆ°ÁêÜ‰∏ªÈ¢òÂàÜÂå∫ÂèäÂÖ∂ÂâØÊú¨ÁöÑÁä∂ÊÄÅ„ÄÇ
	* ÂΩì broker Âá∫Áé∞ÂÆïÊú∫ÊàñËÄÖ‰∏ªÂä®ÈÄÄÂá∫‰ªéËÄåÂØºËá¥ÂÖ∂ÊåÅÊúâÁöÑ Zookeeper ‰ºöËØùË∂ÖÊó∂Êó∂Ôºå‰ºöËß¶ÂèëÊ≥®ÂÜåÂú® Zookeeper ‰∏äÁöÑ watcher ‰∫ã‰ª∂ÔºåÊ≠§Êó∂ Kafka ‰ºöËøõË°åÁõ∏Â∫îÁöÑÂÆπÈîôÂ§ÑÁêÜÔºõÂ¶ÇÊûúÂÆïÊú∫ÁöÑÊòØ controller broker Êó∂ÔºåËøò‰ºöËß¶ÂèëÊñ∞ÁöÑ controller ÈÄâ‰∏æ„ÄÇ

hbaseÊû∂ÊûÑÔºö1„ÄÅHMasterÂäüËÉΩÔºö1) ÁõëÊéßRegionServer2) Â§ÑÁêÜRegionServerÊïÖÈöúËΩ¨Áßª3) Â§ÑÁêÜÂÖÉÊï∞ÊçÆÁöÑÂèòÊõ¥4) Â§ÑÁêÜregionÁöÑÂàÜÈÖçÊàñÁßªÈô§5) Âú®Á©∫Èó≤Êó∂Èó¥ËøõË°åÊï∞ÊçÆÁöÑË¥üËΩΩÂùáË°°6) ÈÄöËøáZookeeperÂèëÂ∏ÉËá™Â∑±ÁöÑ‰ΩçÁΩÆÁªôÂÆ¢Êà∑Á´Ø2„ÄÅRegionServerÂäüËÉΩÔºö1) Ë¥üË¥£Â≠òÂÇ®HBaseÁöÑÂÆûÈôÖÊï∞ÊçÆ2) Â§ÑÁêÜÂàÜÈÖçÁªôÂÆÉÁöÑRegion3) Âà∑Êñ∞ÁºìÂ≠òÂà∞HDFS4) Áª¥Êä§HLog5) ÊâßË°åÂéãÁº©6) Ë¥üË¥£Â§ÑÁêÜRegionÂàÜÁâá3„ÄÅZookeeper
	1. ‰øùËØÅ‰ªª‰ΩïÊó∂ÂÄôÔºåÈõÜÁæ§‰∏≠Âè™Êúâ‰∏Ä‰∏™ MasterÔºõ
	2. Â≠òË¥ÆÊâÄÊúâ Region ÁöÑÂØªÂùÄÂÖ•Âè£Ôºõ
	3. ÂÆûÊó∂ÁõëÊéß Region Server ÁöÑÁä∂ÊÄÅÔºåÂ∞Ü Region Server ÁöÑ‰∏äÁ∫øÂíå‰∏ãÁ∫ø‰ø°ÊÅØÂÆûÊó∂ÈÄöÁü•Áªô MasterÔºõ
	4. Â≠òÂÇ® HBase ÁöÑ SchemaÔºåÂåÖÊã¨ÊúâÂì™‰∫õ TableÔºåÊØè‰∏™ Table ÊúâÂì™‰∫õ Column Family Á≠â‰ø°ÊÅØ„ÄÇ

3.2 ÁªÑ‰ª∂Èó¥ÁöÑÂçè‰ΩúHBase ‰ΩøÁî® ZooKeeper ‰Ωú‰∏∫ÂàÜÂ∏ÉÂºèÂçèË∞ÉÊúçÂä°Êù•Áª¥Êä§ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ„ÄÇ Zookeeper Ë¥üË¥£Áª¥Êä§ÂèØÁî®ÊúçÂä°ÂàóË°®ÔºåÂπ∂Êèê‰æõÊúçÂä°ÊïÖÈöúÈÄöÁü•Á≠âÊúçÂä°Ôºö
	* ÊØè‰∏™ Region Server ÈÉΩ‰ºöÂú® ZooKeeper ‰∏äÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÔºåMaster ÈÄöËøá Zookeeper ÁöÑ Watcher Êú∫Âà∂ÂØπËäÇÁÇπËøõË°åÁõëÊéßÔºå‰ªéËÄåÂèØ‰ª•ÂèëÁé∞Êñ∞Âä†ÂÖ•ÁöÑ Region Server ÊàñÊïÖÈöúÈÄÄÂá∫ÁöÑ Region ServerÔºõ
	* ÊâÄÊúâ Masters ‰ºöÁ´û‰∫âÊÄßÂú∞Âú® Zookeeper ‰∏äÂàõÂª∫Âêå‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÔºåÁî±‰∫é Zookeeper Âè™ËÉΩÊúâ‰∏Ä‰∏™ÂêåÂêçËäÇÁÇπÔºåÊâÄ‰ª•ÂøÖÁÑ∂Âè™Êúâ‰∏Ä‰∏™ Master ËÉΩÂ§üÂàõÂª∫ÊàêÂäüÔºåÊ≠§Êó∂ËØ• Master Â∞±ÊòØ‰∏ª MasterÔºå‰∏ª Master ‰ºöÂÆöÊúüÂêë Zookeeper ÂèëÈÄÅÂøÉË∑≥„ÄÇÂ§áÁî® Masters ÂàôÈÄöËøá Watcher Êú∫Âà∂ÂØπ‰∏ª HMaster ÊâÄÂú®ËäÇÁÇπËøõË°åÁõëÂê¨Ôºõ
	* Â¶ÇÊûú‰∏ª Master Êú™ËÉΩÂÆöÊó∂ÂèëÈÄÅÂøÉË∑≥ÔºåÂàôÂÖ∂ÊåÅÊúâÁöÑ Zookeeper ‰ºöËØù‰ºöËøáÊúüÔºåÁõ∏Â∫îÁöÑ‰∏¥Êó∂ËäÇÁÇπ‰πü‰ºöË¢´Âà†Èô§ÔºåËøô‰ºöËß¶ÂèëÂÆö‰πâÂú®ËØ•ËäÇÁÇπ‰∏äÁöÑ Watcher ‰∫ã‰ª∂Ôºå‰ΩøÂæóÂ§áÁî®ÁöÑ Master Servers ÂæóÂà∞ÈÄöÁü•„ÄÇÊâÄÊúâÂ§áÁî®ÁöÑ Master Servers Âú®Êé•Âà∞ÈÄöÁü•ÂêéÔºå‰ºöÂÜçÊ¨°ÂéªÁ´û‰∫âÊÄßÂú∞ÂàõÂª∫‰∏¥Êó∂ËäÇÁÇπÔºåÂÆåÊàê‰∏ª Master ÁöÑÈÄâ‰∏æ„ÄÇ

ÁªÑ‰ª∂Ôºö1) Write-Ahead logsHBaseÁöÑ‰øÆÊîπËÆ∞ÂΩïÔºåÂΩìÂØπHBaseËØªÂÜôÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆ‰∏çÊòØÁõ¥Êé•ÂÜôËøõÁ£ÅÁõòÔºåÂÆÉ‰ºöÂú®ÂÜÖÂ≠ò‰∏≠‰øùÁïô‰∏ÄÊÆµÊó∂Èó¥ÔºàÊó∂Èó¥‰ª•ÂèäÊï∞ÊçÆÈáèÈòàÂÄºÂèØ‰ª•ËÆæÂÆöÔºâ„ÄÇ‰ΩÜÊääÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÂèØËÉΩÊúâÊõ¥È´òÁöÑÊ¶ÇÁéáÂºïËµ∑Êï∞ÊçÆ‰∏¢Â§±Ôºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊï∞ÊçÆ‰ºöÂÖàÂÜôÂú®‰∏Ä‰∏™Âè´ÂÅöWrite-Ahead logfileÁöÑÊñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéÂÜçÂÜôÂÖ•ÂÜÖÂ≠ò‰∏≠„ÄÇÊâÄ‰ª•Âú®Á≥ªÁªüÂá∫Áé∞ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÂèØ‰ª•ÈÄöËøáËøô‰∏™Êó•ÂøóÊñá‰ª∂ÈáçÂª∫„ÄÇ2) HFileËøôÊòØÂú®Á£ÅÁõò‰∏ä‰øùÂ≠òÂéüÂßãÊï∞ÊçÆÁöÑÂÆûÈôÖÁöÑÁâ©ÁêÜÊñá‰ª∂ÔºåÊòØÂÆûÈôÖÁöÑÂ≠òÂÇ®Êñá‰ª∂„ÄÇ3) StoreHFileÂ≠òÂÇ®Âú®Store‰∏≠Ôºå‰∏Ä‰∏™StoreÂØπÂ∫îHBaseË°®‰∏≠ÁöÑ‰∏Ä‰∏™ÂàóÊóè„ÄÇ Â∞ÜË°åÊï∞ÊçÆÊåâÁÖß Key\Values ÁöÑÂΩ¢ÂºèÂ≠òÂÇ®Âú®Êñá‰ª∂Á≥ªÁªü‰∏ä„ÄÇ4) MemStoreÂÜôÁºìÂ≠ò„ÄÇÂÆÉÂ≠òÂÇ®Â∞öÊú™ÂÜôÂÖ•Á£ÅÁõòÁöÑÊñ∞Êï∞ÊçÆ(‰πüÂ∞±ÊòØÂÜÖÂ≠ò)ÔºåÂπ∂‰ºöÂú®Êï∞ÊçÆÂÜôÂÖ•Á£ÅÁõò‰πãÂâçÂØπÂÖ∂ËøõË°åÊéíÂ∫è„ÄÇÊØè‰∏™ Region ‰∏äÁöÑÊØè‰∏™ÂàóÊóèÈÉΩÊúâ‰∏Ä‰∏™ MemStore„ÄÇ5) RegionHbaseË°®ÁöÑÂàÜÁâáÔºåHBaseË°®‰ºöÊ†πÊçÆRowKeyÂÄºË¢´ÂàáÂàÜÊàê‰∏çÂêåÁöÑregionÂ≠òÂÇ®Âú®RegionServer‰∏≠ÔºåÂú®‰∏Ä‰∏™RegionServer‰∏≠ÂèØ‰ª•ÊúâÂ§ö‰∏™‰∏çÂêåÁöÑregion„ÄÇ HBase Table ‰∏≠ÁöÑÊâÄÊúâË°åÊåâÁÖß Row Key ÁöÑÂ≠óÂÖ∏Â∫èÊéíÂàó„ÄÇHBase Tables ÈÄöËøáË°åÈîÆÁöÑËåÉÂõ¥ (row key range) Ë¢´Ê∞¥Âπ≥ÂàáÂàÜÊàêÂ§ö‰∏™ Region, ‰∏Ä‰∏™ Region ÂåÖÂê´‰∫ÜÂú® start key Âíå end key ‰πãÈó¥ÁöÑÊâÄÊúâË°å„ÄÇ ÊØè‰∏™Ë°®‰∏ÄÂºÄÂßãÂè™Êúâ‰∏Ä‰∏™ RegionÔºåÈöèÁùÄÊï∞ÊçÆ‰∏çÊñ≠Â¢ûÂä†ÔºåRegion ‰ºö‰∏çÊñ≠Â¢ûÂ§ßÔºåÂΩìÂ¢ûÂ§ßÂà∞‰∏Ä‰∏™ÈòÄÂÄºÁöÑÊó∂ÂÄôÔºåRegion Â∞±‰ºöÁ≠âÂàÜ‰∏∫‰∏§‰∏™Êñ∞ÁöÑ Region„ÄÇÂΩì Table ‰∏≠ÁöÑË°å‰∏çÊñ≠Â¢ûÂ§öÔºåÂ∞±‰ºöÊúâË∂äÊù•Ë∂äÂ§öÁöÑ Region„ÄÇ 6) BlockCache: ËØªÁºìÂ≠ò„ÄÇÂÆÉÂ∞ÜÈ¢ëÁπÅËØªÂèñÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂ¶ÇÊûúÂ≠òÂÇ®‰∏çË∂≥ÔºåÂÆÉÂ∞ÜÊåâÁÖß ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÂéüÂàô Ê∏ÖÈô§Â§ö‰ΩôÁöÑÊï∞ÊçÆ„ÄÇhbaseÁöÑËØªÂÜôÊµÅÁ®ãÔºöÂÜôÊï∞ÊçÆÔºö
	1. ClientÂêëHregionServerÂèëÈÄÅÂÜôËØ∑Ê±ÇÔºõ
	2. HRegionServerÂ∞ÜÊï∞ÊçÆÂÜôÂà∞HLogÔºàwrite ahead logÔºâ„ÄÇ‰∏∫‰∫ÜÊï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÂíåÊÅ¢Â§çÔºõ
	3. HRegionServerÂ∞ÜÊï∞ÊçÆÂÜôÂà∞ÂÜÖÂ≠òÔºàMemStoreÔºâÔºõ
	4. ÂèçÈ¶àClientÂÜôÊàêÂäü„ÄÇ

ËØªÊï∞ÊçÆÔºö
	1. ClientÂÖàËÆøÈóÆzookeeperÔºå‰ªémetaË°®ËØªÂèñregionÁöÑ‰ΩçÁΩÆÔºåÁÑ∂ÂêéËØªÂèñmetaË°®‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇmeta‰∏≠ÂèàÂ≠òÂÇ®‰∫ÜÁî®Êà∑Ë°®ÁöÑregion‰ø°ÊÅØÔºõ
	2. Ê†πÊçÆnamespace„ÄÅË°®ÂêçÂíårowkeyÂú®metaË°®‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑregion‰ø°ÊÅØÔºõ
	3. ÊâæÂà∞Ëøô‰∏™regionÂØπÂ∫îÁöÑregionserverÔºõ
	4. Êü•ÊâæÂØπÂ∫îÁöÑregionÔºõ
	5. ÂÖà‰ªéMemStoreÊâæÊï∞ÊçÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂÜçÂà∞BlockCacheÈáåÈù¢ËØªÔºõ
	6. BlockCacheËøòÊ≤°ÊúâÔºåÂÜçÂà∞StoreFile‰∏äËØª(‰∏∫‰∫ÜËØªÂèñÁöÑÊïàÁéá)Ôºõ
	7. Â¶ÇÊûúÊòØ‰ªéStoreFileÈáåÈù¢ËØªÂèñÁöÑÊï∞ÊçÆÔºå‰∏çÊòØÁõ¥Êé•ËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåËÄåÊòØÂÖàÂÜôÂÖ•BlockCacheÔºåÂÜçËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ

HBASEÁöÑflushÊú∫Âà∂ÔºöHbaseÁöÑflushËøáÁ®ã‰∏ªË¶ÅÂåÖÊã¨‰∏â‰∏™Èò∂ÊÆµÔºöprepareFlush„ÄÅflushCache„ÄÅcommit„ÄÇprepaFlushÔºöÂØπmemstoreÂÅö‰∏Ä‰∏™snapshotÔºåÂêåÊó∂‰∏∫Èò≤Ê≠¢ÂÖ∂‰ªñÁ∫øÁ®ãÊõ¥Êñ∞memstoreÔºåËøôÈáå‰ºö‰∏∫memstoreÂä†‰∏ä‰∏Ä‰∏™Êéí‰ªñÈîÅÔºåÈòªÁ¢çÂÆ¢Êà∑Á´ØÁöÑÂÜôÊìç‰ΩúÔºåÁî±‰∫éÂàõÂª∫snapshotÈùûÂ∏∏Âø´„ÄÇflushCache:Â∞Ü‰∏ä‰∏Ä‰∏™Èò∂ÊÆµ‰∫ßÁîüÁöÑÂø´ÁÖßÊåÅ‰πÖÂåñÂà∞hdfs‰∏äÁöÑ‰∏Ä‰∏™hfileÂ≠òÊîæ‰ΩçÁΩÆ‰∏∫ÂØπÂ∫îregionÊñá‰ª∂Â§π‰∏ãÁöÑ.tmpÁõÆÂΩï„ÄÇcommit:Â∞Ü‰∏ä‰∏Ä‰∏™Èò∂ÊÆµ‰∫ßÁîüÁöÑ‰∏¥Êó∂Êñá‰ª∂ÁßªÂä®Âà∞ÂØπÂ∫îÁöÑÂàóÁ∞áÁõÆÂΩï‰∏ãÔºåÂêåÊó∂Âà†Èô§Á¨¨‰∏ÄÈÉ®ÁöÑsnapshot„ÄÇ1.Ôºàhbase.regionserver.global.memstore.sizeÔºâÈªòËÆ§;Â†ÜÂ§ßÂ∞èÁöÑ40%regionServerÁöÑÂÖ®Â±ÄmemstoreÁöÑÂ§ßÂ∞èÔºåË∂ÖËøáËØ•Â§ßÂ∞è‰ºöËß¶ÂèëflushÂà∞Á£ÅÁõòÁöÑÊìç‰Ωú,ÈªòËÆ§ÊòØÂ†ÜÂ§ßÂ∞èÁöÑ40%,ËÄå‰∏îregionserverÁ∫ßÂà´ÁöÑflush‰ºöÈòªÂ°ûÂÆ¢Êà∑Á´ØËØªÂÜô2.Ôºàhbase.hregion.memstore.flush.sizeÔºâÈªòËÆ§Ôºö128MÂçï‰∏™regionÈáåmemstoreÁöÑÁºìÂ≠òÂ§ßÂ∞èÔºåË∂ÖËøáÈÇ£‰πàÊï¥‰∏™HRegionÂ∞±‰ºöflush,3.Ôºàhbase.regionserver.optionalcacheflushintervalÔºâÈªòËÆ§Ôºö1hÂÜÖÂ≠ò‰∏≠ÁöÑÊñá‰ª∂Âú®Ëá™Âä®Âà∑Êñ∞‰πãÂâçËÉΩÂ§üÂ≠òÊ¥ªÁöÑÊúÄÈïøÊó∂Èó¥4.Ôºàhbase.regionserver.global.memstore.size.lower.limitÔºâÈªòËÆ§ÔºöÂ†ÜÂ§ßÂ∞è * 0.4 * 0.95ÊúâÊó∂ÂÄôÈõÜÁæ§ÁöÑ‚ÄúÂÜôË¥üËΩΩ‚ÄùÈùûÂ∏∏È´òÔºåÂÜôÂÖ•Èáè‰∏ÄÁõ¥Ë∂ÖËøáflushÁöÑÈáèÔºåËøôÊó∂ÔºåÊàë‰ª¨Â∞±Â∏åÊúõmemstore‰∏çË¶ÅË∂ÖËøá‰∏ÄÂÆöÁöÑÂÆâÂÖ®ËÆæÁΩÆ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂÜôÊìç‰ΩúÂ∞±Ë¶ÅË¢´ÈòªÂ°û‰∏ÄÁõ¥Âà∞memstoreÊÅ¢Â§çÂà∞‰∏Ä‰∏™‚ÄúÂèØÁÆ°ÁêÜ‚ÄùÁöÑÂ§ßÂ∞è, Ëøô‰∏™Â§ßÂ∞èÂ∞±ÊòØÈªòËÆ§ÂÄºÊòØÂ†ÜÂ§ßÂ∞è * 0.4 * 0.95Ôºå‰πüÂ∞±ÊòØÂΩìregionserverÁ∫ßÂà´ÁöÑflushÊìç‰ΩúÂèëÈÄÅÂêé,‰ºöÈòªÂ°ûÂÆ¢Êà∑Á´ØÂÜô,‰∏ÄÁõ¥ÈòªÂ°ûÂà∞Êï¥‰∏™regionserverÁ∫ßÂà´ÁöÑmemstoreÁöÑÂ§ßÂ∞è‰∏∫ Â†ÜÂ§ßÂ∞è * 0.4 *0.95‰∏∫Ê≠¢5.Ôºàhbase.hregion.preclose.flush.sizeÔºâÈªòËÆ§‰∏∫Ôºö5MÂΩì‰∏Ä‰∏™ region ‰∏≠ÁöÑ memstore ÁöÑÂ§ßÂ∞èÂ§ß‰∫éËøô‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèàËß¶Âèë‰∫ÜregionÁöÑ closeÊó∂Ôºå‰ºöÂÖàËøêË°å‚Äúpre-flush‚ÄùÊìç‰ΩúÔºåÊ∏ÖÁêÜËøô‰∏™ÈúÄË¶ÅÂÖ≥Èó≠ÁöÑmemstoreÔºåÁÑ∂Âêé Â∞ÜËøô‰∏™ region ‰∏ãÁ∫ø„ÄÇÂΩì‰∏Ä‰∏™ region ‰∏ãÁ∫ø‰∫ÜÔºåÊàë‰ª¨Êó†Ê≥ïÂÜçËøõË°å‰ªª‰ΩïÂÜôÊìç‰Ωú„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ memstore ÂæàÂ§ßÁöÑÊó∂ÂÄôÔºåflush  Êìç‰Ωú‰ºöÊ∂àËÄóÂæàÂ§öÊó∂Èó¥„ÄÇ&quot;pre-flush&quot; Êìç‰ΩúÊÑèÂë≥ÁùÄÂú® region ‰∏ãÁ∫ø‰πãÂâçÔºå‰ºöÂÖàÊää memstore Ê∏ÖÁ©∫„ÄÇËøôÊ†∑Âú®ÊúÄÁªàÊâßË°å close Êìç‰ΩúÁöÑÊó∂ÂÄôÔºåflush Êìç‰Ωú‰ºöÂæàÂø´„ÄÇ6.Ôºàhbase.hstore.compactionThresholdÔºâÈªòËÆ§ÔºöË∂ÖËøá3‰∏™‰∏Ä‰∏™storeÈáåÈù¢ÂÖÅËÆ∏Â≠òÁöÑhfileÁöÑ‰∏™Êï∞ÔºåË∂ÖËøáËøô‰∏™‰∏™Êï∞‰ºöË¢´ÂÜôÂà∞Êñ∞ÁöÑ‰∏Ä‰∏™hfileÈáåÈù¢ ‰πüÂç≥ÊòØÊØè‰∏™regionÁöÑÊØè‰∏™ÂàóÊóèÂØπÂ∫îÁöÑmemstoreÂú®flush‰∏∫hfileÁöÑÊó∂ÂÄôÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂΩìË∂ÖËøá3‰∏™hfileÁöÑÊó∂ÂÄôÂ∞±‰ºöÂØπËøô‰∫õÊñá‰ª∂ËøõË°åÂêàÂπ∂ÈáçÂÜô‰∏∫‰∏Ä‰∏™Êñ∞Êñá‰ª∂ÔºåËÆæÁΩÆ‰∏™Êï∞Ë∂äÂ§ßÂèØ‰ª•ÂáèÂ∞ëËß¶ÂèëÂêàÂπ∂ÁöÑÊó∂Èó¥Ôºå‰ΩÜÊòØÊØèÊ¨°ÂêàÂπ∂ÁöÑÊó∂Èó¥Â∞±‰ºöË∂äÈïøHBASEÁöÑÂêàÂπ∂Êú∫Âà∂Ôºö
	1. ÂΩìÊï∞ÊçÆÂùóËææÂà∞3ÂùóÔºåHmasterËß¶ÂèëÂêàÂπ∂Êìç‰ΩúÔºåRegionÂ∞ÜÊï∞ÊçÆÂùóÂä†ËΩΩÂà∞Êú¨Âú∞ÔºåËøõË°åÂêàÂπ∂Ôºõ
	2. ÂΩìÂêàÂπ∂ÁöÑÊï∞ÊçÆË∂ÖËøá256MÔºåËøõË°åÊãÜÂàÜÔºåÂ∞ÜÊãÜÂàÜÂêéÁöÑRegionÂàÜÈÖçÁªô‰∏çÂêåÁöÑHregionServerÁÆ°ÁêÜÔºõ
	3. ÂΩìHregionServerÂÆïÊú∫ÂêéÔºåÂ∞ÜHregionServer‰∏äÁöÑhlogÊãÜÂàÜÔºåÁÑ∂ÂêéÂàÜÈÖçÁªô‰∏çÂêåÁöÑHregionServerÂä†ËΩΩÔºå‰øÆÊîπ.META.Ôºõ
	4. Ê≥®ÊÑèÔºöHLog‰ºöÂêåÊ≠•Âà∞HDFS„ÄÇ

HBASEÁöÑsplitÊú∫Âà∂ÔºöÂΩìRegionËææÂà∞ÈòàÂÄºÔºå‰ºöÊääËøáÂ§ßÁöÑRegion‰∏ÄÂàÜ‰∏∫‰∫å„ÄÇÈªòËÆ§‰∏Ä‰∏™HFileËææÂà∞10GbÁöÑÊó∂ÂÄôÂ∞±‰ºöËøõË°åÂàáÂàÜhbaseÁöÑhbase-default.xmlÂèÇÊï∞ÔºöFlush:&lt;!--ÂΩìmemstoreÁöÑÂ§ßÂ∞èË∂ÖËøáËøô‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºå‰ºöflushÂà∞Á£ÅÁõò„ÄÇ128M--&gt;&lt;property&gt;&lt;name&gt;hbase.hregion.memstore.flush.size&lt;/name&gt;&lt;value&gt;134217728&lt;/value&gt;&lt;/property&gt;&lt;!--Âçï‰∏™regionserverÁöÑÂÖ®ÈÉ®memstoreÁöÑÊúÄÂ§ßÂÄº„ÄÇË∂ÖËøáËøô‰∏™ÂÄºÊÄªÂÆπÈáè(Max Heap=983.4 M)*0.4Ôºå‰∏Ä‰∏™Êñ∞ÁöÑputÊèíÂÖ•Êìç‰Ωú‰ºöË¢´ÊåÇËµ∑ÔºåÂº∫Âà∂ÊâßË°åflushÊìç‰Ωú„ÄÇ --&gt;&lt;property&gt;&lt;name&gt;hbase.regionserver.global.memstore.upperLimit&lt;/name&gt;&lt;value&gt;0.4&lt;/value&gt;&lt;/property&gt;&lt;!--ÂΩìÂº∫Âà∂ÊâßË°åflushÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂΩì‰Ωé‰∫éËøô‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºåflush‰ºöÂÅúÊ≠¢„ÄÇÈªòËÆ§ÊòØÂ†ÜÂ§ßÂ∞èÁöÑ 35% . --&gt;&lt;property&gt;&lt;name&gt;hbase.regionserver.global.memstore.lowerLimit&lt;/name&gt;&lt;value&gt;0.35&lt;/value&gt;&lt;/property&gt;Compact:&lt;!--ÂΩì‰∏Ä‰∏™HStoreÂê´ÊúâÂ§ö‰∫éËøô‰∏™ÂÄºÁöÑHStoreFiles(ÊØè‰∏Ä‰∏™memstore flush‰∫ßÁîü‰∏Ä‰∏™HStoreFile)ÁöÑÊó∂ÂÄôÔºå‰ºöÊâßË°å‰∏Ä‰∏™ÂêàÂπ∂Êìç‰ΩúÔºåÊääËøôHStoreFilesÂÜôÊàê‰∏Ä‰∏™--&gt;&lt;property&gt;&lt;name&gt;hbase.hstore.compactionThreshold&lt;/name&gt;&lt;value&gt;3&lt;/value&gt;&lt;/property&gt;&lt;!--‰∏Ä‰∏™Region‰∏≠ÁöÑÊâÄÊúâHStoreFileÁöÑmajor compactionsÁöÑÊó∂Èó¥Èó¥Èöî„ÄÇÈªòËÆ§ÊòØ1Â§©„ÄÇ--&gt;&lt;property&gt;&lt;name&gt;hbase.hregion.majorcompaction&lt;/name&gt;&lt;value&gt;86400000&lt;/value&gt;&lt;/property&gt;Split:&lt;!--ÊúÄÂ§ßHStoreFileÂ§ßÂ∞è„ÄÇËã•Êüê‰∏™ÂàóÊóèÁöÑHStoreFileÂ¢ûÈïøËææÂà∞Ëøô‰∏™ÂÄºÔºåËøô‰∏™Hegion‰ºöË¢´ÂàáÂâ≤Êàê‰∏§‰∏™„ÄÇ ÈªòËÆ§: 10G.--&gt;&lt;property&gt;&lt;name&gt;hbase.hregion.max.filesize&lt;/name&gt;&lt;value&gt;10737418240&lt;/value&gt;&lt;/property&gt;rowkeyÁöÑËÆæËÆ°ÂéüÂàôÔºö1.ÈïøÂ∫¶ÂéüÂàôÔºörowkeyÊòØ‰∏Ä‰∏™‰∫åËøõÂà∂Á†ÅÊµÅÔºåÂèØ‰ª•ÊòØ‰ªªÊÑèÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂ§ßÈïøÂ∫¶64kbÔºåÂÆûÈôÖÂ∫îÁî®‰∏≠‰∏ÄËà¨‰∏∫10-100bytes,‰ª•byte[]ÂΩ¢Âºè‰øùÂ≠òÔºå‰∏ÄËà¨ËÆæËÆ°ÂÆöÈïø„ÄÇÂª∫ËÆÆË∂äÁü≠Ë∂äÂ•ΩÔºå‰∏çË¶ÅË∂ÖËøá16‰∏™Â≠óËäÇ„ÄÇÂéüÂõ†Ôºö
	* Êï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÊñá‰ª∂HFile‰∏≠ÊòØÊåâÁÖßKeyValueÂ≠òÂÇ®ÁöÑÔºåÂ¶ÇÊûúrowkeyËøáÈïø ÔºåÊØîÂ¶ÇË∂ÖËøá100Â≠óËäÇÔºå1000wË°åÊï∞ÊçÆÔºåÂÖârowkeyÂ∞±Ë¶ÅÂç†Áî®100*1000w=10‰∫ø‰∏™Â≠óËäÇÔºåÂ∞ÜËøë1GÊï∞ÊçÆÔºåËøôÊ†∑‰ºöÊûÅÂ§ßÂΩ±ÂìçHFileÁöÑÂ≠òÂÇ®ÊïàÁéáÔºõ
	* MemStoreÂ∞ÜÁºìÂ≠òÈÉ®ÂàÜÊï∞ÊçÆÂà∞ÂÜÖÂ≠òÔºåÂ¶ÇÊûúrowkeyÂ≠óÊÆµËøáÈïøÔºåÂÜÖÂ≠òÁöÑÊúâÊïàÂà©Áî®ÁéáÂ∞±‰ºöÈôç‰ΩéÔºåÁ≥ªÁªü‰∏çËÉΩÁºìÂ≠òÊõ¥Â§öÁöÑÊï∞ÊçÆÔºåËøôÊ†∑‰ºöÈôç‰ΩéÊ£ÄÁ¥¢ÊïàÁéá„ÄÇ

2 rowkeyÊï£ÂàóÂéüÂàôÂ¶ÇÊûúrowkeyÊåâÁÖßÊó∂Èó¥Êà≥ÁöÑÊñπÂºèÈÄíÂ¢ûÔºå‰∏çË¶ÅÂ∞ÜÊó∂Èó¥ÊîæÂú®‰∫åËøõÂà∂Á†ÅÁöÑÂâçÈù¢ÔºåÂª∫ËÆÆÂ∞ÜrowkeyÁöÑÈ´ò‰Ωç‰Ωú‰∏∫Êï£ÂàóÂ≠óÊÆµÔºåÁî±Á®ãÂ∫èÈöèÊú∫ÁîüÊàêÔºå‰Ωé‰ΩçÊîæÊó∂Èó¥Â≠óÊÆµÔºåËøôÊ†∑Â∞ÜÊèêÈ´òÊï∞ÊçÆÂùáË°°ÂàÜÂ∏ÉÂú®ÊØè‰∏™RegionServerÔºå‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÁöÑÂá†Áéá„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊï£ÂàóÂ≠óÊÆµÔºåÈ¶ñÂ≠óÊÆµÁõ¥Êé•ÊòØÊó∂Èó¥‰ø°ÊÅØÔºåÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰ºöÈõÜ‰∏≠Âú®‰∏Ä‰∏™RegionServer‰∏äÔºåËøôÊ†∑Âú®Êï∞ÊçÆÊ£ÄÁ¥¢ÁöÑÊó∂ÂÄôË¥üËΩΩ‰ºöÈõÜ‰∏≠Âú®‰∏™Âà´ÁöÑRegionServer‰∏äÔºåÈÄ†ÊàêÁÉ≠ÁÇπÈóÆÈ¢òÔºå‰ºöÈôç‰ΩéÊü•ËØ¢ÊïàÁéá„ÄÇ3 rowkeyÂîØ‰∏ÄÂéüÂàôÂøÖÈ°ªÂú®ËÆæËÆ°‰∏ä‰øùËØÅÂÖ∂ÂîØ‰∏ÄÊÄßÔºårowkeyÊòØÊåâÁÖßÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫èÂ≠òÂÇ®ÁöÑÔºåÂõ†Ê≠§ÔºåËÆæËÆ°rowkeyÁöÑÊó∂ÂÄôÔºåË¶ÅÂÖÖÂàÜÂà©Áî®Ëøô‰∏™ÊéíÂ∫èÁöÑÁâπÁÇπÔºåÂ∞ÜÁªèÂ∏∏ËØªÂèñÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏ÄÂùóÔºåÂ∞ÜÊúÄËøëÂèØËÉΩ‰ºöË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÊîæÂà∞‰∏ÄÂùó„ÄÇhbaseÁöÑÁÉ≠ÁÇπÈóÆÈ¢òÔºöHBase‰∏≠ÁöÑË°åÊòØÊåâÁÖßrowkeyÁöÑÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫èÁöÑÔºåËøôÁßçËÆæËÆ°‰ºòÂåñ‰∫ÜscanÊìç‰ΩúÔºåÂèØ‰ª•Â∞ÜÁõ∏ÂÖ≥ÁöÑË°å‰ª•Âèä‰ºöË¢´‰∏ÄËµ∑ËØªÂèñÁöÑË°åÂ≠òÂèñÂú®‰∏¥Ëøë‰ΩçÁΩÆÔºå‰æø‰∫éscan„ÄÇÁÑ∂ËÄåÁ≥üÁ≥ïÁöÑrowkeyËÆæËÆ°ÊòØÁÉ≠ÁÇπÁöÑÊ∫êÂ§¥„ÄÇÁÉ≠ÁÇπÂèëÁîüÂú®Â§ßÈáèÁöÑclientÁõ¥Êé•ËÆøÈóÆÈõÜÁæ§ÁöÑ‰∏Ä‰∏™ÊàñÊûÅÂ∞ëÊï∞‰∏™ËäÇÁÇπÔºàËÆøÈóÆÂèØËÉΩÊòØËØªÔºåÂÜôÊàñËÄÖÂÖ∂‰ªñÊìç‰ΩúÔºâ„ÄÇÂ§ßÈáèËÆøÈóÆ‰ºö‰ΩøÁÉ≠ÁÇπregionÊâÄÂú®ÁöÑÂçï‰∏™Êú∫Âô®Ë∂ÖÂá∫Ëá™Ë∫´ÊâøÂèóËÉΩÂäõÔºåÂºïËµ∑ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥region‰∏çÂèØÁî®ÔºåËøô‰πü‰ºöÂΩ±ÂìçÂêå‰∏Ä‰∏™RegionServer‰∏äÁöÑÂÖ∂‰ªñregionÔºåÁî±‰∫é‰∏ªÊú∫Êó†Ê≥ïÊúçÂä°ÂÖ∂‰ªñregionÁöÑËØ∑Ê±Ç„ÄÇËÆæËÆ°ËâØÂ•ΩÁöÑÊï∞ÊçÆËÆøÈóÆÊ®°Âºè‰ª•‰ΩøÈõÜÁæ§Ë¢´ÂÖÖÂàÜÔºåÂùáË°°ÁöÑÂà©Áî®„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçÂÜôÁÉ≠ÁÇπÔºåËÆæËÆ°rowkey‰ΩøÂæó‰∏çÂêåË°åÂú®Âêå‰∏Ä‰∏™regionÔºå‰ΩÜÊòØÂú®Êõ¥Â§öÊï∞ÊçÆÊÉÖÂÜµ‰∏ãÔºåÊï∞ÊçÆÂ∫îËØ•Ë¢´ÂÜôÂÖ•ÈõÜÁæ§ÁöÑÂ§ö‰∏™regionÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÈÅøÂÖçÁÉ≠ÁÇπÁöÑÊñπÊ≥ï‰ª•ÂèäÂÆÉ‰ª¨ÁöÑ‰ºòÁº∫ÁÇπÔºö1.Âä†ÁõêÔºöËøôÈáåÊâÄËØ¥ÁöÑÂä†Áõê‰∏çÊòØÂØÜÁ†ÅÂ≠¶‰∏≠ÁöÑÂä†ÁõêÔºåËÄåÊòØÂú®rowkeyÁöÑÂâçÈù¢Â¢ûÂä†ÈöèÊú∫Êï∞ÔºåÂÖ∑‰ΩìÂ∞±ÊòØÁªôrowkeyÂàÜÈÖç‰∏Ä‰∏™ÈöèÊú∫ÂâçÁºÄ‰ª•‰ΩøÂæóÂÆÉÂíå‰πãÂâçÁöÑrowkeyÁöÑÂºÄÂ§¥‰∏çÂêå„ÄÇÂàÜÈÖçÁöÑÂâçÁºÄÁßçÁ±ªÊï∞ÈáèÂ∫îËØ•Âíå‰Ω†ÊÉ≥‰ΩøÁî®Êï∞ÊçÆÂàÜÊï£Âà∞‰∏çÂêåÁöÑregionÁöÑÊï∞Èáè‰∏ÄËá¥„ÄÇÂä†Áõê‰πãÂêéÁöÑrowkeyÂ∞±‰ºöÊ†πÊçÆÈöèÊú∫ÁîüÊàêÁöÑÂâçÁºÄÂàÜÊï£Âà∞ÂêÑ‰∏™region‰∏äÔºå‰ª•ÈÅøÂÖçÁÉ≠ÁÇπ„ÄÇ2.ÂìàÂ∏åÔºöÂìàÂ∏å‰ºö‰ΩøÂêå‰∏ÄË°åÊ∞∏ËøúÁî®‰∏Ä‰∏™ÂâçÁºÄÂä†Áõê„ÄÇÂìàÂ∏å‰πüÂèØ‰ª•‰ΩøË¥üËΩΩÂàÜÊï£Âà∞Êï¥‰∏™ÈõÜÁæ§Ôºå‰ΩÜÊòØËØªÂç¥ÊòØÂèØ‰ª•È¢ÑÊµãÁöÑ„ÄÇ‰ΩøÁî®Á°ÆÂÆöÁöÑÂìàÂ∏åÂèØ‰ª•ËÆ©ÂÆ¢Êà∑Á´ØÈáçÊûÑÂÆåÊï¥ÁöÑrowkeyÔºåÂèØ‰ª•‰ΩøÁî®getÊìç‰ΩúÂáÜÁ°ÆËé∑ÂèñÊüê‰∏Ä‰∏™Ë°åÊï∞ÊçÆ„ÄÇ3.ÂèçËΩ¨ÔºöÁ¨¨‰∏âÁßçÈò≤Ê≠¢ÁÉ≠ÁÇπÁöÑÊñπÊ≥ïÊó∂ÂèçËΩ¨Âõ∫ÂÆöÈïøÂ∫¶ÊàñËÄÖÊï∞Â≠óÊ†ºÂºèÁöÑrowkey„ÄÇËøôÊ†∑ÂèØ‰ª•‰ΩøÂæórowkey‰∏≠ÁªèÂ∏∏ÊîπÂèòÁöÑÈÉ®ÂàÜÔºàÊúÄÊ≤°ÊúâÊÑè‰πâÁöÑÈÉ®ÂàÜÔºâÊîæÂú®ÂâçÈù¢„ÄÇËøôÊ†∑ÂèØ‰ª•ÊúâÊïàÁöÑÈöèÊú∫rowkeyÔºå‰ΩÜÊòØÁâ∫Áâ≤‰∫ÜrowkeyÁöÑÊúâÂ∫èÊÄß„ÄÇÂèçËΩ¨rowkeyÁöÑ‰æãÂ≠ê‰ª•ÊâãÊú∫Âè∑‰∏∫rowkeyÔºåÂèØ‰ª•Â∞ÜÊâãÊú∫Âè∑ÂèçËΩ¨ÂêéÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫rowkeyÔºåËøôÊ†∑ÁöÑÂ∞±ÈÅøÂÖç‰∫Ü‰ª•ÊâãÊú∫Âè∑ÈÇ£Ê†∑ÊØîËæÉÂõ∫ÂÆöÂºÄÂ§¥ÂØºËá¥ÁÉ≠ÁÇπÈóÆÈ¢òPhoenix ÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÔºöHbaseÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÊú¨Ë¥®Â∞±ÊòØÂª∫Á´ãÂêÑÂàóÂÄº‰∏éË°åÈîÆ‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ( ÂΩìË¶ÅÂØπF:C1ËøôÂàóÂª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÂè™ÈúÄË¶ÅÂª∫Á´ãF:C1ÂêÑÂàóÂÄºÂà∞ÂÖ∂ÂØπÂ∫îË°åÈîÆÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂ¶ÇC11-&gt;RK1Á≠âÔºåËøôÊ†∑Â∞±ÂÆåÊàê‰∫ÜÂØπF:C1ÂàóÂÄºÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÊûÑÂª∫ÔºåÂΩìË¶ÅÊü•ËØ¢Á¨¶ÂêàF:C1=C11ÂØπÂ∫îÁöÑF:C2ÁöÑÂàóÂÄºÊó∂Âç≥Ê†πÊçÆC1=C11Êù•Êü•ËØ¢C2ÁöÑÂÄº)ÂÖ∂Êü•ËØ¢Ê≠•È™§Â¶Ç‰∏ã:1. Ê†πÊçÆC1=C11Âà∞Á¥¢ÂºïÊï∞ÊçÆ‰∏≠Êü•ÊâæÂÖ∂ÂØπÂ∫îÁöÑRKÔºåÊü•ËØ¢ÂæóÂà∞ÂÖ∂ÂØπÂ∫îÁöÑRK=RK12. ÂæóÂà∞RK1ÂêéÂ∞±Ëá™ÁÑ∂ËÉΩÊ†πÊçÆRK1Êù•Êü•ËØ¢C2ÁöÑÂÄº‰∫Ü ËøôÊòØÊûÑÂª∫‰∫åÁ∫ßÁ¥¢ÂºïÂ§ßÊ¶ÇÊÄùË∑ØÔºåÂÖ∂‰ªñÁªÑÂêàÊü•ËØ¢ÁöÑËÅîÂêàÁ¥¢ÂºïÁöÑÂª∫Á´ã‰πüÁ±ª‰ºº„ÄÇÂú®Hbase‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Âçï‰∏ÄÁöÑÊåâÁÖßÂ≠óÂÖ∏Â∫èÊéíÂ∫èÁöÑrowKeyÁ¥¢ÂºïÔºåÂΩì‰ΩøÁî®rowKeyÊù•ËøõË°åÊï∞ÊçÆÊü•ËØ¢ÁöÑÊó∂ÂÄôÈÄüÂ∫¶ËæÉÂø´Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰∏ç‰ΩøÁî®rowKeyÊù•Êü•ËØ¢ÁöÑËØùÂ∞±‰ºö‰ΩøÁî®filterÊù•ÂØπÂÖ®Ë°®ËøõË°åÊâ´ÊèèÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äÈôç‰Ωé‰∫ÜÊ£ÄÁ¥¢ÊÄßËÉΩ„ÄÇËÄåPhoenixÊèê‰æõ‰∫Ü‰∫åÁ∫ßÁ¥¢ÂºïÊäÄÊúØÊù•Â∫îÂØπËøôÁßç‰ΩøÁî®rowKey‰πãÂ§ñÁöÑÊù°‰ª∂ËøõË°åÊ£ÄÁ¥¢ÁöÑÂú∫ÊôØ„ÄÇPhoenixÊîØÊåÅ‰∏§ÁßçÁ±ªÂûãÁöÑÁ¥¢ÂºïÊäÄÊúØÔºöGlobal IndexingÂíåLocal IndexingGlobal Indexing: ÈÄÇÁî®‰∫éÂ§öËØªÂ∞ëÂÜôÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇ‰ΩøÁî®HbaseÈ¢ÑÂàÜÂå∫ÔºöHbaseÂú®Ë°®ÂàöÂàöÂàõÂª∫ÁöÑÊó∂ÂÄôÔºåÂè™Êúâ‰∏Ä‰∏™ÂàÜÂå∫ÔºàreginÔºâÔºåÂΩì‰∏Ä‰∏™reginËøáÂ§ßÊó∂ÂÄôÔºåË°®‰ºösplitÔºåÂàÜË£ÇÊàê2‰∏™ÂàÜÂå∫ÔºåË°®Âú® ËøõË°åsplitÁöÑÊó∂ÂÄô‰ºöËÄóË¥πÂ§ßÈáèÁöÑËµÑÊ∫êÔºåÊâÄ‰ª•hbaseÊèê‰æõ‰∫ÜÈ¢ÑÂàÜÂå∫ÂäüËÉΩÔºåÂç≥Áî®Êà∑ÂèØ‰ª•Âú®ÂàõÂª∫Ë°®ÁöÑÊó∂ÂÄôÂØπË°®ÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂàôÂàÜÂå∫„ÄÇÂ¶Ç‰ΩïËøõË°åÈ¢ÑÂàÜÂå∫ÔºöÊØè‰∏Ä‰∏™regionÁª¥Êä§ÁùÄstartRow‰∏éendRowÔºåÂ¶ÇÊûúÂä†ÂÖ•ÁöÑÊï∞ÊçÆÁ¨¶ÂêàÊüê‰∏™regionÁª¥Êä§ÁöÑrowKeyËåÉÂõ¥ÔºåÂàôÊï∞ÊçÆ‰∫§ÁªôËøô‰∏™regionÁª¥Êä§„ÄÇHbaseÁöÑregionÂ§™Â§ßÊàñÂ§™Â∞èÁöÑÈóÆÈ¢òÔºöregionÂ§™Â∞èÔºöÊõ¥ÂÆπÊòìËß¶ÂèësplitÔºåÁ≥ªÁªüÁöÑÊï¥‰ΩìËÆøÈóÆÊúçÂä°‰ºöÂá∫Áé∞‰∏çÁ®≥ÂÆöÁöÑÁé∞Ë±°„ÄÇregionÂ§™Â§ßÔºöÁî±‰∫éÈïøÊúüÂæó‰∏çÂà∞splitÔºåÂõ†Ê≠§Âêå‰∏Ä‰∏™regionÂÜÖÁöÑstorefileÊï∞ÈáèÂ§™Â§öÔºåÂèëÁîüÂ§öÊ¨°compactionÂéãÁº©ÁöÑÊú∫‰ºöÂ¢ûÂ§ßÔºå‰ºöÈôç‰ΩéÁ≥ªÁªüÁöÑÊÄßËÉΩÂíåÁ®≥ÂÆöÊÄß„ÄÇÂõ†Ê≠§ÔºåregionÂ§ßÂ∞è‰∏ÄËà¨Âú®5-10GÂ§ßÂ∞èÔºåÊï∞ÈáèÂú®20-200‰πãÈó¥Ôºå‰∏ÄËà¨ÊòØ100‰∏™„ÄÇHbaseÁöÑÁì∂Âä≤ÈóÆÈ¢òÔºö1„ÄÅ‰∏çËÉΩÊîØÊåÅÊù°‰ª∂Êü•ËØ¢ÔºåÂè™ÊîØÊåÅRow KeyÊù•Êü•ËØ¢„ÄÇ2„ÄÅÊöÇÊó∂‰∏çËÉΩÊîØÊåÅMaster Server ÁöÑÊïÖÈöúÂàáÊç¢ÔºåÂΩìmassterÂÆïÊú∫ÔºåÊï¥‰∏™ÂÇ®Â≠òÁ≥ªÁªüÂ∞±‰ºöÊåÇÊéâ3„ÄÅÁ£ÅÁõòIOÁì∂È¢àÈôêÂà∂ÔºåÊï∞ÊçÆÂÇ®Â≠òÂú®Á£ÅÁõò‰∏äÔºå‰∏çÂ¶ÇÁõ¥Êé•ÂÇ®Â≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑredisËØªÂÜôÂø´„ÄÇHbaseÂ¶Ç‰ΩïÂØºÂÖ•Êï∞ÊçÆÔºö‰ΩøÁî®MapReduce JobÊñπÂºèÔºåÊ†πÊçÆHbase APIÁºñÂÜôjavaËÑöÊú¨ÔºåÂ∞ÜÊñáÊú¨Êñá‰ª∂Áî®Êñá‰ª∂ÊµÅÁöÑÊñπÂºèÊà™ÂèñÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âà∞Â§ö‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑ‰∏≠ÔºåÂú®putÊñπÊ≥ï‰∏ãÔºåÈÄöËøáÂØπË°®‰∏≠ÁöÑÂàóÊóèËøõË°åforÂæ™ÁéØÈÅçÂéÜÂàóÂêçÔºåÁî®ifÂà§Êñ≠ÂàóÂêçÂêéËøõË°åforÂæ™ÁéØË∞ÉÁî®put.addÁöÑÊñπÊ≥ïÂØπÂàóÊóè‰∏ãÊØè‰∏Ä‰∏™ÂàóËøõË°åËÆæÂÄºÔºåÊØè‰∏™ÂàóÊóè‰∏ãÊúâÂá†‰∏™‰∫ÜÂ∞±ËµãÂÄºÂá†Ê¨°ÔºÅÊ≤°ÊúâË°®ÂÖàÂØπÂÖàÂàõÂª∫Ë°®„ÄÇHbaseÂíåHiveÁöÑÂå∫Âà´ÔºöÂÖ±ÂêåÁÇπÔºö1.hbase‰∏éhiveÈÉΩÊòØÊû∂ÊûÑÂú®hadoop‰πã‰∏äÁöÑ„ÄÇÈÉΩÊòØÁî®hadoop‰Ωú‰∏∫Â∫ïÂ±ÇÂ≠òÂÇ®Âå∫Âà´Ôºö2.HiveÊòØÂª∫Á´ãÂú®Hadoop‰πã‰∏ä‰∏∫‰∫ÜÂáèÂ∞ëMapReducejobsÁºñÂÜôÂ∑•‰ΩúÁöÑÊâπÂ§ÑÁêÜÁ≥ªÁªüÔºåHBaseÊòØ‰∏∫‰∫ÜÊîØÊåÅÂº•Ë°•HadoopÂØπÂÆûÊó∂Êìç‰ΩúÁöÑÁº∫Èô∑ÁöÑÈ°πÁõÆ „ÄÇ3.ÊÉ≥Ë±°‰Ω†Âú®Êìç‰ΩúRMDBÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûúÊòØÂÖ®Ë°®Êâ´ÊèèÔºåÂ∞±Áî®Hive+Hadoop,Â¶ÇÊûúÊòØÁ¥¢ÂºïËÆøÈóÆÔºåÂ∞±Áî®HBase+Hadoop „ÄÇ4.Hive queryÂ∞±ÊòØMapReduce jobsÂèØ‰ª•‰ªé5ÂàÜÈíüÂà∞Êï∞Â∞èÊó∂‰∏çÊ≠¢ÔºåHBaseÊòØÈùûÂ∏∏È´òÊïàÁöÑÔºåËÇØÂÆöÊØîHiveÈ´òÊïàÁöÑÂ§ö„ÄÇ5.HiveÊú¨Ë∫´‰∏çÂ≠òÂÇ®ÂíåËÆ°ÁÆóÊï∞ÊçÆÔºåÂÆÉÂÆåÂÖ®‰æùËµñ‰∫éHDFSÂíåMapReduceÔºåHive‰∏≠ÁöÑË°®Á∫ØÈÄªËæë„ÄÇ6.hiveÂÄüÁî®hadoopÁöÑMapReduceÊù•ÂÆåÊàê‰∏Ä‰∫õhive‰∏≠ÁöÑÂëΩ‰ª§ÁöÑÊâßË°å7.hbaseÊòØÁâ©ÁêÜË°®Ôºå‰∏çÊòØÈÄªËæëË°®ÔºåÊèê‰æõ‰∏Ä‰∏™Ë∂ÖÂ§ßÁöÑÂÜÖÂ≠òhashË°®ÔºåÊêúÁ¥¢ÂºïÊìéÈÄöËøáÂÆÉÊù•Â≠òÂÇ®Á¥¢ÂºïÔºåÊñπ‰æøÊü•ËØ¢Êìç‰Ωú„ÄÇ8.hbaseÊòØÂàóÂ≠òÂÇ®„ÄÇ9.hdfs‰Ωú‰∏∫Â∫ïÂ±ÇÂ≠òÂÇ®ÔºåhdfsÊòØÂ≠òÊîæÊñá‰ª∂ÁöÑÁ≥ªÁªüÔºåËÄåHbaseË¥üË¥£ÁªÑÁªáÊñá‰ª∂„ÄÇ10.hiveÈúÄË¶ÅÁî®Âà∞hdfsÂ≠òÂÇ®Êñá‰ª∂ÔºåÈúÄË¶ÅÁî®Âà∞MapReduceËÆ°ÁÆóÊ°ÜÊû∂„ÄÇË°åÂºèÊï∞ÊçÆÂ∫ì‰∏éÂàóÂºèÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´Ôºö‰º†ÁªüË°åÂºèÔºö1„ÄÅÊï∞ÊçÆÊòØÊåâË°åÂÇ®Â≠ò„ÄÇ2„ÄÅÊ≤°ÊúâÁ¥¢ÂºïÁöÑÊü•ËØ¢‰ΩøÁî®Â§ßÈáèI/O„ÄÇ3„ÄÅÂª∫Á´ãÁ¥¢ÂºïÂíåÁâ©ÂåñËßÜÂõæÈúÄË¶ÅÂ§ßÈáèÊó∂Èó¥ÂíåËµÑÊ∫ê„ÄÇ4„ÄÅÈù¢ÂØπÊü•ËØ¢ÁöÑÈúÄÊ±ÇÔºåÊï∞ÊçÆÂ∫ìÂøÖÈ°ªË¢´Â§ßÈáèËÜ®ËÉÄÊâçËÉΩÊª°Ë∂≥ÊÄßËÉΩÁöÑË¶ÅÊ±Ç„ÄÇÂàóÂºèÔºö1„ÄÅÊï∞ÊçÆÊåâÂàóÂ≠òÂÇ®„ÄÇ2„ÄÅÊï∞ÊçÆÂç≥‰ΩøÁ¥¢Âºï„ÄÇ3„ÄÅÂè™ËÆøÈóÆÊü•ËØ¢Ê∂âÂèäÁöÑÂàóÔºàÂ§ßÈáèÈôç‰Ωé Á≥ªÁªüÁöÑI/OÔºâ„ÄÇ4„ÄÅÊØè‰∏ÄÂàóÊúâ‰∏Ä‰∏™Á∫øÁ¥¢Êù•Â§ÑÁêÜ„ÄÇÔºàÊü•ËØ¢ÁöÑÂπ∂ÂèëÂ§ÑÁêÜÔºâ„ÄÇ5„ÄÅÊï∞ÊçÆÁ±ªÂûã‰∏ÄËá¥ÔºåÊï∞ÊçÆÁâπÂæÅÁõ∏‰ºº„ÄÇÔºàÂéãÁº©È´òÊïàÔºâ„ÄÇÂàóÁ∞áÊÄé‰πàÂàõÂª∫ÊØîËæÉÂ•ΩÔºüÔºà&lt;=2ÔºârowKeyÊúÄÂ•ΩË¶ÅÂàõÂª∫ÊúâËßÑÂàôÁöÑrowKeyÔºåÂç≥ÊúÄÂ•ΩÊòØÊúâÂ∫èÁöÑ„ÄÇHBase‰∏≠‰∏ÄÂº†Ë°®ÊúÄÂ•ΩÂè™ÂàõÂª∫‰∏ÄÂà∞‰∏§‰∏™ÂàóÁ∞áÊØîËæÉÂ•ΩÔºåÂõ†‰∏∫HBase‰∏çËÉΩÂæàÂ•ΩÁöÑÂ§ÑÁêÜÂ§ö‰∏™ÂàóÁ∞á„ÄÇÊèèËø∞Hbase‰∏≠scanÂíågetÁöÑÂäüËÉΩ‰ª•ÂèäÂÆûÁé∞ÁöÑÂºÇÂêå.:1.ÊåâÊåáÂÆöRowKey Ëé∑ÂèñÂîØ‰∏Ä‰∏ÄÊù°ËÆ∞ÂΩïÔºågetÊñπÊ≥ïÔºàorg.apache.hadoop.hbase.client.GetÔºâGet ÁöÑÊñπÊ≥ïÂ§ÑÁêÜÂàÜ‰∏§Áßç : ËÆæÁΩÆ‰∫ÜClosestRowBefore ÂíåÊ≤°ÊúâËÆæÁΩÆÁöÑrowlock .‰∏ªË¶ÅÊòØÁî®Êù•‰øùËØÅË°åÁöÑ‰∫ãÂä°ÊÄßÔºåÂç≥ÊØè‰∏™get ÊòØ‰ª•‰∏Ä‰∏™row Êù•Ê†áËÆ∞ÁöÑ.‰∏Ä‰∏™row‰∏≠ÂèØ‰ª•ÊúâÂæàÂ§öfamily Âíåcolumn.2.ÊåâÊåáÂÆöÁöÑÊù°‰ª∂Ëé∑Âèñ‰∏ÄÊâπËÆ∞ÂΩïÔºåscanÊñπÊ≥ï(org.apache.Hadoop.hbase.client.Scan)ÂÆûÁé∞Êù°‰ª∂Êü•ËØ¢ÂäüËÉΩ‰ΩøÁî®ÁöÑÂ∞±ÊòØscan ÊñπÂºè.1)scan ÂèØ‰ª•ÈÄöËøásetCaching ‰∏ésetBatch ÊñπÊ≥ïÊèêÈ´òÈÄüÂ∫¶(‰ª•Á©∫Èó¥Êç¢Êó∂Èó¥)Ôºõ   2)scan ÂèØ‰ª•ÈÄöËøásetStartRow ‰∏ésetEndRow Êù•ÈôêÂÆöËåÉÂõ¥([startÔºåend]start ÊòØÈó≠Âå∫Èó¥Ôºåend ÊòØÂºÄÂå∫Èó¥)„ÄÇËåÉÂõ¥Ë∂äÂ∞èÔºåÊÄßËÉΩË∂äÈ´ò„ÄÇ3)scan ÂèØ‰ª•ÈÄöËøásetFilter ÊñπÊ≥ïÊ∑ªÂä†ËøáÊª§Âô®ÔºåËøô‰πüÊòØÂàÜÈ°µ„ÄÅÂ§öÊù°‰ª∂Êü•ËØ¢ÁöÑÂü∫Á°Ä„ÄÇ 3.ÂÖ®Ë°®Êâ´ÊèèÔºåÂç≥Áõ¥Êé•Êâ´ÊèèÊï¥Âº†Ë°®‰∏≠ÊâÄÊúâË°åËÆ∞ÂΩïHBASE‰∏≠compactÁî®ÈÄîÊòØ‰ªÄ‰πàÔºå‰ªÄ‰πàÊó∂ÂÄôËß¶ÂèëÔºåÂàÜ‰∏∫Âì™‰∏§Áßç,Êúâ‰ªÄ‰πàÂå∫Âà´:Âú®hbase‰∏≠ÊØèÂΩìÊúâmemstoreÊï∞ÊçÆflushÂà∞Á£ÅÁõò‰πãÂêéÔºåÂ∞±ÂΩ¢Êàê‰∏Ä‰∏™storefileÔºåÂΩìstoreFileÁöÑÊï∞ÈáèËææÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÂêéÔºåÂ∞±ÈúÄË¶ÅÂ∞Ü storefile Êñá‰ª∂Êù•ËøõË°å compaction Êìç‰Ωú„ÄÇCompact ÁöÑ‰ΩúÁî®Ôºö1&gt;.ÂêàÂπ∂Êñá‰ª∂2&gt;.Ê∏ÖÈô§ËøáÊúüÔºåÂ§ö‰ΩôÁâàÊú¨ÁöÑÊï∞ÊçÆ3&gt;.ÊèêÈ´òËØªÂÜôÊï∞ÊçÆÁöÑÊïàÁéáHBase ‰∏≠ÂÆûÁé∞‰∫Ü‰∏§Áßç compaction ÁöÑÊñπÂºèÔºöminor and major. Ëøô‰∏§Áßç compaction ÊñπÂºèÁöÑÂå∫Âà´ÊòØÔºö1„ÄÅMinor Êìç‰ΩúÂè™Áî®Êù•ÂÅöÈÉ®ÂàÜÊñá‰ª∂ÁöÑÂêàÂπ∂Êìç‰Ωú‰ª•ÂèäÂåÖÊã¨ minVersion=0 Âπ∂‰∏îËÆæÁΩÆ ttl ÁöÑËøáÊúüÁâàÊú¨Ê∏ÖÁêÜÔºå‰∏çÂÅö‰ªª‰ΩïÂà†Èô§Êï∞ÊçÆ„ÄÅÂ§öÁâàÊú¨Êï∞ÊçÆÁöÑÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇ2„ÄÅMajor Êìç‰ΩúÊòØÂØπ Region ‰∏ãÁöÑHStore‰∏ãÁöÑÊâÄÊúâStoreFileÊâßË°åÂêàÂπ∂Êìç‰ΩúÔºåÊúÄÁªàÁöÑÁªìÊûúÊòØÊï¥ÁêÜÂêàÂπ∂Âá∫‰∏Ä‰∏™Êñá‰ª∂„ÄÇÁÆÄËø∞Hbase filterÁöÑÂÆûÁé∞ÂéüÁêÜÊòØ‰ªÄ‰πàÔºüÁªìÂêàÂÆûÈôÖÈ°πÁõÆÁªèÈ™åÔºåÂÜôÂá∫Âá†‰∏™‰ΩøÁî®filterÁöÑÂú∫ÊôØ:HBase‰∏∫Á≠õÈÄâÊï∞ÊçÆÊèê‰æõ‰∫Ü‰∏ÄÁªÑËøáÊª§Âô®ÔºåÈÄöËøáËøô‰∏™ËøáÊª§Âô®ÂèØ‰ª•Âú®HBase‰∏≠ÁöÑÊï∞ÊçÆÁöÑÂ§ö‰∏™Áª¥Â∫¶ÔºàË°åÔºåÂàóÔºåÊï∞ÊçÆÁâàÊú¨Ôºâ‰∏äËøõË°åÂØπÊï∞ÊçÆÁöÑÁ≠õÈÄâÊìç‰ΩúÔºå‰πüÂ∞±ÊòØËØ¥ËøáÊª§Âô®ÊúÄÁªàËÉΩÂ§üÁ≠õÈÄâÁöÑÊï∞ÊçÆËÉΩÂ§üÁªÜÂåñÂà∞ÂÖ∑‰ΩìÁöÑ‰∏Ä‰∏™Â≠òÂÇ®ÂçïÂÖÉÊ†º‰∏äÔºàÁî±Ë°åÈîÆÔºåÂàóÂêçÔºåÊó∂Èó¥Êà≥ÂÆö‰ΩçÔºâ„ÄÇRowFilter„ÄÅPrefixFilter„ÄÇ„ÄÇ„ÄÇhbaseÁöÑfilterÊòØÈÄöËøáscanËÆæÁΩÆÁöÑÔºåÊâÄ‰ª•ÊòØÂü∫‰∫éscanÁöÑÊü•ËØ¢ÁªìÊûúËøõË°åËøáÊª§.ËøáÊª§Âô®ÁöÑÁ±ªÂûãÂæàÂ§öÔºå‰ΩÜÊòØÂèØ‰ª•ÂàÜ‰∏∫‰∏§Â§ßÁ±ª‚Äî‚ÄîÊØîËæÉËøáÊª§Âô®Ôºå‰∏ìÁî®ËøáÊª§Âô®ËøáÊª§Âô®ÁöÑ‰ΩúÁî®ÊòØÂú®ÊúçÂä°Á´ØÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Êª°Ë∂≥Êù°‰ª∂ÔºåÁÑ∂ÂêéÂè™Â∞ÜÊª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞ÊçÆËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºõÂ¶ÇÂú®ËøõË°åËÆ¢ÂçïÂºÄÂèëÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨‰ΩøÁî®rowkeyfilterËøáÊª§Âá∫Êüê‰∏™Áî®Êà∑ÁöÑÊâÄÊúâËÆ¢ÂçïhbaseÁöÑÂÇ®Â≠òÁªìÊûÑÁöÑ‰ºòÁº∫ÁÇπÔºöHbaseÁöÑ‰ºòÁÇπÂèäÂ∫îÁî®Âú∫ÊôØ:
	1. ÂçäÁªìÊûÑÂåñÊàñÈùûÁªìÊûÑÂåñÊï∞ÊçÆ: ÂØπ‰∫éÊï∞ÊçÆÁªìÊûÑÂ≠óÊÆµ‰∏çÂ§üÁ°ÆÂÆöÊàñÊùÇ‰π±Êó†Á´†ÈùûÂ∏∏ÈöæÊåâ‰∏Ä‰∏™Ê¶ÇÂøµÂéªËøõË°åÊäΩÂèñÁöÑÊï∞ÊçÆÈÄÇÂêàÁî®HBaseÔºåÂõ†‰∏∫HBaseÊîØÊåÅÂä®ÊÄÅÊ∑ªÂä†Âàó„ÄÇ
	2. ËÆ∞ÂΩïÂæàÁ®ÄÁñèÔºö RDBMSÁöÑË°åÊúâÂ§öÂ∞ëÂàóÊòØÂõ∫ÂÆöÁöÑ„ÄÇ‰∏∫nullÁöÑÂàóÊµ™Ë¥π‰∫ÜÂ≠òÂÇ®Á©∫Èó¥„ÄÇHBase‰∏∫nullÁöÑColumn‰∏ç‰ºöË¢´Â≠òÂÇ®ÔºåËøôÊ†∑Êó¢ËäÇÁúÅ‰∫ÜÁ©∫Èó¥ÂèàÊèêÈ´ò‰∫ÜËØªÊÄßËÉΩ„ÄÇ
	3. Â§öÁâàÊú¨Âè∑Êï∞ÊçÆÔºö ‰æùÊçÆRow keyÂíåColumn keyÂÆö‰ΩçÂà∞ÁöÑValueËÉΩÂ§üÊúâÈöèÊÑèÊï∞ÈáèÁöÑÁâàÊú¨Âè∑ÂÄºÔºåÂõ†Ê≠§ÂØπ‰∫éÈ°ªË¶ÅÂ≠òÂÇ®ÂèòÂä®ÂéÜÂè≤ËÆ∞ÂΩïÁöÑÊï∞ÊçÆÔºåÁî®HBaseÊòØÂæàÊñπ‰æøÁöÑ„ÄÇÊØîÊñπÊüê‰∏™Áî®Êà∑ÁöÑAddressÂèòÊõ¥ÔºåÁî®Êà∑ÁöÑAddressÂèòÊõ¥ËÆ∞ÂΩï‰πüËÆ∏‰πüÊòØÂÖ∑ÊúâÁ†îÁ©∂ÊÑè‰πâÁöÑ„ÄÇ
	4. ‰ªÖË¶ÅÊ±ÇÊúÄÁªà‰∏ÄËá¥ÊÄßÔºö ÂØπ‰∫éÊï∞ÊçÆÂ≠òÂÇ®‰∫ãÂä°ÁöÑË¶ÅÊ±Ç‰∏çÂÉèÈáëËûçË°å‰∏öÂíåË¥¢Âä°Á≥ªÁªüËøô‰πàÈ´òÔºåÂè™Ë¶Å‰øùËØÅÊúÄÁªà‰∏ÄËá¥ÊÄßÂ∞±Ë°å„ÄÇÔºàÊØîÂ¶ÇHBase+elasticsearchÊó∂ÔºåÂèØËÉΩÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥Ôºâ
	5. È´òÂèØÁî®ÂíåÊµ∑ÈáèÊï∞ÊçÆ‰ª•ÂèäÂæàÂ§ßÁöÑÁû¨Èó¥ÂÜôÂÖ•ÈáèÔºö WALËß£ÂÜ≥È´òÂèØÁî®ÔºåÊîØÊåÅPBÁ∫ßÊï∞ÊçÆÔºåputÊÄßËÉΩÈ´ò ÈÄÇÁî®‰∫éÊèíÂÖ•ÊØîÊü•ËØ¢Êìç‰ΩúÊõ¥È¢ëÁπÅÁöÑÊÉÖÂÜµ„ÄÇÊØîÂ¶ÇÔºåÂØπ‰∫éÂéÜÂè≤ËÆ∞ÂΩïË°®ÂíåÊó•ÂøóÊñá‰ª∂„ÄÇÔºàHBaseÁöÑÂÜôÊìç‰ΩúÊõ¥Âä†È´òÊïàÔºâ
	6. ‰∏öÂä°Âú∫ÊôØÁÆÄÂçïÔºö ‰∏çÈúÄË¶ÅÂ§™Â§öÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁâπÊÄßÔºåÂàóÂÖ•‰∫§ÂèâÂàóÔºå‰∫§ÂèâË°®Ôºå‰∫ãÂä°ÔºåËøûÊé•Á≠â„ÄÇ

HbaseÁöÑÁº∫ÁÇπÔºö
	1. Âçï‰∏ÄRowKeyÂõ∫ÊúâÁöÑÂ±ÄÈôêÊÄßÂÜ≥ÂÆö‰∫ÜÂÆÉ‰∏çÂèØËÉΩÊúâÊïàÂú∞ÊîØÊåÅÂ§öÊù°‰ª∂Êü•ËØ¢
	2. ‰∏çÈÄÇÂêà‰∫éÂ§ßËåÉÂõ¥Êâ´ÊèèÊü•ËØ¢
	3. ‰∏çÁõ¥Êé•ÊîØÊåÅ SQL ÁöÑËØ≠Âè•Êü•ËØ¢

HMasterÂÆïÊú∫ÁöÑÊó∂ÂÄô,Âì™‰∫õÊìç‰ΩúËøòËÉΩÊ≠£Â∏∏Â∑•‰ΩúÂØπË°®ÂÜÖÊï∞ÊçÆÁöÑÂ¢ûÂà†Êü•ÊîπÊòØÂèØ‰ª•Ê≠£Â∏∏ËøõË°åÁöÑ,Âõ†‰∏∫hbase client ËÆøÈóÆÊï∞ÊçÆÂè™ÈúÄË¶ÅÈÄöËøá zookeeper Êù•ÊâæÂà∞ rowkey ÁöÑÂÖ∑‰Ωì region ‰ΩçÁΩÆÂç≥ÂèØ. ‰ΩÜÊòØÂØπ‰∫éÂàõÂª∫Ë°®/Âà†Èô§Ë°®Á≠âÁöÑÊìç‰ΩúÂ∞±Êó†Ê≥ïËøõË°å‰∫Ü,Âõ†‰∏∫ËøôÊó∂ÂÄôÊòØÈúÄË¶ÅHMaster‰ªãÂÖ•, Âπ∂‰∏îregionÁöÑÊãÜÂàÜ,ÂêàÂπ∂,ËøÅÁßªÁ≠âÊìç‰Ωú‰πüÈÉΩÊó†Ê≥ïËøõË°å‰∫ÜsqoopÈù¢ËØïÈ¢ò:1 „ÄÅSqoopÂØºÂÖ•Êï∞ÊçÆÂà∞hdfs‰∏≠ÁöÑÂèÇÊï∞/opt/module/sqoop/bin/sqoop import \--connect \ # ÁâπÊÆäÁöÑjdbcËøûÊé•ÁöÑÂ≠óÁ¨¶‰∏≤--username \--password \--target-dir \  # hdfsÁõÆÊ†áÁöÑÁõÆÂΩï--delete-target-dir \ # ÂØºÂÖ•ÁöÑÁõÆÊ†áÁõÆÂΩïÂ¶ÇÊûúÂ≠òÂú®ÂàôÂà†Èô§ÈÇ£‰∏™ÁõÆÂΩï--num-mappers \   #Áõ∏ÂΩì‰∫é -m ,Âπ∂Ë°åÂØºÂÖ•Êó∂map taskÁöÑ‰∏™Êï∞--fields-terminated-by   \--query &quot;$2&quot;  &#39; and $CONDITIONS;&#39; # ÊåáÂÆöÊª°Ë∂≥sqlÂíåÊù°‰ª∂ÁöÑÊï∞ÊçÆÂØºÂÖ• 2„ÄÅSqoopÂØºÂÖ•hiveÊó∂ÁöÑÂèÇÊï∞‰∏ÄÊ≠•Â∞ÜË°®ÁªìÊûÑÂíåÊï∞ÊçÆÈÉΩÂØºÂÖ•Âà∞hive‰∏≠bin/sqoop import \--connect jdbcÁöÑurlÂ≠óÁ¨¶‰∏≤ \--table mysql‰∏≠ÁöÑË°®Âêç\--username Ë¥¶Âè∑ \--password ÂØÜÁ†Å\--hive-import \--m mapTaskÁöÑ‰∏™Êï∞\--hive-database hive‰∏≠ÁöÑÊï∞ÊçÆÂ∫ìÂêç;3„ÄÅ SqoopÂØºÂÖ•ÂØºÂá∫NullÂ≠òÂÇ®‰∏ÄËá¥ÊÄßÈóÆÈ¢òHive‰∏≠ÁöÑNullÂú®Â∫ïÂ±ÇÊòØ‰ª•‚Äú\N‚ÄùÊù•Â≠òÂÇ®ÔºåËÄåMySQL‰∏≠ÁöÑNullÂú®Â∫ïÂ±ÇÂ∞±ÊòØNullÔºå‰∏∫‰∫Ü‰øùËØÅÊï∞ÊçÆ‰∏§Á´ØÁöÑ‰∏ÄËá¥ÊÄß,ËΩ¨ÂåñÁöÑËøáÁ®ã‰∏≠ÈÅáÂà∞null-string,null-non-stringÊï∞ÊçÆÈÉΩËΩ¨ÂåñÊàêÊåáÂÆöÁöÑÁ±ªÂûãÔºåÈÄöÂ∏∏ÊåáÂÆöÊàê&quot;\N&quot;„ÄÇÂú®ÂØºÂá∫Êï∞ÊçÆÊó∂ÈááÁî®‚Äìinput-null-string ‚Äú\N‚Äù --input-null-non-string ‚Äú\N‚Äù ‰∏§‰∏™ÂèÇÊï∞„ÄÇÂØºÂÖ•Êï∞ÊçÆÊó∂ÈááÁî®‚Äìnull-string ‚Äú\N‚Äù --null-non-string ‚Äú\N‚Äù„ÄÇ 4„ÄÅSqoopÊï∞ÊçÆÂØºÂá∫‰∏ÄËá¥ÊÄßÈóÆÈ¢ò1ÔºâÂú∫ÊôØ1ÔºöÂ¶ÇSqoopÂú®ÂØºÂá∫Âà∞MysqlÊó∂Ôºå‰ΩøÁî®4‰∏™Map‰ªªÂä°ÔºåËøáÁ®ã‰∏≠Êúâ2‰∏™‰ªªÂä°Â§±Ë¥•ÔºåÈÇ£Ê≠§Êó∂MySQL‰∏≠Â≠òÂÇ®‰∫ÜÂè¶Â§ñ‰∏§‰∏™Map‰ªªÂä°ÂØºÂÖ•ÁöÑÊï∞ÊçÆÔºåÊ≠§Êó∂ËÄÅÊùøÊ≠£Â•ΩÁúãÂà∞‰∫ÜËøô‰∏™Êä•Ë°®Êï∞ÊçÆ„ÄÇËÄåÂºÄÂèëÂ∑•Á®ãÂ∏àÂèëÁé∞‰ªªÂä°Â§±Ë¥•ÂêéÔºå‰ºöË∞ÉËØïÈóÆÈ¢òÂπ∂ÊúÄÁªàÂ∞ÜÂÖ®ÈÉ®Êï∞ÊçÆÊ≠£Á°ÆÁöÑÂØºÂÖ•MySQLÔºåÈÇ£ÂêéÈù¢ËÄÅÊùøÂÜçÊ¨°ÁúãÊä•Ë°®Êï∞ÊçÆÔºåÂèëÁé∞Êú¨Ê¨°ÁúãÂà∞ÁöÑÊï∞ÊçÆ‰∏é‰πãÂâçÁöÑ‰∏ç‰∏ÄËá¥ÔºåËøôÂú®Áîü‰∫ßÁéØÂ¢ÉÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ‰ΩøÁî®‚Äîstaging-tableÈÄâÈ°πÔºåÂ∞Ühdfs‰∏≠ÁöÑÊï∞ÊçÆÂÖàÂØºÂÖ•Âà∞ËæÖÂä©Ë°®‰∏≠ÔºåÂΩìhdfs‰∏≠ÁöÑÊï∞ÊçÆÂØºÂá∫ÊàêÂäüÂêéÔºåËæÖÂä©Ë°®‰∏≠ÁöÑÊï∞ÊçÆÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÂØºÂá∫Âà∞ÁõÆÊ†áË°®‰∏≠Ôºà‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ËøáÁ®ãË¶Å‰∏çÂÆåÂÖ®ÊàêÂäüÔºåË¶Å‰∏çÂÆåÂÖ®Â§±Ë¥•Ôºâ„ÄÇ‰∏∫‰∫ÜËÉΩÂ§ü‰ΩøÁî®stagingËøô‰∏™ÈÄâÈ°πÔºåstagingË°®Âú®ËøêË°å‰ªªÂä°ÂâçÊàñËÄÖÊòØÁ©∫ÁöÑÔºåË¶Å‰∏çÂ∞±‰ΩøÁî®‚Äîclear-staging-tableÈÖçÁΩÆÔºåÂ¶ÇÊûústagingË°®‰∏≠ÊúâÊï∞ÊçÆÔºåÂπ∂‰∏î‰ΩøÁî®‰∫Ü‚Äîclear-staging-tableÈÄâÈ°π,sqoopÊâßË°åÂØºÂá∫‰ªªÂä°Ââç‰ºöÂà†Èô§stagingË°®‰∏≠ÊâÄÊúâÁöÑÊï∞ÊçÆ„ÄÇÊ≥®ÊÑèÔºö‚ÄìdirectÂØºÂÖ•Êó∂stagingÊñπÂºèÊòØ‰∏çÂèØÁî®ÁöÑÔºå‰ΩøÁî®‰∫Ü‚Äîupdate-keyÈÄâÈ°πÊó∂stagingÊñπÂºè‰πü‰∏çËÉΩÁî®„ÄÇ    sqoop export \    --connect url \    --username root \    --password 123456 \    --table app_cource_study_report \    --columns watch_video_cnt,complete_video_cnt,dt \    --fields-terminated-by &quot;\t&quot; \    --export-dir &quot;/user/hive/warehouse/tmp.db/app_cource_study_analysi_${day}&quot; \    --staging-table app_cource_study_report_tmp \    --clear-staging-table \    --input-null-string &#39;\\N&#39; \    --null-non-string &quot;\\N&quot;2ÔºâÂú∫ÊôØ2ÔºöËÆæÁΩÆmapÊï∞Èáè‰∏∫1‰∏™Ôºà‰∏çÊé®ËçêÔºåÈù¢ËØïÂÆòÊÉ≥Ë¶ÅÁöÑÁ≠îÊ°à‰∏çÂè™Ëøô‰∏™ÔºâÂ§ö‰∏™Map‰ªªÂä°Êó∂ÔºåÈááÁî®‚Äìstaging-tableÊñπÂºèÔºå‰ªçÁÑ∂ÂèØ‰ª•Ëß£ÂÜ≥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò„ÄÇ5„ÄÅ SqoopÂ∫ïÂ±ÇËøêË°åÁöÑ‰ªªÂä°ÊòØ‰ªÄ‰πàÂè™ÊúâMapÈò∂ÊÆµÔºåÊ≤°ÊúâReduceÈò∂ÊÆµÁöÑ‰ªªÂä°„ÄÇ6„ÄÅ Map taskÂπ∂Ë°åÂ∫¶ËÆæÁΩÆÂ§ß‰∫é1ÁöÑÈóÆÈ¢òÈÇ£‰πàÂ∞±ÊòØËØ¥ÂΩìmap taskÂπ∂Ë°åÂ∫¶Â§ß‰∫é1Êó∂Ôºå‰∏ãÈù¢‰∏§‰∏™ÂèÇÊï∞Ë¶ÅÂêåÊó∂‰ΩøÁî®‚Äìsplit-by id ÊåáÂÆöÊ†πÊçÆidÂ≠óÊÆµËøõË°åÂàáÂàÜ‚Äìm n ÊåáÂÆömapÂπ∂Ë°åÂ∫¶n‰∏™7„ÄÅ SqoopÊï∞ÊçÆÂØºÂá∫ÁöÑÊó∂ÂÄô‰∏ÄÊ¨°ÊâßË°åÂ§öÈïøÊó∂Èó¥Sqoop‰ªªÂä°5ÂàÜÈíü-2‰∏™Â∞èÊó∂ÁöÑÈÉΩÊúâ„ÄÇÂèñÂÜ≥‰∫éÊï∞ÊçÆÈáè„ÄÇHiveÁöÑÊû∂ÊûÑÔºöHiveÂíåÊï∞ÊçÆÂ∫ìÁöÑÊØîËæÉÔºöHive ÂíåÊï∞ÊçÆÂ∫ìÈô§‰∫ÜÊã•ÊúâÁ±ª‰ººÁöÑÊü•ËØ¢ËØ≠Ë®ÄÔºåÂÜçÊó†Á±ª‰ºº‰πãÂ§Ñ„ÄÇ
	1. Êï∞ÊçÆÂ≠òÂÇ®‰ΩçÁΩÆ

HiveÂ≠òÂÇ®Âú®HDFS„ÄÇÊï∞ÊçÆÂ∫ìÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú®ÂùóËÆæÂ§áÊàñËÄÖÊú¨Âú∞Êñá‰ª∂Á≥ªÁªü‰∏≠„ÄÇ
	1. Êï∞ÊçÆÊõ¥Êñ∞

Hive‰∏≠‰∏çÂª∫ËÆÆÂØπÊï∞ÊçÆÁöÑÊîπÂÜô„ÄÇËÄåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÈÄöÂ∏∏ÊòØÈúÄË¶ÅÁªèÂ∏∏ËøõË°å‰øÆÊîπÁöÑÔºå
	1. ÊâßË°åÂª∂Ëøü

HiveÊâßË°åÂª∂ËøüËæÉÈ´ò„ÄÇÊï∞ÊçÆÂ∫ìÁöÑÊâßË°åÂª∂ËøüËæÉ‰Ωé„ÄÇÂΩìÁÑ∂ÔºåËøô‰∏™ÊòØÊúâÊù°‰ª∂ÁöÑÔºåÂç≥Êï∞ÊçÆËßÑÊ®°ËæÉÂ∞èÔºåÂΩìÊï∞ÊçÆËßÑÊ®°Â§ßÂà∞Ë∂ÖËøáÊï∞ÊçÆÂ∫ìÁöÑÂ§ÑÁêÜËÉΩÂäõÁöÑÊó∂ÂÄôÔºåHiveÁöÑÂπ∂Ë°åËÆ°ÁÆóÊòæÁÑ∂ËÉΩ‰ΩìÁé∞Âá∫‰ºòÂäø„ÄÇ
	1. Êï∞ÊçÆËßÑÊ®°

HiveÊîØÊåÅÂæàÂ§ßËßÑÊ®°ÁöÑÊï∞ÊçÆËÆ°ÁÆóÔºõÊï∞ÊçÆÂ∫ìÂèØ‰ª•ÊîØÊåÅÁöÑÊï∞ÊçÆËßÑÊ®°ËæÉÂ∞è„ÄÇHiveÁöÑÂõõ‰∏™ByÁöÑÂå∫Âà´Ôºö
	1. Sort ByÔºöÂàÜÂå∫ÂÜÖÊúâÂ∫èÔºõ
	2. Order ByÔºöÂÖ®Â±ÄÊéíÂ∫èÔºåÂè™Êúâ‰∏Ä‰∏™ReducerÔºõ
	3. Distrbute ByÔºöÁ±ª‰ººMR‰∏≠PartitionÔºåËøõË°åÂàÜÂå∫ÔºåÁªìÂêàsort by‰ΩøÁî®„ÄÇ
	4. Cluster ByÔºöÂΩìDistribute byÂíåSorts byÂ≠óÊÆµÁõ∏ÂêåÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®Cluster byÊñπÂºè„ÄÇCluster byÈô§‰∫ÜÂÖ∑ÊúâDistribute byÁöÑÂäüËÉΩÂ§ñËøòÂÖºÂÖ∑Sort byÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÊéíÂ∫èÂè™ËÉΩÊòØÂçáÂ∫èÊéíÂ∫èÔºå‰∏çËÉΩÊåáÂÆöÊéíÂ∫èËßÑÂàô‰∏∫ASCÊàñËÄÖDESC„ÄÇ

hiveÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÔºöÂÄæÊñúÂéüÂõ†Ôºö mapËæìÂá∫Êï∞ÊçÆÊåâKey HashÂàÜÈÖçÂà∞reduce‰∏≠,Áî±‰∫ékeyÂàÜÂ∏É‰∏çÂùáÂåÄ„ÄÅÊàñËÄÖ‰∏öÂä°Êï∞ÊçÆÊú¨Ë∫´ÁöÑÁâπÁÇπ„ÄÇÁ≠âÂéüÂõ†ÈÄ†ÊàêÁöÑreduce‰∏äÁöÑÊï∞ÊçÆÈáèÂ∑ÆÂºÇËøáÂ§ß„ÄÇ1.1)keyÂàÜÂ∏É‰∏çÂùáÂåÄ1.2)‰∏öÂä°Êï∞ÊçÆÊú¨Ë∫´ÁöÑÁâπÊÄß1.3)SQLËØ≠Âè•ÈÄ†ÊàêÊï∞ÊçÆÂÄæÊñúËß£ÂÜ≥ÊñπÊ°àÔºö1&gt;ÂèÇÊï∞Ë∞ÉËäÇÔºö    hive.map.aggr=true    hive.groupby.skewindata=trueÊúâÊï∞ÊçÆÂÄæÊñúÁöÑÊó∂ÂÄôËøõË°åË¥üËΩΩÂùáË°°ÔºåÂΩìÈÄâÈ°πËÆæÂÆö‰∏∫true,ÁîüÊàêÁöÑÊü•ËØ¢ËÆ°Âàí‰ºöÊúâ‰∏§‰∏™MR Job„ÄÇÁ¨¨‰∏Ä‰∏™MR Job‰∏≠ÔºåMapÁöÑËæìÂá∫ÁªìÊûúÈõÜÂêà‰ºöÈöèÊú∫ÂàÜÂ∏ÉÂà∞Reduce‰∏≠ÔºåÊØè‰∏™ReduceÂÅöÈÉ®ÂàÜËÅöÂêàÊìç‰ΩúÔºåÂπ∂ËæìÂá∫ÁªìÊûúÔºåËøôÊ†∑Â§ÑÁêÜÁöÑÁªìÊûúÊòØÁõ∏ÂêåGroup By KeyÊúâÂèØËÉΩË¢´ÂàÜÂèëÂà∞‰∏çÂêåÁöÑReduce‰∏≠Ôºå‰ªéËÄåËææÂà∞Ë¥üËΩΩÂùáË°°ÁöÑÁõÆÁöÑÔºõÁ¨¨‰∫å‰∏™MR JobÂú®Ê†πÊçÆÈ¢ÑÂ§ÑÁêÜÁöÑÊï∞ÊçÆÁªìÊûúÊåâÁÖß Group By Key ÂàÜÂ∏ÉÂà∞Reduce‰∏≠(Ëøô‰∏™ËøáÁ®ãÂèØ‰ª•‰øùËØÅÁõ∏ÂêåÁöÑ Group By Key Ë¢´ÂàÜÂ∏ÉÂà∞Âêå‰∏Ä‰∏™Reduce‰∏≠)ÔºåÊúÄÂêéÂÆåÊàêÊúÄÁªàÁöÑËÅöÂêàÊìç‰Ωú„ÄÇ2&gt;SQLËØ≠Âè•Ë∞ÉËäÇÔºö   1)ÈÄâÁî®join key ÂàÜÂ∏ÉÊúÄÂùáÂåÄÁöÑË°®‰Ωú‰∏∫È©±Âä®Ë°®„ÄÇÂÅöÂ•ΩÂàóË£ÅÂâ™ÂíåfilterÊìç‰ΩúÔºå‰ª•ËææÂà∞‰∏§Ë°®joinÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÈáèÁõ∏ÂØπÂèòÂ∞èÁöÑÊïàÊûú„ÄÇ   2)Â§ßÂ∞èË°®JoinÔºö ‰ΩøÁî®map joinËÆ©Â∞èÁöÑÁª¥Â∫¶Ë°®Ôºà1000Êù°‰ª•‰∏ãÁöÑËÆ∞ÂΩïÊù°Êï∞ÔºâÂÖàËøõÂÜÖÂ≠ò„ÄÇÂú®MapÁ´ØÂÆåÊàêReduce„ÄÇ   3)Â§ßË°®JoinÂ§ßË°®ÔºöÊääÁ©∫ÂÄºÁöÑKeyÂèòÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âä†‰∏ä‰∏Ä‰∏™ÈöèÊú∫Êï∞ÔºåÊääÂÄæÊñúÁöÑÊï∞ÊçÆÂàÜÂà∞‰∏çÂêåÁöÑreduce‰∏äÔºåÁî±‰∫énullÂÄºÂÖ≥ËÅî‰∏ç‰∏äÔºåÂ§ÑÁêÜÂêéÂπ∂‰∏çÂΩ±ÂìçÊúÄÁªàÁöÑÁªìÊûú„ÄÇ   4)count distinctÂ§ßÈáèÁõ∏ÂêåÁâπÊÆäÂÄºÔºöcount distinctÊó∂ÔºåÂ∞ÜÂÄº‰∏∫Á©∫ÁöÑÊÉÖÂÜµÂçïÁã¨Â§ÑÁêÜÔºåÂ¶ÇÊûúÊòØËÆ°ÁÆócount distinctÔºåÂèØ‰ª•‰∏çÁî®Â§ÑÁêÜÔºåÁõ¥Êé•ËøáÊª§ÔºåÂú®ÂÅöÂêéÁªìÊûú‰∏≠Âä†1„ÄÇÂ¶ÇÊûúËøòÊúâÂÖ∂‰ªñËÆ°ÁÆóÔºåÈúÄË¶ÅËøõË°ågroup byÔºåÂèØ‰ª•ÂÖàÂ∞ÜÂÄº‰∏∫Á©∫ÁöÑËÆ∞ÂΩïÂçïÁã¨Â§ÑÁêÜÔºåÂÜçÂíåÂÖ∂‰ªñËÆ°ÁÆóÁªìÊûúËøõË°åunion.ÂàÜÂå∫ÂíåÂàÜÊ°∂ÁöÑÂå∫Âà´ÂàÜÂå∫ÊòØÊåáÊåâÁÖßÊï∞ÊçÆË°®ÁöÑÊüêÂàóÊàñÊüê‰∫õÂàóÂàÜ‰∏∫Â§ö‰∏™Âå∫ÔºåÂå∫‰ªéÂΩ¢Âºè‰∏äÂèØ‰ª•ÁêÜËß£‰∏∫Êñá‰ª∂Â§πÔºåÊØîÂ¶ÇÊàë‰ª¨Ë¶ÅÊî∂ÈõÜÊüê‰∏™Â§ßÂûãÁΩëÁ´ôÁöÑÊó•ÂøóÊï∞ÊçÆÔºå‰∏Ä‰∏™ÁΩëÁ´ôÊØèÂ§©ÁöÑÊó•ÂøóÊï∞ÊçÆÂ≠òÂú®Âêå‰∏ÄÂº†Ë°®‰∏äÔºåÁî±‰∫éÊØèÂ§©‰ºöÁîüÊàêÂ§ßÈáèÁöÑÊó•ÂøóÔºåÂØºËá¥Êï∞ÊçÆË°®ÁöÑÂÜÖÂÆπÂ∑®Â§ßÔºåÂú®Êü•ËØ¢Êó∂ËøõË°åÂÖ®Ë°®Êâ´ÊèèËÄóË¥πÁöÑËµÑÊ∫êÈùûÂ∏∏Â§ö„ÄÇÈÇ£ÂÖ∂ÂÆûËøô‰∏™ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÊåâÁÖßÊó•ÊúüÂØπÊï∞ÊçÆË°®ËøõË°åÂàÜÂå∫Ôºå‰∏çÂêåÊó•ÊúüÁöÑÊï∞ÊçÆÂ≠òÊîæÂú®‰∏çÂêåÁöÑÂàÜÂå∫ÔºåÂú®Êü•ËØ¢Êó∂Âè™Ë¶ÅÊåáÂÆöÂàÜÂå∫Â≠óÊÆµÁöÑÂÄºÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ªéËØ•ÂàÜÂå∫Êü•ÊâæÂàÜÊ°∂ÂàÜÊ°∂ÊòØÁõ∏ÂØπÂàÜÂå∫ËøõË°åÊõ¥ÁªÜÁ≤íÂ∫¶ÁöÑÂàíÂàÜ„ÄÇÂàÜÊ°∂Â∞ÜÊï¥‰∏™Êï∞ÊçÆÂÜÖÂÆπÂÆâË£ÖÊüêÂàóÂ±ûÊÄßÂÄºÂæóhashÂÄºËøõË°åÂå∫ÂàÜÔºàÊ†πÊçÆË°åÔºâÔºåÂ¶ÇË¶ÅÊåâÁÖßnameÂ±ûÊÄßÂàÜ‰∏∫3‰∏™Ê°∂ÔºåÂ∞±ÊòØÂØπnameÂ±ûÊÄßÂÄºÁöÑhashÂÄºÂØπ3ÂèñÊë∏ÔºåÊåâÁÖßÂèñÊ®°ÁªìÊûúÂØπÊï∞ÊçÆÂàÜÊ°∂„ÄÇÂ¶ÇÂèñÊ®°ÁªìÊûú‰∏∫0ÁöÑÊï∞ÊçÆËÆ∞ÂΩïÂ≠òÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂ÔºåÂèñÊ®°‰∏∫1ÁöÑÊï∞ÊçÆÂ≠òÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂ÔºåÂèñÊ®°‰∏∫2ÁöÑÊï∞ÊçÆÂ≠òÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂redisÁöÑ‰∫îÁßçÊï∞ÊçÆÁ±ªÂûãÔºöÔºà1ÔºâÂ≠óÁ¨¶‰∏≤Á±ªÂûã--stringÔºà2ÔºâÊï£ÂàóÁ±ªÂûã--hashÔºà3ÔºâÂàóË°®Á±ªÂûã--listÔºà4ÔºâÈõÜÂêàÁ±ªÂûã--setÔºà5ÔºâÊúâÂ∫èÈõÜÂêàÁ±ªÂûã--zsetredisÁºìÂ≠òÈõ™Â¥©ÔºöÁî±‰∫éÂéüÊúâÁºìÂ≠òÂ§±ÊïàÔºåÊñ∞ÁºìÂ≠òÊú™Âà∞ÊúüÈó¥(‰æãÂ¶ÇÔºöÊàë‰ª¨ËÆæÁΩÆÁºìÂ≠òÊó∂ÈááÁî®‰∫ÜÁõ∏ÂêåÁöÑËøáÊúüÊó∂Èó¥ÔºåÂú®Âêå‰∏ÄÊó∂ÂàªÂá∫Áé∞Â§ßÈù¢ÁßØÁöÑÁºìÂ≠òËøáÊúü)ÔºåÊâÄÊúâÂéüÊú¨Â∫îËØ•ËÆøÈóÆÁºìÂ≠òÁöÑËØ∑Ê±ÇÈÉΩÂéªÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∫ÜÔºåËÄåÂØπÊï∞ÊçÆÂ∫ìCPUÂíåÂÜÖÂ≠òÈÄ†ÊàêÂ∑®Â§ßÂéãÂäõÔºå‰∏•ÈáçÁöÑ‰ºöÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ‰ªéËÄåÂΩ¢Êàê‰∏ÄÁ≥ªÂàóËøûÈîÅÂèçÂ∫îÔºåÈÄ†ÊàêÊï¥‰∏™Á≥ªÁªüÂ¥©Ê∫É„ÄÇËß£ÂÜ≥ÊñπÊ°àÊòØÔºöÁªôÊØè‰∏Ä‰∏™ÁºìÂ≠òÊï∞ÊçÆÂ¢ûÂä†Áõ∏Â∫îÁöÑÁºìÂ≠òÊ†áËÆ∞ÔºåËÆ∞ÂΩïÁºìÂ≠òÁöÑÊòØÂê¶Â§±ÊïàÔºåÂ¶ÇÊûúÁºìÂ≠òÊ†áËÆ∞Â§±ÊïàÔºåÂàôÊõ¥Êñ∞Êï∞ÊçÆÁºìÂ≠ò1„ÄÅÁºìÂ≠òÊ†áËÆ∞ÔºöËÆ∞ÂΩïÁºìÂ≠òÊï∞ÊçÆÊòØÂê¶ËøáÊúüÔºåÂ¶ÇÊûúËøáÊúü‰ºöËß¶ÂèëÈÄöÁü•Âè¶Â§ñÁöÑÁ∫øÁ®ãÂú®ÂêéÂè∞ÂéªÊõ¥Êñ∞ÂÆûÈôÖkeyÁöÑÁºìÂ≠òÔºõ2„ÄÅÁºìÂ≠òÊï∞ÊçÆÔºöÂÆÉÁöÑËøáÊúüÊó∂Èó¥ÊØîÁºìÂ≠òÊ†áËÆ∞ÁöÑÊó∂Èó¥Âª∂Èïø1ÂÄçÔºå‰æãÔºöÊ†áËÆ∞ÁºìÂ≠òÊó∂Èó¥30ÂàÜÈíüÔºåÊï∞ÊçÆÁºìÂ≠òËÆæÁΩÆ‰∏∫60ÂàÜÈíü„ÄÇ ËøôÊ†∑ÔºåÂΩìÁºìÂ≠òÊ†áËÆ∞keyËøáÊúüÂêéÔºåÂÆûÈôÖÁºìÂ≠òËøòËÉΩÊääÊóßÊï∞ÊçÆËøîÂõûÁªôË∞ÉÁî®Á´ØÔºåÁõ¥Âà∞Âè¶Â§ñÁöÑÁ∫øÁ®ãÂú®ÂêéÂè∞Êõ¥Êñ∞ÂÆåÊàêÂêéÔºåÊâç‰ºöËøîÂõûÊñ∞ÁºìÂ≠ò„ÄÇredisÁºìÂ≠òÁ©øÈÄèÔºöÊòØÊåáÁî®Êà∑Êü•ËØ¢ÁöÑÊï∞ÊçÆÂú®Êï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâÔºåÂú®ÁºìÂ≠ò‰∏≠‰πüÊ≤°ÊúâÔºåÂØºËá¥Áî®Êà∑Êü•ËØ¢ÁöÑÊó∂ÂÄôÂÜçÁºìÂ≠ò‰∏≠Êâæ‰∏çÂà∞ÔºåÊØèÊ¨°ÈÉΩÂéªÊï∞ÊçÆÂ∫ìÂÜçÊü•ËØ¢‰∏ÄÈÅçÔºåÁÑ∂ÂêéËøîÂõûÁ©∫ÔºàÁõ∏ÂΩì‰∫éËøõË°å‰∫Ü‰∏§Ê¨°Êó†Áî®ÁöÑÊü•ËØ¢Ôºâ„ÄÇËøôÊ†∑ËØ∑Ê±ÇÂ∞±ÁªïËøáÁºìÂ≠òÁõ¥Êé•Êü•Êï∞ÊçÆÂ∫ìÔºåËøô‰πüÊòØÁªèÂ∏∏ÊèêÁöÑÁºìÂ≠òÂëΩ‰∏≠ÁéáÈóÆÈ¢ò„ÄÇÊúâÂæàÂ§öÁßçÊñπÊ≥ïÂèØ‰ª•ÊúâÊïàÂú∞Ëß£ÂÜ≥ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢òÔºåÊúÄÂ∏∏ËßÅÁöÑÂàôÊòØÈááÁî®Â∏ÉÈöÜËøáÊª§Âô®ÔºåÂ∞ÜÊâÄÊúâÂèØËÉΩÂ≠òÂú®ÁöÑÊï∞ÊçÆÂìàÂ∏åÂà∞‰∏Ä‰∏™Ë∂≥Â§üÂ§ßÁöÑbitmap‰∏≠Ôºå‰∏Ä‰∏™‰∏ÄÂÆö‰∏çÂ≠òÂú®ÁöÑÊï∞ÊçÆ‰ºöË¢´Ëøô‰∏™bitmapÊã¶Êà™ÊéâÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÂØπÂ∫ïÂ±ÇÂ≠òÂÇ®Á≥ªÁªüÁöÑÊü•ËØ¢ÂéãÂäõ„ÄÇredisÁºìÂ≠òÈ¢ÑÁÉ≠ÔºöÂ∞±ÊòØÁ≥ªÁªü‰∏äÁ∫øÂêéÔºåÂ∞ÜÁõ∏ÂÖ≥ÁöÑÁºìÂ≠òÊï∞ÊçÆÁõ¥Êé•Âä†ËΩΩÂà∞ÁºìÂ≠òÁ≥ªÁªü„ÄÇËøôÊ†∑Â∞±ÂèØ‰ª•ÈÅøÂÖçÂú®Áî®Êà∑ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÂÖàÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÊçÆÁºìÂ≠òÁöÑÈóÆÈ¢òÔºÅÁî®Êà∑Áõ¥Êé•Êü•ËØ¢‰∫ãÂÖàË¢´È¢ÑÁÉ≠ÁöÑÁºìÂ≠òÊï∞ÊçÆÔºÅËß£ÂÜ≥ÊÄùË∑ØÔºö1„ÄÅÁõ¥Êé•ÂÜô‰∏™ÁºìÂ≠òÂà∑Êñ∞È°µÈù¢Ôºå‰∏äÁ∫øÊó∂ÊâãÂ∑•Êìç‰Ωú‰∏ãÔºõ2„ÄÅÊï∞ÊçÆÈáè‰∏çÂ§ßÔºåÂèØ‰ª•Âú®È°πÁõÆÂêØÂä®ÁöÑÊó∂ÂÄôËá™Âä®ËøõË°åÂä†ËΩΩÔºõ3„ÄÅÂÆöÊó∂Âà∑Êñ∞ÁºìÂ≠òÔºõÁºìÂ≠òÊõ¥Êñ∞ÔºöÈô§‰∫ÜÁºìÂ≠òÊúçÂä°Âô®Ëá™Â∏¶ÁöÑÁºìÂ≠òÂ§±ÊïàÁ≠ñÁï•‰πãÂ§ñÔºàRedisÈªòËÆ§ÁöÑÊúâ6ÁßçÁ≠ñÁï•ÂèØ‰æõÈÄâÊã©ÔºâÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ê†πÊçÆÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÈúÄÊ±ÇËøõË°åËá™ÂÆö‰πâÁöÑÁºìÂ≠òÊ∑òÊ±∞ÔºåÂ∏∏ËßÅÁöÑÁ≠ñÁï•Êúâ‰∏§ÁßçÔºö
	1. ÂÆöÊó∂ÂéªÊ∏ÖÁêÜËøáÊúüÁöÑÁºìÂ≠òÔºõ
	2. ÂΩìÊúâÁî®Êà∑ËØ∑Ê±ÇËøáÊù•Êó∂ÔºåÂÜçÂà§Êñ≠Ëøô‰∏™ËØ∑Ê±ÇÊâÄÁî®Âà∞ÁöÑÁºìÂ≠òÊòØÂê¶ËøáÊúüÔºåËøáÊúüÁöÑËØùÂ∞±ÂéªÂ∫ïÂ±ÇÁ≥ªÁªüÂæóÂà∞Êñ∞Êï∞ÊçÆÂπ∂Êõ¥Êñ∞ÁºìÂ≠ò„ÄÇ

‰∏§ËÄÖÂêÑÊúâ‰ºòÂä£ÔºåÁ¨¨‰∏ÄÁßçÁöÑÁº∫ÁÇπÊòØÁª¥Êä§Â§ßÈáèÁºìÂ≠òÁöÑkeyÊòØÊØîËæÉÈ∫ªÁÉ¶ÁöÑÔºåÁ¨¨‰∫åÁßçÁöÑÁº∫ÁÇπÂ∞±ÊòØÊØèÊ¨°Áî®Êà∑ËØ∑Ê±ÇËøáÊù•ÈÉΩË¶ÅÂà§Êñ≠ÁºìÂ≠òÂ§±ÊïàÔºåÈÄªËæëÁõ∏ÂØπÊØîËæÉÂ§çÊùÇÔºÅÂÖ∑‰ΩìÁî®Âì™ÁßçÊñπÊ°àÔºåÂ§ßÂÆ∂ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÂ∫îÁî®Âú∫ÊôØÊù•ÊùÉË°°„ÄÇÁºìÂ≠òÈôçÁ∫ßÔºöÂΩìËÆøÈóÆÈáèÂâßÂ¢û„ÄÅÊúçÂä°Âá∫Áé∞ÈóÆÈ¢òÔºàÂ¶ÇÂìçÂ∫îÊó∂Èó¥ÊÖ¢Êàñ‰∏çÂìçÂ∫îÔºâÊàñÈùûÊ†∏ÂøÉÊúçÂä°ÂΩ±ÂìçÂà∞Ê†∏ÂøÉÊµÅÁ®ãÁöÑÊÄßËÉΩÊó∂Ôºå‰ªçÁÑ∂ÈúÄË¶Å‰øùËØÅÊúçÂä°ËøòÊòØÂèØÁî®ÁöÑÔºåÂç≥‰ΩøÊòØÊúâÊçüÊúçÂä°„ÄÇÁ≥ªÁªüÂèØ‰ª•Ê†πÊçÆ‰∏Ä‰∫õÂÖ≥ÈîÆÊï∞ÊçÆËøõË°åËá™Âä®ÈôçÁ∫ßÔºå‰πüÂèØ‰ª•ÈÖçÁΩÆÂºÄÂÖ≥ÂÆûÁé∞‰∫∫Â∑•ÈôçÁ∫ß„ÄÇÈôçÁ∫ßÁöÑÊúÄÁªàÁõÆÁöÑÊòØ‰øùËØÅÊ†∏ÂøÉÊúçÂä°ÂèØÁî®ÔºåÂç≥‰ΩøÊòØÊúâÊçüÁöÑ„ÄÇËÄå‰∏îÊúâ‰∫õÊúçÂä°ÊòØÊó†Ê≥ïÈôçÁ∫ßÁöÑÔºàÂ¶ÇÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶„ÄÅÁªìÁÆóÔºâ„ÄÇÂú®ËøõË°åÈôçÁ∫ß‰πãÂâçË¶ÅÂØπÁ≥ªÁªüËøõË°åÊ¢≥ÁêÜÔºåÁúãÁúãÁ≥ªÁªüÊòØ‰∏çÊòØÂèØ‰ª•‰∏¢Âçí‰øùÂ∏ÖÔºõ‰ªéËÄåÊ¢≥ÁêÜÂá∫Âì™‰∫õÂøÖÈ°ªË™ìÊ≠ª‰øùÊä§ÔºåÂì™‰∫õÂèØÈôçÁ∫ßÔºõÊØîÂ¶ÇÂèØ‰ª•ÂèÇËÄÉÊó•ÂøóÁ∫ßÂà´ËÆæÁΩÆÈ¢ÑÊ°àÔºö1„ÄÅ‰∏ÄËà¨ÔºöÊØîÂ¶ÇÊúâ‰∫õÊúçÂä°ÂÅ∂Â∞îÂõ†‰∏∫ÁΩëÁªúÊäñÂä®ÊàñËÄÖÊúçÂä°Ê≠£Âú®‰∏äÁ∫øËÄåË∂ÖÊó∂ÔºåÂèØ‰ª•Ëá™Âä®ÈôçÁ∫ß
	1. 2„ÄÅË≠¶ÂëäÔºöÊúâ‰∫õÊúçÂä°Âú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊàêÂäüÁéáÊúâÊ≥¢Âä®ÔºàÂ¶ÇÂú®95~100%‰πãÈó¥ÔºâÔºåÂèØ‰ª•Ëá™Âä®ÈôçÁ∫ßÊàñ‰∫∫Â∑•ÈôçÁ∫ßÔºåÂπ∂ÂèëÈÄÅÂëäË≠¶Ôºõ
	2. 3„ÄÅÈîôËØØÔºöÊØîÂ¶ÇÂèØÁî®Áéá‰Ωé‰∫é90%ÔºåÊàñËÄÖÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†Ë¢´ÊâìÁàÜ‰∫ÜÔºåÊàñËÄÖËÆøÈóÆÈáèÁ™ÅÁÑ∂ÁåõÂ¢ûÂà∞Á≥ªÁªüËÉΩÊâøÂèóÁöÑÊúÄÂ§ßÈòÄÂÄºÔºåÊ≠§Êó∂ÂèØ‰ª•Ê†πÊçÆÊÉÖÂÜµËá™Âä®ÈôçÁ∫ßÊàñËÄÖ‰∫∫Â∑•ÈôçÁ∫ßÔºõ

4„ÄÅ‰∏•ÈáçÈîôËØØÔºöÊØîÂ¶ÇÂõ†‰∏∫ÁâπÊÆäÂéüÂõ†Êï∞ÊçÆÈîôËØØ‰∫ÜÔºåÊ≠§Êó∂ÈúÄË¶ÅÁ¥ßÊÄ•‰∫∫Â∑•ÈôçÁ∫ß„ÄÇredisÁöÑÂì®ÂÖµÊ®°ÂºèÔºöÂì®ÂÖµÊ®°ÂºèÊòØ‰∏ÄÁßçÁâπÊÆäÊ®°ÂºèÔºåÂΩì‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÂêéÔºåÊää‰∏ÄÂè∞‰ªéÊúçÂä°Âô®ÂàáÊç¢Êàê‰∏ªÊúçÂä°Âô®ÔºåredisÊèê‰æõ‰∫ÜÂì®ÂÖµÂëΩ‰ª§ÔºåÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑËøõÁ®ãÔºå‰ºöÁã¨Á´ãËøêË°å„ÄÇÂéüÁêÜÊòØÂì®ÂÖµÈÄöËøáÂèëÈÄÅÂëΩ‰ª§Ôºå Á≠âÂæÖredisÊúçÂä°Âô®ÂìçÂ∫îÔºå‰ªéËÄåÁõëÊéßËøêË°åÁöÑÂ§ö‰∏™redisÂÆû‰æã„ÄÇÁÑ∂ËÄå‰∏Ä‰∏™Âì®ÂÖµËøõÁ®ãÂØπRedisÊúçÂä°Âô®ËøõË°åÁõëÊéßÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºå‰∏∫Ê≠§ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™Âì®ÂÖµËøõË°åÁõëÊéß„ÄÇÂêÑ‰∏™Âì®ÂÖµ‰πãÈó¥Ëøò‰ºöËøõË°åÁõëÊéßÔºåËøôÊ†∑Â∞±ÂΩ¢Êàê‰∫ÜÂ§öÂì®ÂÖµÊ®°Âºè„ÄÇÁî®ÊñáÂ≠óÊèèËø∞‰∏Ä‰∏ãÊïÖÈöúÂàáÊç¢ÔºàfailoverÔºâÁöÑËøáÁ®ã„ÄÇÂÅáËÆæ‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÔºåÂì®ÂÖµ1ÂÖàÊ£ÄÊµãÂà∞Ëøô‰∏™ÁªìÊûúÔºåÁ≥ªÁªüÂπ∂‰∏ç‰ºöÈ©¨‰∏äËøõË°åfailoverËøáÁ®ãÔºå‰ªÖ‰ªÖÊòØÂì®ÂÖµ1‰∏ªËßÇÁöÑËÆ§‰∏∫‰∏ªÊúçÂä°Âô®‰∏çÂèØÁî®ÔºåËøô‰∏™Áé∞Ë±°Êàê‰∏∫‰∏ªËßÇ‰∏ãÁ∫ø„ÄÇÂΩìÂêéÈù¢ÁöÑÂì®ÂÖµ‰πüÊ£ÄÊµãÂà∞‰∏ªÊúçÂä°Âô®‰∏çÂèØÁî®ÔºåÂπ∂‰∏îÊï∞ÈáèËææÂà∞‰∏ÄÂÆöÂÄºÊó∂ÔºåÈÇ£‰πàÂì®ÂÖµ‰πãÈó¥Â∞±‰ºöËøõË°å‰∏ÄÊ¨°ÊäïÁ•®ÔºåÊäïÁ•®ÁöÑÁªìÊûúÁî±‰∏Ä‰∏™Âì®ÂÖµÂèëËµ∑ÔºåËøõË°åfailoverÊìç‰Ωú„ÄÇÂàáÊç¢ÊàêÂäüÂêéÔºåÂ∞±‰ºöÈÄöËøáÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºåËÆ©ÂêÑ‰∏™Âì®ÂÖµÊääËá™Â∑±ÁõëÊéßÁöÑ‰ªéÊúçÂä°Âô®ÂÆûÁé∞ÂàáÊç¢‰∏ªÊú∫ÔºåËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ÂÆ¢ËßÇ‰∏ãÁ∫ø„ÄÇËøôÊ†∑ÂØπ‰∫éÂÆ¢Êà∑Á´ØËÄåË®ÄÔºå‰∏ÄÂàáÈÉΩÊòØÈÄèÊòéÁöÑ„ÄÇredisÁöÑÊåÅ‰πÖÂåñÔºöRDBÊåÅ‰πÖÂåñÔºàÂø´ÁÖßÔºâÔºö

		1. Âú®ÊåáÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÊåÅ‰πÖÂåñ
		2. ÊúçÂä°shutdown‰ºöËá™Âä®ÊåÅ‰πÖÂåñ
		3. ËæìÂÖ•bgsave‰πü‰ºöÊåÅ‰πÖÂåñÔºà RedisËøõÁ®ãÊâßË°åforkÊìç‰ΩúÂàõÂª∫Â≠êËøõÁ®ãÔºåRDBÊåÅ‰πÖÂåñËøáÁ®ãÁî±Â≠ê ËøõÁ®ãË¥üË¥£ÔºåÂÆåÊàêÂêéËá™Âä®ÁªìÊùü„ÄÇÈòªÂ°ûÂè™ÂèëÁîüÂú®forkÈò∂ÊÆµÔºå‰∏ÄËà¨Êó∂Èó¥ÂæàÁü≠Ôºâ

AOFÊåÅ‰πÖÂåñÔºà‰ª•Êó•ÂøóÂΩ¢ÂºèËÆ∞ÂΩïÊØè‰∏™Êõ¥Êñ∞Êìç‰ΩúÔºâÔºöRedisÈáçÊñ∞ÂêØÂä®Êó∂ËØªÂèñËøô‰∏™Êñá‰ª∂ÔºåÈáçÊñ∞ÊâßË°åÊñ∞Âª∫„ÄÅ‰øÆÊîπÊï∞ÊçÆÁöÑÂëΩ‰ª§ÊÅ¢Â§çÊï∞ÊçÆ„ÄÇ‰øùÂ≠òÁ≠ñÁï•ÔºöÊé®ËçêÔºàÂπ∂‰∏î‰πüÊòØÈªòËÆ§ÔºâÁöÑÊé™ÊñΩ‰∏∫ÊØèÁßíÊåÅ‰πÖÂåñ‰∏ÄÊ¨°ÔºåËøôÁßçÁ≠ñÁï•ÂèØ‰ª•ÂÖºÈ°æÈÄüÂ∫¶ÂíåÂÆâÂÖ®ÊÄß„ÄÇÁº∫ÁÇπÔºö

		1. ÊØîËµ∑RDBÂç†Áî®Êõ¥Â§öÁöÑÁ£ÅÁõòÁ©∫Èó¥
		2. ÊÅ¢Â§çÂ§á‰ªΩÈÄüÂ∫¶Ë¶ÅÊÖ¢
		3. ÊØèÊ¨°ËØªÂÜôÈÉΩÂêåÊ≠•ÁöÑËØùÔºåÊúâ‰∏ÄÂÆöÁöÑÊÄßËÉΩÂéãÂäõ
		4. Â≠òÂú®‰∏™Âà´BugÔºåÈÄ†ÊàêÊÅ¢Â§ç‰∏çËÉΩ

ÈÄâÊã©Á≠ñÁï•ÔºöÂÆòÊñπÊé®ËçêÔºöÂ¶ÇÊûúÂØπÊï∞ÊçÆ‰∏çÊïèÊÑüÔºåÂèØ‰ª•ÈÄâÂçïÁã¨Áî®RDBÔºõ‰∏çÂª∫ËÆÆÂçïÁã¨Áî®AOFÔºåÂõ†‰∏∫ÂèØËÉΩÂá∫Áé∞Bug;Â¶ÇÊûúÂè™ÊòØÂÅöÁ∫ØÂÜÖÂ≠òÁºìÂ≠òÔºåÂèØ‰ª•ÈÉΩ‰∏çÁî®redisÊÇ≤ËßÇÈîÅÔºöÂÖ∑ÊúâÂº∫ÁÉàÁöÑÁã¨Âç†ÂíåÊéí‰ªñÁâπÊÄß„ÄÇÂÆÉÊåáÁöÑÊòØÂØπÊï∞ÊçÆË¢´Â§ñÁïåÔºàÂåÖÊã¨Êú¨Á≥ªÁªüÂΩìÂâçÁöÑÂÖ∂‰ªñ‰∫ãÂä°Ôºå‰ª•ÂèäÊù•Ëá™Â§ñÈÉ®Á≥ªÁªüÁöÑ‰∫ãÂä°Â§ÑÁêÜÔºâ‰øÆÊîπÊåÅ‰øùÂÆàÊÄÅÂ∫¶ÔºåÂõ†Ê≠§ÔºåÂú®Êï¥‰∏™Êï∞ÊçÆÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÂ∞ÜÊï∞ÊçÆÂ§Ñ‰∫éÈîÅÂÆöÁä∂ÊÄÅ„ÄÇÊÇ≤ËßÇÈîÅÁöÑÂÆûÁé∞ÔºåÂæÄÂæÄ‰æùÈù†Êï∞ÊçÆÂ∫ìÊèê‰æõÁöÑÈîÅÊú∫Âà∂Ôºà‰πüÂè™ÊúâÊï∞ÊçÆÂ∫ìÂ±ÇÊèê‰æõÁöÑÈîÅÊú∫Âà∂ÊâçËÉΩÁúüÊ≠£‰øùËØÅÊï∞ÊçÆËÆøÈóÆÁöÑÊéí‰ªñÊÄßÔºåÂê¶ÂàôÔºåÂç≥‰ΩøÂú®Êú¨Á≥ªÁªü‰∏≠ÂÆûÁé∞‰∫ÜÂä†ÈîÅÊú∫Âà∂Ôºå‰πüÊó†Ê≥ï‰øùËØÅÂ§ñÈÉ®Á≥ªÁªü‰∏ç‰ºö‰øÆÊîπÊï∞ÊçÆÔºâ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºöÊâßË°åÊìç‰ΩúÂâçÂÅáËÆæÂΩìÂâçÁöÑÊìç‰ΩúËÇØÂÆöÔºàÊàñÊúâÂæàÂ§ßÂá†ÁéáÔºâ‰ºöË¢´ÊâìÊñ≠ÔºàÊÇ≤ËßÇÔºâ„ÄÇÂü∫‰∫éËøô‰∏™ÂÅáËÆæÔºåÊàë‰ª¨Âú®ÂÅöÊìç‰ΩúÂâçÂ∞±‰ºöÊääÁõ∏ÂÖ≥ËµÑÊ∫êÈîÅÂÆöÔºå‰∏çÂÖÅËÆ∏Ëá™Â∑±ÊâßË°åÊúüÈó¥ÊúâÂÖ∂‰ªñÊìç‰ΩúÂπ≤Êâ∞„ÄÇÊÇ≤ËßÇÈîÅÁöÑÂπ∂ÂèëÊÄßËÉΩÂ∑ÆÔºå‰ΩÜÊòØËÉΩ‰øùËØÅ‰∏ç‰ºöÂèëÁîüËÑèÊï∞ÊçÆÁöÑÂèØËÉΩÊÄßÂ∞è‰∏ÄÁÇπ„ÄÇredis‰πêËßÇÈîÅÔºöÊâßË°åÊìç‰ΩúÂâçÂÅáËÆæÂΩìÂâçÊìç‰Ωú‰∏ç‰ºöË¢´ÊâìÊñ≠Ôºà‰πêËßÇÔºâ„ÄÇÂü∫‰∫éËøô‰∏™ÂÅáËÆæÔºåÊàë‰ª¨Âú®ÂÅöÊìç‰ΩúÂâç‰∏ç‰ºöÈîÅÂÆöËµÑÊ∫êÔºå‰∏á‰∏ÄÂèëÁîü‰∫ÜÂÖ∂‰ªñÊìç‰ΩúÁöÑÂπ≤Êâ∞ÔºåÈÇ£‰πàÊú¨Ê¨°Êìç‰ΩúÂ∞ÜË¢´ÊîæÂºÉ„ÄÇRedis‰ΩøÁî®ÁöÑÂ∞±ÊòØ‰πêËßÇÈîÅ„ÄÇredisÊòØÂçïÁ∫øÁ®ãÔºå‰∏∫‰ªÄ‰πàÈÇ£‰πàÂø´Ôºö
	1. ÂÆåÂÖ®Âü∫‰∫éÂÜÖÂ≠òÔºåÁªùÂ§ßÈÉ®ÂàÜËØ∑Ê±ÇÊòØÁ∫ØÁ≤πÁöÑÂÜÖÂ≠òÊìç‰ΩúÔºåÈùûÂ∏∏Âø´ÈÄü„ÄÇ
	2. Êï∞ÊçÆÁªìÊûÑÁÆÄÂçïÔºåÂØπÊï∞ÊçÆÊìç‰Ωú‰πüÁÆÄÂçïÔºåRedis‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑÊòØ‰∏ìÈó®ËøõË°åËÆæËÆ°ÁöÑ
	3. ÈááÁî®ÂçïÁ∫øÁ®ãÔºåÈÅøÂÖç‰∫Ü‰∏çÂøÖË¶ÅÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢ÂíåÁ´û‰∫âÊù°‰ª∂Ôºå‰πü‰∏çÂ≠òÂú®Â§öËøõÁ®ãÊàñËÄÖÂ§öÁ∫øÁ®ãÂØºËá¥ÁöÑÂàáÊç¢ËÄåÊ∂àËÄó CPUÔºå‰∏çÁî®ÂéªËÄÉËôëÂêÑÁßçÈîÅÁöÑÈóÆÈ¢òÔºå‰∏çÂ≠òÂú®Âä†ÈîÅÈáäÊîæÈîÅÊìç‰ΩúÔºåÊ≤°ÊúâÂõ†‰∏∫ÂèØËÉΩÂá∫Áé∞Ê≠ªÈîÅËÄåÂØºËá¥ÁöÑÊÄßËÉΩÊ∂àËÄó
	4. ‰ΩøÁî®Â§öË∑ØI/OÂ§çÁî®Ê®°ÂûãÔºåÈùûÈòªÂ°ûIO
	5. ‰ΩøÁî®Â∫ïÂ±ÇÊ®°Âûã‰∏çÂêåÔºåÂÆÉ‰ª¨‰πãÈó¥Â∫ïÂ±ÇÂÆûÁé∞ÊñπÂºè‰ª•Âèä‰∏éÂÆ¢Êà∑Á´Ø‰πãÈó¥ÈÄö‰ø°ÁöÑÂ∫îÁî®ÂçèËÆÆ‰∏ç‰∏ÄÊ†∑ÔºåRedisÁõ¥Êé•Ëá™Â∑±ÊûÑÂª∫‰∫ÜVM Êú∫Âà∂ ÔºåÂõ†‰∏∫‰∏ÄËà¨ÁöÑÁ≥ªÁªüË∞ÉÁî®Á≥ªÁªüÂáΩÊï∞ÁöÑËØùÔºå‰ºöÊµ™Ë¥π‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂéªÁßªÂä®ÂíåËØ∑Ê±Ç„ÄÇ

HashMapÁöÑÂ∫ïÂ±ÇÊ∫êÁ†ÅÔºåÊï∞ÊçÆÁªìÊûÑÔºömysql:in Âíå not in Ë¶ÅÂ∞ΩÈáèÈÅøÂÖçÔºåÂõ†‰∏∫1„ÄÅÊïàÁéá‰Ωé„ÄÇ2„ÄÅÂÆπÊòìÂá∫Áé∞ÈóÆÈ¢òÔºåÊàñÊü•ËØ¢ÁªìÊûúÊúâËØØ„ÄÇËß£ÂÜ≥ÊñπÊ≥ï;1„ÄÅÁî®exists ÊàñËÄÖ not exists ‰ª£Êõø„ÄÇ2„ÄÅÁî® join ‰ª£Êõø„ÄÇÂ¶ÇÊûúÊúâÁ°ÆÂÆö‰∏îÊúâÈôêÁöÑÈõÜÂêàÊòØÔºåÂèØ‰ª•‰ΩøÁî®in Âíå not in Â¶ÇÔºöin(0,1,2)„ÄÇanyË°®Á§∫Â≠êÊü•ËØ¢ÁöÑÈõÜÂêàÈáåÊúâ‰ªª‰Ωï‰∏Ä‰∏™Êª°Ë∂≥Â∞±ËøîÂõûtrueÔºåallË°®Á§∫ÂÖ®ÈÉ®ÈÉΩÊª°Ë∂≥ÊâçËøîÂõûtrueÔºåÊòæÁÑ∂‰ªñ‰ª¨ÊòØ‰∏çÂêåÁöÑÁî®Ê≥ïÂíåÊÑè‰πâ„ÄÇÊØîÂ¶Ç‰Ω†Áî®age&gt;any(15,16,22,21,17,18,19)Êù•Âà§Êñ≠‰∏Ä‰∏™‰∫∫Âπ¥ÈæÑÊòØÂê¶Â§ß‰∫éÈõÜÂêàÈáåÁöÑÊâÄÊúâ‰∫∫Â∞±ÊòØÈîôËØØÁöÑÔºåËøôÈáåÂ∫îËØ•Áî®all„ÄÇexists:Âº∫Ë∞ÉÁöÑÊòØÊòØÂê¶ËøîÂõûÁªìÊûúÈõÜÔºå‰∏çË¶ÅÊ±ÇËøîÂõû‰ªÄ‰πà„ÄÇÔºàexistsÂ≠êÂè•‰∏çÂú®‰πéËøîÂõû‰ªÄ‰πàÔºåËÄåÂú®‰πéÊòØ‰∏çÊòØÊúâÁªìÊûúÈõÜËøîÂõûÔºânot existsÔºöË¶ÅÊéíÈô§‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÁî®Âà∞„ÄÇINÂíåExistsÁöÑÂå∫Âà´:
ÁÆÄÂçïÊù•ËØ¥ÔºåÂâçËÄÖÊòØÈùûÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåÂ≠êÊü•ËØ¢ÂÖàÊâßË°åÔºå‰∏îÂè™ÊâßË°å‰∏ÄÊ¨°ÔºåÊâßË°åÂÆåÊØïÂêéÂ∞ÜÂÄº‰º†ÈÄíÁªôÂ§ñÂ±ÇÊü•ËØ¢ÔºõÂêéËÄÖÊòØÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåÂ∞ÜÂ§ñÂ±ÇÊü•ËØ¢ÁöÑ‰∏Ä‰∏™ÂÖÉÁªÑ‰º†ÈÄíÁªôÂÜÖÂ±ÇÊü•ËØ¢ÔºåÁÑ∂ÂêéÊâßË°åÂÜÖÂ±ÇÊü•ËØ¢ÔºåÂ§ñÂ±ÇÊü•ËØ¢Ê†πÊçÆËøîÂõûÁöÑÁªìÊûúÈõÜÂæóÂà∞Êª°Ë∂≥Êù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÈáçÂ§çËøô‰∏™ËøáÁ®ãÁõ¥Âà∞Â§ñÂ±ÇÊü•ËØ¢ÁöÑÊâÄÊúâÂÖÉÁªÑÈÉΩÂ§ÑÁêÜÂÆåÊØï„ÄÇ
ÈùûÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÁöÑÊâßË°å‰∏ç‰æùËµñ‰∏éÂ§ñÈÉ®ÁöÑÊü•ËØ¢„ÄÇ
ÊâßË°åËøáÁ®ãÔºö
Ôºà1ÔºâÊâßË°åÂ≠êÊü•ËØ¢ÔºåÂÖ∂ÁªìÊûú‰∏çË¢´ÊòæÁ§∫ÔºåËÄåÊòØ‰º†ÈÄíÁªôÂ§ñÈÉ®Êü•ËØ¢Ôºå‰Ωú‰∏∫Â§ñÈÉ®Êü•ËØ¢ÁöÑÊù°‰ª∂‰ΩøÁî®„ÄÇ
Ôºà2ÔºâÊâßË°åÂ§ñÈÉ®Êü•ËØ¢ÔºåÂπ∂ÊòæÁ§∫Êï¥‰∏™ÁªìÊûú„ÄÇ„ÄÄ„ÄÄ
ÈùûÁõ∏ÂÖ≥Â≠êÊü•ËØ¢‰∏ÄËà¨ÂèØ‰ª•ÂàÜ‰∏∫ÔºöËøîÂõûÂçïÂÄºÁöÑÂ≠êÊü•ËØ¢ÂíåËøîÂõû‰∏Ä‰∏™ÂàóË°®ÁöÑÂ≠êÊü•ËØ¢
Áõ∏ÂÖ≥Â≠êÊü•ËØ¢ÁöÑÊâßË°å‰æùËµñ‰∫éÂ§ñÈÉ®Êü•ËØ¢„ÄÇÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊòØÂ≠êÊü•ËØ¢ÁöÑWHEREÂ≠êÂè•‰∏≠ÂºïÁî®‰∫ÜÂ§ñÈÉ®Êü•ËØ¢ÁöÑË°®„ÄÇ
ÊâßË°åËøáÁ®ãÔºö
Ôºà1Ôºâ‰ªéÂ§ñÂ±ÇÊü•ËØ¢‰∏≠ÂèñÂá∫‰∏Ä‰∏™ÂÖÉÁªÑÔºåÂ∞ÜÂÖÉÁªÑÁõ∏ÂÖ≥ÂàóÁöÑÂÄº‰º†ÁªôÂÜÖÂ±ÇÊü•ËØ¢„ÄÇ
Ôºà2ÔºâÊâßË°åÂÜÖÂ±ÇÊü•ËØ¢ÔºåÂæóÂà∞Â≠êÊü•ËØ¢Êìç‰ΩúÁöÑÂÄº„ÄÇ
Ôºà3ÔºâÂ§ñÊü•ËØ¢Ê†πÊçÆÂ≠êÊü•ËØ¢ËøîÂõûÁöÑÁªìÊûúÊàñÁªìÊûúÈõÜÂæóÂà∞Êª°Ë∂≥Êù°‰ª∂ÁöÑË°å„ÄÇ
Ôºà4ÔºâÁÑ∂ÂêéÂ§ñÂ±ÇÊü•ËØ¢ÂèñÂá∫‰∏ã‰∏Ä‰∏™ÂÖÉÁªÑÈáçÂ§çÂÅöÊ≠•È™§1-3ÔºåÁõ¥Âà∞Â§ñÂ±ÇÁöÑÂÖÉÁªÑÂÖ®ÈÉ®Â§ÑÁêÜÂÆåÊØï„ÄÇ
case when ÁöÑ‰∏§ÁßçÁî®Ê≥ï:(Â§öË°åËΩ¨Â§öÂàó)
1.  case Â≠óÊÆµ 
        when Êù°‰ª∂ then ÁªìÊûú 
        else ÁªìÊûú 
    end; 
2.  case 
        when Êù°‰ª∂ then ÁªìÊûú 
        when Êù°‰ª∂ then ÁªìÊûú 
        else ÁªìÊûú 
    end; 
ÂΩìÂ§ÑÁêÜnullÂ≠óÊÆµÊòØË¶ÅÁî®Á¨¨‰∫åÁßçÊñπÊ≥ï,Á¨¨‰∏ÄÁßçÊñπÊ≥ïÊü•ËØ¢ÁöÑÁªìÊûúÊòØÈîôÁöÑ.
union all:(‰∏ÄË°åËΩ¨Â§öÂàó):ÂêàÂπ∂Êó∂‰∏ç‰ºöÂéªÈô§ÈáçÂ§çÁöÑÊï∞ÊçÆÔºåunion‰ºöÂéªÈáç„ÄÇ
RANK()„ÄÅDENSE_RANK()‰ª•ÂèäROW_NUMBER()Ëøô‰∏â‰∏™ÂáΩÊï∞ÈÉΩÊòØÂØπÂàÜËøáÁªÑÁöÑÊï∞ÊçÆÊéíÂ∫èÂä†Â∫èÂè∑ÔºåËøô‰∏â‰∏™ÂáΩÊï∞ÂèàÂêÑËá™ÊúâÂå∫Âà´ :
ROW_NUMBER()  OVER    ([PARTITION BY Colums1]     ORDER BY colums2)  
DENSE_RANK()     OVER    ([PARTITION BY Colums1]     ORDER BY colums2)  
RANK()                  OVER    ([PARTITION BY colums1]      ORDER BY colums2)
Âå∫Âà´:
‰∏â‰∏™ÂáΩÊï∞ÈÉΩÊòØÊåâÁÖßcolums1ÂàÜÁªÑÂÜÖ‰ªé1ÂºÄÂßãÊéíÂ∫è
    ROW_NUMBER() ÊòØÊ≤°ÊúâÈáçÂ§çÂÄºÁöÑÊéíÂ∫è(Âç≥‰Ωø‰∏§Êù°ËÆ∞ÂΩïÁõ∏ÂêåÔºåÂ∫èÂè∑‰πü‰∏çÈáçÂ§çÁöÑ)Ôºå‰∏ç‰ºöÊúâÂêåÂêçÊ¨°„ÄÇ
    DENSE_RANK() ÊòØËøûÁª≠ÁöÑÊéíÂ∫èÔºå‰∏§‰∏™Á¨¨‰∫åÂêç‰ªçÁÑ∂Ë∑üÁùÄÁ¨¨‰∏âÂêç„ÄÇ
    RANK()       ÊòØË∑≥Ë∑ÉÊéíÂ∫èÔºå‰∏§‰∏™Á¨¨‰∫åÂêç‰∏ãÊù•Â∞±ÊòØÁ¨¨ÂõõÂêç„ÄÇ
">
        <input type="hidden" name="commit" value="2c4611e3d6b6747be93949f0376926106e9b43d2">
        <input type="hidden" name="blobname" value="">
        <input type="hidden" name="willcreatebranch" value="true">
        <input type="hidden" name="checkConflict" value="true">
</form>

      <!-- '"` --><!-- </textarea></xmp> --><form class="js-blob-form" data-github-confirm-unload="Your new changes will be lost." action="https://github.com/daihang1/-/create/master" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="‚úì"><input type="hidden" name="authenticity_token" value="evX3bSM5yc38MnAgPGmQCvI0ae6TrXwBQ021b09dQiY+fmLTYayKkK1RtnSuyv4uNljvKmQxsmyRgwjOM4vMxw==">
        




<div class="breadcrumb d-flex flex-shrink-0 flex-items-center px-3 px-sm-6 px-lg-3">
    <span class="js-breadcrumb-container d-flex flex-items-center flex-wrap mr-sm-4 flex-auto">
      <span class="js-repo-root text-bold"><span class="js-path-segment"><a data-pjax="true" href="https://github.com/daihang1/-"><span>-</span></a></span></span><span class="separator">/</span>

      <input type="text" class="form-control js-blob-filename js-breadcrumb-nav mr-1 mt-1 mt-sm-0 col-12 width-sm-auto" name="filename" value="" placeholder="Name your file‚Ä¶" aria-label="Name your file‚Ä¶" data-new-file="" autofocus="" style="cursor: auto;">
        <span><a href="https://github.com/daihang1/-" class="btn d-none d-md-inline-block">Cancel</a></span>
    </span>

    <div class="js-gitignore-template js-template-suggestion d-flex flex-shrink-0 flex-justify-end f5 flex-items-center hide-sm hide-md hide-lg  d-none" data-template-suggestion-pattern="^(.+\/)?\.gitignore$">
      <div class="mr-2">Want to use a <span class="text-mono f6">.gitignore</span> template?</div>
      <details class="details-reset details-overlay position-relative d-inline-block">
  <summary class="btn btn-sm select-menu-button" aria-haspopup="menu" role="button">
    <i>Choose .gitignore:</i>
    <span data-menu-button="">None</span>
  </summary>
  <details-menu class="select-menu-modal position-absolute right-0" style="z-index: 99;" role="menu">
    <div class="select-menu-header">
      <span class="select-menu-title">.gitignore</span>
    </div>

    <div class="select-menu-filters">
      <div class="select-menu-text-filter">
        <input type="text" id="context-ignore-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter ignores‚Ä¶" aria-label="Choose .gitignore type" autocomplete="off" autofocus="">
      </div>
    </div>

    <div class="select-menu-list">
      <div data-filterable-for="context-ignore-filter-field">
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Actionscript" value="Actionscript" data-template-url="https://github.com/site/gitignore/Actionscript">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Actionscript</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Ada" value="Ada" data-template-url="https://github.com/site/gitignore/Ada">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Ada</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Agda" value="Agda" data-template-url="https://github.com/site/gitignore/Agda">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Agda</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Android" value="Android" data-template-url="https://github.com/site/gitignore/Android">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Android</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_AppEngine" value="AppEngine" data-template-url="https://github.com/site/gitignore/AppEngine">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">AppEngine</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_AppceleratorTitanium" value="AppceleratorTitanium" data-template-url="https://github.com/site/gitignore/AppceleratorTitanium">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">AppceleratorTitanium</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ArchLinuxPackages" value="ArchLinuxPackages" data-template-url="https://github.com/site/gitignore/ArchLinuxPackages">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ArchLinuxPackages</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Autotools" value="Autotools" data-template-url="https://github.com/site/gitignore/Autotools">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Autotools</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_C" value="C" data-template-url="https://github.com/site/gitignore/C">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">C</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_C__" value="C++" data-template-url="https://github.com/site/gitignore/C++">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">C++</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CFWheels" value="CFWheels" data-template-url="https://github.com/site/gitignore/CFWheels">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CFWheels</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CMake" value="CMake" data-template-url="https://github.com/site/gitignore/CMake">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CMake</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CUDA" value="CUDA" data-template-url="https://github.com/site/gitignore/CUDA">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CUDA</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CakePHP" value="CakePHP" data-template-url="https://github.com/site/gitignore/CakePHP">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CakePHP</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ChefCookbook" value="ChefCookbook" data-template-url="https://github.com/site/gitignore/ChefCookbook">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ChefCookbook</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Clojure" value="Clojure" data-template-url="https://github.com/site/gitignore/Clojure">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Clojure</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CodeIgniter" value="CodeIgniter" data-template-url="https://github.com/site/gitignore/CodeIgniter">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CodeIgniter</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CommonLisp" value="CommonLisp" data-template-url="https://github.com/site/gitignore/CommonLisp">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CommonLisp</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Composer" value="Composer" data-template-url="https://github.com/site/gitignore/Composer">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Composer</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Concrete5" value="Concrete5" data-template-url="https://github.com/site/gitignore/Concrete5">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Concrete5</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Coq" value="Coq" data-template-url="https://github.com/site/gitignore/Coq">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Coq</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_CraftCMS" value="CraftCMS" data-template-url="https://github.com/site/gitignore/CraftCMS">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">CraftCMS</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_D" value="D" data-template-url="https://github.com/site/gitignore/D">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">D</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_DM" value="DM" data-template-url="https://github.com/site/gitignore/DM">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">DM</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Dart" value="Dart" data-template-url="https://github.com/site/gitignore/Dart">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Dart</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Delphi" value="Delphi" data-template-url="https://github.com/site/gitignore/Delphi">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Delphi</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Drupal" value="Drupal" data-template-url="https://github.com/site/gitignore/Drupal">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Drupal</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_EPiServer" value="EPiServer" data-template-url="https://github.com/site/gitignore/EPiServer">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">EPiServer</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Eagle" value="Eagle" data-template-url="https://github.com/site/gitignore/Eagle">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Eagle</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Elisp" value="Elisp" data-template-url="https://github.com/site/gitignore/Elisp">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Elisp</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Elixir" value="Elixir" data-template-url="https://github.com/site/gitignore/Elixir">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Elixir</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Elm" value="Elm" data-template-url="https://github.com/site/gitignore/Elm">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Elm</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Erlang" value="Erlang" data-template-url="https://github.com/site/gitignore/Erlang">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Erlang</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ExpressionEngine" value="ExpressionEngine" data-template-url="https://github.com/site/gitignore/ExpressionEngine">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ExpressionEngine</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ExtJs" value="ExtJs" data-template-url="https://github.com/site/gitignore/ExtJs">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ExtJs</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Fancy" value="Fancy" data-template-url="https://github.com/site/gitignore/Fancy">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Fancy</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Finale" value="Finale" data-template-url="https://github.com/site/gitignore/Finale">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Finale</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ForceDotCom" value="ForceDotCom" data-template-url="https://github.com/site/gitignore/ForceDotCom">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ForceDotCom</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Fortran" value="Fortran" data-template-url="https://github.com/site/gitignore/Fortran">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Fortran</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_FuelPHP" value="FuelPHP" data-template-url="https://github.com/site/gitignore/FuelPHP">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">FuelPHP</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_GWT" value="GWT" data-template-url="https://github.com/site/gitignore/GWT">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">GWT</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_GitBook" value="GitBook" data-template-url="https://github.com/site/gitignore/GitBook">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">GitBook</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Go" value="Go" data-template-url="https://github.com/site/gitignore/Go">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Go</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Godot" value="Godot" data-template-url="https://github.com/site/gitignore/Godot">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Godot</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Gradle" value="Gradle" data-template-url="https://github.com/site/gitignore/Gradle">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Gradle</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Grails" value="Grails" data-template-url="https://github.com/site/gitignore/Grails">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Grails</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Haskell" value="Haskell" data-template-url="https://github.com/site/gitignore/Haskell">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Haskell</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_IGORPro" value="IGORPro" data-template-url="https://github.com/site/gitignore/IGORPro">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">IGORPro</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Idris" value="Idris" data-template-url="https://github.com/site/gitignore/Idris">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Idris</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_JENKINS_HOME" value="JENKINS_HOME" data-template-url="https://github.com/site/gitignore/JENKINS_HOME">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">JENKINS_HOME</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Java" value="Java" data-template-url="https://github.com/site/gitignore/Java">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Java</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Jboss" value="Jboss" data-template-url="https://github.com/site/gitignore/Jboss">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Jboss</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Jekyll" value="Jekyll" data-template-url="https://github.com/site/gitignore/Jekyll">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Jekyll</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Joomla" value="Joomla" data-template-url="https://github.com/site/gitignore/Joomla">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Joomla</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Julia" value="Julia" data-template-url="https://github.com/site/gitignore/Julia">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Julia</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_KiCAD" value="KiCAD" data-template-url="https://github.com/site/gitignore/KiCAD">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">KiCAD</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Kohana" value="Kohana" data-template-url="https://github.com/site/gitignore/Kohana">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Kohana</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Kotlin" value="Kotlin" data-template-url="https://github.com/site/gitignore/Kotlin">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Kotlin</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_LabVIEW" value="LabVIEW" data-template-url="https://github.com/site/gitignore/LabVIEW">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">LabVIEW</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Laravel" value="Laravel" data-template-url="https://github.com/site/gitignore/Laravel">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Laravel</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Leiningen" value="Leiningen" data-template-url="https://github.com/site/gitignore/Leiningen">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Leiningen</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_LemonStand" value="LemonStand" data-template-url="https://github.com/site/gitignore/LemonStand">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">LemonStand</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Lilypond" value="Lilypond" data-template-url="https://github.com/site/gitignore/Lilypond">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Lilypond</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Lithium" value="Lithium" data-template-url="https://github.com/site/gitignore/Lithium">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Lithium</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Lua" value="Lua" data-template-url="https://github.com/site/gitignore/Lua">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Lua</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Magento" value="Magento" data-template-url="https://github.com/site/gitignore/Magento">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Magento</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Maven" value="Maven" data-template-url="https://github.com/site/gitignore/Maven">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Maven</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Mercury" value="Mercury" data-template-url="https://github.com/site/gitignore/Mercury">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Mercury</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_MetaProgrammingSystem" value="MetaProgrammingSystem" data-template-url="https://github.com/site/gitignore/MetaProgrammingSystem">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">MetaProgrammingSystem</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Nim" value="Nim" data-template-url="https://github.com/site/gitignore/Nim">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Nim</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Node" value="Node" data-template-url="https://github.com/site/gitignore/Node">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Node</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_OCaml" value="OCaml" data-template-url="https://github.com/site/gitignore/OCaml">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">OCaml</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Objective-C" value="Objective-C" data-template-url="https://github.com/site/gitignore/Objective-C">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Objective-C</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Opa" value="Opa" data-template-url="https://github.com/site/gitignore/Opa">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Opa</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_OracleForms" value="OracleForms" data-template-url="https://github.com/site/gitignore/OracleForms">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">OracleForms</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Packer" value="Packer" data-template-url="https://github.com/site/gitignore/Packer">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Packer</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Perl" value="Perl" data-template-url="https://github.com/site/gitignore/Perl">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Perl</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Perl6" value="Perl6" data-template-url="https://github.com/site/gitignore/Perl6">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Perl6</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Phalcon" value="Phalcon" data-template-url="https://github.com/site/gitignore/Phalcon">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Phalcon</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_PlayFramework" value="PlayFramework" data-template-url="https://github.com/site/gitignore/PlayFramework">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">PlayFramework</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Plone" value="Plone" data-template-url="https://github.com/site/gitignore/Plone">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Plone</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Prestashop" value="Prestashop" data-template-url="https://github.com/site/gitignore/Prestashop">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Prestashop</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Processing" value="Processing" data-template-url="https://github.com/site/gitignore/Processing">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Processing</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_PureScript" value="PureScript" data-template-url="https://github.com/site/gitignore/PureScript">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">PureScript</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Python" value="Python" data-template-url="https://github.com/site/gitignore/Python">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Python</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Qooxdoo" value="Qooxdoo" data-template-url="https://github.com/site/gitignore/Qooxdoo">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Qooxdoo</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Qt" value="Qt" data-template-url="https://github.com/site/gitignore/Qt">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Qt</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_R" value="R" data-template-url="https://github.com/site/gitignore/R">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">R</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ROS" value="ROS" data-template-url="https://github.com/site/gitignore/ROS">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ROS</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Rails" value="Rails" data-template-url="https://github.com/site/gitignore/Rails">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Rails</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_RhodesRhomobile" value="RhodesRhomobile" data-template-url="https://github.com/site/gitignore/RhodesRhomobile">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">RhodesRhomobile</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Ruby" value="Ruby" data-template-url="https://github.com/site/gitignore/Ruby">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Ruby</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Rust" value="Rust" data-template-url="https://github.com/site/gitignore/Rust">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Rust</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_SCons" value="SCons" data-template-url="https://github.com/site/gitignore/SCons">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">SCons</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Sass" value="Sass" data-template-url="https://github.com/site/gitignore/Sass">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Sass</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Scala" value="Scala" data-template-url="https://github.com/site/gitignore/Scala">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Scala</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Scheme" value="Scheme" data-template-url="https://github.com/site/gitignore/Scheme">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Scheme</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Scrivener" value="Scrivener" data-template-url="https://github.com/site/gitignore/Scrivener">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Scrivener</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Sdcc" value="Sdcc" data-template-url="https://github.com/site/gitignore/Sdcc">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Sdcc</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_SeamGen" value="SeamGen" data-template-url="https://github.com/site/gitignore/SeamGen">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">SeamGen</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_SketchUp" value="SketchUp" data-template-url="https://github.com/site/gitignore/SketchUp">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">SketchUp</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Smalltalk" value="Smalltalk" data-template-url="https://github.com/site/gitignore/Smalltalk">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Smalltalk</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_SugarCRM" value="SugarCRM" data-template-url="https://github.com/site/gitignore/SugarCRM">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">SugarCRM</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Swift" value="Swift" data-template-url="https://github.com/site/gitignore/Swift">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Swift</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Symfony" value="Symfony" data-template-url="https://github.com/site/gitignore/Symfony">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Symfony</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_SymphonyCMS" value="SymphonyCMS" data-template-url="https://github.com/site/gitignore/SymphonyCMS">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">SymphonyCMS</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_TeX" value="TeX" data-template-url="https://github.com/site/gitignore/TeX">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">TeX</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Terraform" value="Terraform" data-template-url="https://github.com/site/gitignore/Terraform">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Terraform</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Textpattern" value="Textpattern" data-template-url="https://github.com/site/gitignore/Textpattern">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Textpattern</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_TurboGears2" value="TurboGears2" data-template-url="https://github.com/site/gitignore/TurboGears2">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">TurboGears2</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Typo3" value="Typo3" data-template-url="https://github.com/site/gitignore/Typo3">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Typo3</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Umbraco" value="Umbraco" data-template-url="https://github.com/site/gitignore/Umbraco">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Umbraco</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Unity" value="Unity" data-template-url="https://github.com/site/gitignore/Unity">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Unity</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_UnrealEngine" value="UnrealEngine" data-template-url="https://github.com/site/gitignore/UnrealEngine">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">UnrealEngine</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_VVVV" value="VVVV" data-template-url="https://github.com/site/gitignore/VVVV">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">VVVV</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_VisualStudio" value="VisualStudio" data-template-url="https://github.com/site/gitignore/VisualStudio">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">VisualStudio</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Waf" value="Waf" data-template-url="https://github.com/site/gitignore/Waf">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Waf</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_WordPress" value="WordPress" data-template-url="https://github.com/site/gitignore/WordPress">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">WordPress</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Xojo" value="Xojo" data-template-url="https://github.com/site/gitignore/Xojo">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Xojo</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Yeoman" value="Yeoman" data-template-url="https://github.com/site/gitignore/Yeoman">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Yeoman</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Yii" value="Yii" data-template-url="https://github.com/site/gitignore/Yii">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Yii</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_ZendFramework" value="ZendFramework" data-template-url="https://github.com/site/gitignore/ZendFramework">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">ZendFramework</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_Zephir" value="Zephir" data-template-url="https://github.com/site/gitignore/Zephir">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">Zephir</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_gcov" value="gcov" data-template-url="https://github.com/site/gitignore/gcov">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">gcov</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_nanoc" value="nanoc" data-template-url="https://github.com/site/gitignore/nanoc">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">nanoc</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_opencart" value="opencart" data-template-url="https://github.com/site/gitignore/opencart">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">opencart</span>
          </label>
          <label tabindex="0" class="select-menu-item" role="menuitemradio">
            <input type="radio" name="gitignore" id="gitignore_stella" value="stella" data-template-url="https://github.com/site/gitignore/stella">
            <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"></path></svg>
            <span class="text-normal select-menu-item-text" data-menu-button-text="">stella</span>
          </label>
      </div>

      <div class="select-menu-no-results">Nothing to show</div>
    </div>
  </details-menu>
</details>

    </div>
      <div class="js-template-suggestion d-flex flex-shrink-0 flex-justify-end hide-sm hide-md  d-none" data-template-suggestion-pattern="^(.+\/)?(licen[sc]e|copying)($|\.)">
          <a class="btn btn-sm" data-template-button="" href="https://github.com/daihang1/-/community/license/new?branch=master">Choose a license template</a>
      </div>

      <div class="js-template-suggestion d-flex flex-auto flex-justify-end hide-sm hide-md  d-none" data-template-suggestion-pattern="^(code.?of.?conduct|coc)($|\.)">
        <a class="btn btn-sm" data-template-button="" href="https://github.com/daihang1/-/community/code-of-conduct/new">Choose a code of conduct template</a>
      </div>

    <input id="blob-edit-path" type="hidden" name="new_filename" class="js-new-filename-field" value="" data-default-value="">
    <div class="d-none">
      <span class="js-crumb-template js-path-segment"><a href="https://github.com/daihang1/-/new/master" data-pjax="true"><span>REPLACEME</span></a></span>
      <span class="separator js-crumb-separator">/</span>
    </div>

</div>

  <div class="js-template-suggestion px-3 mt-3 hide-sm hide-md d-none" data-template-suggestion-pattern="^FUNDING\.yml$">
    <div class="flash">
      <p>
        <code>.github/FUNDING.yml</code> shows the community how to support this project.

        Please see our
        <a href="https://help.github.com/articles/displaying-a-sponsor-button-in-your-repository">repository funding links documentation</a>
        for more information on formatting and what is and isn't allowed in this file.
      </p>

        <p>
          Please note that funding links are currently <em>disabled</em> on this repository. Visit
          <a href="https://github.com/daihang1/-/settings">repository settings</a>
          to enable display of your funding links.
        </p>
    </div>
  </div>

  <div class="js-template-suggestion px-3 mt-3 hide-sm hide-md d-none" data-template-suggestion-pattern="^(\.github\/ISSUE_TEMPLATE\/(?!config))">
    <div class="flash">
      <p>
        Looks like this file is an <b>issue template</b>. Need help? Check out the <a href="https://help.github.com/articles/about-issue-and-pull-request-templates">documentation.</a>
      </p>
    </div>
  </div>

  <div class="js-template-suggestion px-3 mt-3 hide-sm hide-md d-none" data-template-suggestion-pattern="^(\.github\/ISSUE_TEMPLATE\/config)">
    <div class="flash">
      <p>
        Looks like this file is an <b>issue template config</b>. Need help? Check out the <a href="https://help.github.com/articles/configuring-issue-templates-for-your-repository">documentation.</a>
      </p>
    </div>
  </div>


<input type="hidden" name="commit" class="js-commit-oid" value="2c4611e3d6b6747be93949f0376926106e9b43d2" data-default-value="2c4611e3d6b6747be93949f0376926106e9b43d2">
  <input type="hidden" name="same_repo" value="1">

<input type="hidden" name="pr" value="">


  
<div class="file js-code-editor container-preview mx-lg-3 show-code" data-github-confirm-unload="false">
  <div class="file-header mb-2 d-flex flex-items-center pr-0">

      <div class="tabnav-tabs js-file-editor-nav d-flex flex-auto d-md-block">
        <button type="button" class="btn-link code px-3 px-sm-6 px-lg-3 flex-1 flex-md-auto tabnav-tab js-blob-edit-code js-blob-edit-tab selected" aria-current="true" data-tab="show-code">
          <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
          Edit new file
        </button>
        <button type="button" class="flex-1 flex-md-auto btn-link preview tabnav-tab js-blob-edit-preview js-blob-edit-tab" data-tab="preview" aria-current="false">
          <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
          Preview
        </button>
      </div>

      <div class="file-actions d-none d-md-flex px-3 pr-md-6 px-lg-2">
        <select id="indent-mode" class="form-select select-sm js-code-indent-mode" aria-label="Indent mode">
          <optgroup label="Indent mode">
            <option value="space">Spaces</option>
<option value="tab">Tabs</option>
          </optgroup>
        </select>

        <select id="indent-size" class="form-select select-sm js-code-indent-width" aria-label="Indent size">
          <optgroup label="Indent size">
            <option value="2">2</option>
<option value="4">4</option>
<option value="8">8</option>
          </optgroup>
        </select>

        <select id="line-wrap-mode" class="form-select select-sm js-code-wrap-mode" aria-label="Line wrap mode">
          <optgroup label="Line wrap mode">
            <option value="off">No wrap</option>
<option value="on">Soft wrap</option>
          </optgroup>
        </select>
      </div>
  </div>

  <input type="hidden" name="content_changed" class="js-blob-contents-changed" value="true" data-default-value="false">

  <div class="commit-create  position-relative ">
    <textarea class="form-control file-editor-textarea js-blob-contents js-code-textarea " rows="35" name="value" data-filename="" data-codemirror-mode="" data-allow-unchanged="false" placeholder="Enter file contents here" aria-label="Enter file contents here" spellcheck="false" autofocus="" style="display: none;"></textarea>
  <div class="CodeMirror cm-s-github-light CodeMirror-focused" style="height: 712px;"><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="display: block; bottom: 17px;"><div style="min-width: 1px; height: 4143px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true" style="display: block; right: 17px; left: 53px;"><div style="height: 100%; min-height: 1px; width: 45722.2px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true" style="display: block; height: 17px; width: 17px;"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 53px; margin-bottom: -17px; border-right-width: 13px; min-height: 4144px; min-width: 45722.2px; padding-right: 17px; padding-bottom: 17px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>235</div></div></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation" style="padding-right: 0.1px;">2 rowkeyÊï£ÂàóÂéüÂàôÂ¶ÇÊûúrowkeyÊåâÁÖßÊó∂Èó¥Êà≥ÁöÑÊñπÂºèÈÄíÂ¢ûÔºå‰∏çË¶ÅÂ∞ÜÊó∂Èó¥ÊîæÂú®‰∫åËøõÂà∂Á†ÅÁöÑÂâçÈù¢ÔºåÂª∫ËÆÆÂ∞ÜrowkeyÁöÑÈ´ò‰Ωç‰Ωú‰∏∫Êï£ÂàóÂ≠óÊÆµÔºåÁî±Á®ãÂ∫èÈöèÊú∫ÁîüÊàêÔºå‰Ωé‰ΩçÊîæÊó∂Èó¥Â≠óÊÆµÔºåËøôÊ†∑Â∞ÜÊèêÈ´òÊï∞ÊçÆÂùáË°°ÂàÜÂ∏ÉÂú®ÊØè‰∏™RegionServerÔºå‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÁöÑÂá†Áéá„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊï£ÂàóÂ≠óÊÆµÔºåÈ¶ñÂ≠óÊÆµÁõ¥Êé•ÊòØÊó∂Èó¥‰ø°ÊÅØÔºåÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰ºöÈõÜ‰∏≠Âú®‰∏Ä‰∏™RegionServer‰∏äÔºåËøôÊ†∑Âú®Êï∞ÊçÆÊ£ÄÁ¥¢ÁöÑÊó∂ÂÄôË¥üËΩΩ‰ºöÈõÜ‰∏≠Âú®‰∏™Âà´ÁöÑRegionServer‰∏äÔºåÈÄ†ÊàêÁÉ≠ÁÇπÈóÆÈ¢òÔºå‰ºöÈôç‰ΩéÊü•ËØ¢ÊïàÁéá„ÄÇ3 rowkeyÂîØ‰∏ÄÂéüÂàôÂøÖÈ°ªÂú®ËÆæËÆ°‰∏ä‰øùËØÅÂÖ∂ÂîØ‰∏ÄÊÄßÔºårowkeyÊòØÊåâÁÖßÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫èÂ≠òÂÇ®ÁöÑÔºåÂõ†Ê≠§ÔºåËÆæËÆ°rowkeyÁöÑÊó∂ÂÄôÔºåË¶ÅÂÖÖÂàÜÂà©Áî®Ëøô‰∏™ÊéíÂ∫èÁöÑÁâπÁÇπÔºåÂ∞ÜÁªèÂ∏∏ËØªÂèñÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏ÄÂùóÔºåÂ∞ÜÊúÄËøëÂèØËÉΩ‰ºöË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÊîæÂà∞‰∏ÄÂùó„ÄÇhbaseÁöÑÁÉ≠ÁÇπÈóÆÈ¢òÔºöHBase‰∏≠ÁöÑË°åÊòØÊåâÁÖßrowkeyÁöÑÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫èÁöÑÔºåËøôÁßçËÆæËÆ°‰ºòÂåñ‰∫ÜscanÊìç‰ΩúÔºåÂèØ‰ª•Â∞ÜÁõ∏ÂÖ≥ÁöÑË°å‰ª•Âèä‰ºöË¢´‰∏ÄËµ∑ËØªÂèñÁöÑË°åÂ≠òÂèñÂú®‰∏¥Ëøë‰ΩçÁΩÆÔºå‰æø‰∫éscan„ÄÇÁÑ∂ËÄåÁ≥üÁ≥ïÁöÑrowkeyËÆæËÆ°ÊòØÁÉ≠ÁÇπÁöÑÊ∫êÂ§¥„ÄÇÁÉ≠ÁÇπÂèëÁîüÂú®Â§ßÈáèÁöÑclientÁõ¥Êé•ËÆøÈóÆÈõÜÁæ§ÁöÑ‰∏Ä‰∏™ÊàñÊûÅÂ∞ëÊï∞‰∏™ËäÇÁÇπÔºàËÆøÈóÆÂèØËÉΩÊòØËØªÔºåÂÜôÊàñËÄÖÂÖ∂‰ªñÊìç‰ΩúÔºâ„ÄÇÂ§ßÈáèËÆøÈóÆ‰ºö‰ΩøÁÉ≠ÁÇπregionÊâÄÂú®ÁöÑÂçï‰∏™Êú∫Âô®Ë∂ÖÂá∫Ëá™Ë∫´ÊâøÂèóËÉΩÂäõÔºåÂºïËµ∑ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥region‰∏çÂèØÁî®ÔºåËøô‰πü‰ºöÂΩ±ÂìçÂêå‰∏Ä‰∏™RegionServer‰∏äÁöÑÂÖ∂‰ªñregionÔºåÁî±‰∫é‰∏ªÊú∫Êó†Ê≥ïÊúçÂä°ÂÖ∂‰ªñregionÁöÑËØ∑Ê±Ç„ÄÇËÆæËÆ°ËâØÂ•ΩÁöÑÊï∞ÊçÆËÆøÈóÆÊ®°Âºè‰ª•‰ΩøÈõÜÁæ§Ë¢´ÂÖÖÂàÜÔºåÂùáË°°ÁöÑÂà©Áî®„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçÂÜôÁÉ≠ÁÇπÔºåËÆæËÆ°rowkey‰ΩøÂæó‰∏çÂêåË°åÂú®Âêå‰∏Ä‰∏™regionÔºå‰ΩÜÊòØÂú®Êõ¥Â§öÊï∞ÊçÆÊÉÖÂÜµ‰∏ãÔºåÊï∞ÊçÆÂ∫îËØ•Ë¢´ÂÜôÂÖ•ÈõÜÁæ§ÁöÑÂ§ö‰∏™regionÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÈÅøÂÖçÁÉ≠ÁÇπÁöÑÊñπÊ≥ï‰ª•ÂèäÂÆÉ‰ª¨ÁöÑ‰ºòÁº∫ÁÇπÔºö1.Âä†ÁõêÔºöËøôÈáåÊâÄËØ¥ÁöÑÂä†Áõê‰∏çÊòØÂØÜÁ†ÅÂ≠¶‰∏≠ÁöÑÂä†ÁõêÔºåËÄåÊòØÂú®rowkeyÁöÑÂâçÈù¢Â¢ûÂä†ÈöèÊú∫Êï∞ÔºåÂÖ∑‰ΩìÂ∞±ÊòØÁªôrowkeyÂàÜÈÖç‰∏Ä‰∏™ÈöèÊú∫ÂâçÁºÄ‰ª•‰ΩøÂæóÂÆÉÂíå‰πãÂâçÁöÑrowkeyÁöÑÂºÄÂ§¥‰∏çÂêå„ÄÇÂàÜÈÖçÁöÑÂâçÁºÄÁßçÁ±ªÊï∞ÈáèÂ∫îËØ•Âíå‰Ω†ÊÉ≥‰ΩøÁî®Êï∞ÊçÆÂàÜÊï£Âà∞‰∏çÂêåÁöÑregionÁöÑÊï∞Èáè‰∏ÄËá¥„ÄÇÂä†Áõê‰πãÂêéÁöÑrowkeyÂ∞±‰ºöÊ†πÊçÆÈöèÊú∫ÁîüÊàêÁöÑÂâçÁºÄÂàÜÊï£Âà∞ÂêÑ‰∏™region‰∏äÔºå‰ª•ÈÅøÂÖçÁÉ≠ÁÇπ„ÄÇ2.ÂìàÂ∏åÔºöÂìàÂ∏å‰ºö‰ΩøÂêå‰∏ÄË°åÊ∞∏ËøúÁî®‰∏Ä‰∏™ÂâçÁºÄÂä†Áõê„ÄÇÂìàÂ∏å‰πüÂèØ‰ª•‰ΩøË¥üËΩΩÂàÜÊï£Âà∞Êï¥‰∏™ÈõÜÁæ§Ôºå‰ΩÜÊòØËØªÂç¥ÊòØÂèØ‰ª•È¢ÑÊµãÁöÑ„ÄÇ‰ΩøÁî®Á°ÆÂÆöÁöÑÂìàÂ∏åÂèØ‰ª•ËÆ©ÂÆ¢Êà∑Á´ØÈáçÊûÑÂÆåÊï¥ÁöÑrowkeyÔºåÂèØ‰ª•‰ΩøÁî®getÊìç‰ΩúÂáÜÁ°ÆËé∑ÂèñÊüê‰∏Ä‰∏™Ë°åÊï∞ÊçÆ„ÄÇ3.ÂèçËΩ¨ÔºöÁ¨¨‰∏âÁßçÈò≤Ê≠¢ÁÉ≠ÁÇπÁöÑÊñπÊ≥ïÊó∂ÂèçËΩ¨Âõ∫ÂÆöÈïøÂ∫¶ÊàñËÄÖÊï∞Â≠óÊ†ºÂºèÁöÑrowkey„ÄÇËøôÊ†∑ÂèØ‰ª•‰ΩøÂæórowkey‰∏≠ÁªèÂ∏∏ÊîπÂèòÁöÑÈÉ®ÂàÜÔºàÊúÄÊ≤°ÊúâÊÑè‰πâÁöÑÈÉ®ÂàÜÔºâÊîæÂú®ÂâçÈù¢„ÄÇËøôÊ†∑ÂèØ‰ª•ÊúâÊïàÁöÑÈöèÊú∫rowkeyÔºå‰ΩÜÊòØÁâ∫Áâ≤‰∫ÜrowkeyÁöÑÊúâÂ∫èÊÄß„ÄÇÂèçËΩ¨rowkeyÁöÑ‰æãÂ≠ê‰ª•ÊâãÊú∫Âè∑‰∏∫rowkeyÔºåÂèØ‰ª•Â∞ÜÊâãÊú∫Âè∑ÂèçËΩ¨ÂêéÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫rowkeyÔºåËøôÊ†∑ÁöÑÂ∞±ÈÅøÂÖç‰∫Ü‰ª•ÊâãÊú∫Âè∑ÈÇ£Ê†∑ÊØîËæÉÂõ∫ÂÆöÂºÄÂ§¥ÂØºËá¥ÁÉ≠ÁÇπÈóÆÈ¢òPhoenix ÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÔºöHbaseÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÊú¨Ë¥®Â∞±ÊòØÂª∫Á´ãÂêÑÂàóÂÄº‰∏éË°åÈîÆ‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ( ÂΩìË¶ÅÂØπF:C1ËøôÂàóÂª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÂè™ÈúÄË¶ÅÂª∫Á´ãF:C1ÂêÑÂàóÂÄºÂà∞ÂÖ∂ÂØπÂ∫îË°åÈîÆÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂ¶ÇC11-&gt;RK1Á≠âÔºåËøôÊ†∑Â∞±ÂÆåÊàê‰∫ÜÂØπF:C1ÂàóÂÄºÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÊûÑÂª∫ÔºåÂΩìË¶ÅÊü•ËØ¢Á¨¶ÂêàF:C1=C11ÂØπÂ∫îÁöÑF:C2ÁöÑÂàóÂÄºÊó∂Âç≥Ê†πÊçÆC1=C11Êù•Êü•ËØ¢C2ÁöÑÂÄº)ÂÖ∂Êü•ËØ¢Ê≠•È™§Â¶Ç‰∏ã:1. Ê†πÊçÆC1=C11Âà∞Á¥¢ÂºïÊï∞ÊçÆ‰∏≠Êü•ÊâæÂÖ∂ÂØπÂ∫îÁöÑRKÔºåÊü•ËØ¢ÂæóÂà∞ÂÖ∂ÂØπÂ∫îÁöÑRK=RK12. ÂæóÂà∞RK1ÂêéÂ∞±Ëá™ÁÑ∂ËÉΩÊ†πÊçÆRK1Êù•Êü•ËØ¢C2ÁöÑÂÄº‰∫Ü ËøôÊòØÊûÑÂª∫‰∫åÁ∫ßÁ¥¢ÂºïÂ§ßÊ¶ÇÊÄùË∑ØÔºåÂÖ∂‰ªñÁªÑÂêàÊü•ËØ¢ÁöÑËÅîÂêàÁ¥¢ÂºïÁöÑÂª∫Á´ã‰πüÁ±ª‰ºº„ÄÇÂú®Hbase‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Âçï‰∏ÄÁöÑÊåâÁÖßÂ≠óÂÖ∏Â∫èÊéíÂ∫èÁöÑrowKeyÁ¥¢ÂºïÔºåÂΩì‰ΩøÁî®rowKeyÊù•ËøõË°åÊï∞ÊçÆÊü•ËØ¢ÁöÑÊó∂ÂÄôÈÄüÂ∫¶ËæÉÂø´Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰∏ç‰ΩøÁî®rowKeyÊù•Êü•ËØ¢ÁöÑËØùÂ∞±‰ºö‰ΩøÁî®filterÊù•ÂØπÂÖ®Ë°®ËøõË°åÊâ´ÊèèÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äÈôç‰Ωé‰∫ÜÊ£ÄÁ¥¢ÊÄßËÉΩ„ÄÇËÄåPhoenixÊèê‰æõ‰∫Ü‰∫åÁ∫ßÁ¥¢ÂºïÊäÄÊúØÊù•Â∫îÂØπËøôÁßç‰ΩøÁî®rowKey‰πãÂ§ñÁöÑÊù°‰ª∂ËøõË°åÊ£ÄÁ¥¢ÁöÑÂú∫ÊôØ„ÄÇPhoenixÊîØÊåÅ‰∏§ÁßçÁ±ªÂûãÁöÑÁ¥¢ÂºïÊäÄÊúØÔºöGlobal IndexingÂíåLocal IndexingGlobal Indexing: ÈÄÇÁî®‰∫éÂ§öËØªÂ∞ëÂÜôÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇ‰ΩøÁî®HbaseÈ¢ÑÂàÜÂå∫ÔºöHbaseÂú®Ë°®ÂàöÂàöÂàõÂª∫ÁöÑÊó∂ÂÄôÔºåÂè™Êúâ‰∏Ä‰∏™ÂàÜÂå∫ÔºàreginÔºâÔºåÂΩì‰∏Ä‰∏™reginËøáÂ§ßÊó∂ÂÄôÔºåË°®‰ºösplitÔºåÂàÜË£ÇÊàê2‰∏™ÂàÜÂå∫ÔºåË°®Âú® ËøõË°åsplitÁöÑÊó∂ÂÄô‰ºöËÄóË¥πÂ§ßÈáèÁöÑËµÑÊ∫êÔºåÊâÄ‰ª•hbaseÊèê‰æõ‰∫ÜÈ¢ÑÂàÜÂå∫ÂäüËÉΩÔºåÂç≥Áî®Êà∑ÂèØ‰ª•Âú®ÂàõÂª∫Ë°®ÁöÑÊó∂ÂÄôÂØπË°®ÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂàôÂàÜÂå∫„ÄÇÂ¶Ç‰ΩïËøõË°åÈ¢ÑÂàÜÂå∫ÔºöÊØè‰∏Ä‰∏™regionÁª¥Êä§ÁùÄstartRow‰∏éendRowÔºåÂ¶ÇÊûúÂä†ÂÖ•ÁöÑÊï∞ÊçÆÁ¨¶ÂêàÊüê‰∏™regionÁª¥Êä§ÁöÑrowKeyËåÉÂõ¥ÔºåÂàôÊï∞ÊçÆ‰∫§ÁªôËøô‰∏™regionÁª¥Êä§„ÄÇHbaseÁöÑregionÂ§™Â§ßÊàñÂ§™Â∞èÁöÑÈóÆÈ¢òÔºöregionÂ§™Â∞èÔºöÊõ¥ÂÆπÊòìËß¶ÂèësplitÔºåÁ≥ªÁªüÁöÑÊï¥‰ΩìËÆøÈóÆÊúçÂä°‰ºöÂá∫Áé∞‰∏çÁ®≥ÂÆöÁöÑÁé∞Ë±°„ÄÇregionÂ§™Â§ßÔºöÁî±‰∫éÈïøÊúüÂæó‰∏çÂà∞splitÔºåÂõ†Ê≠§Âêå‰∏Ä‰∏™regionÂÜÖÁöÑstorefileÊï∞ÈáèÂ§™Â§öÔºåÂèëÁîüÂ§öÊ¨°compactionÂéãÁº©ÁöÑÊú∫‰ºöÂ¢ûÂ§ßÔºå‰ºöÈôç‰ΩéÁ≥ªÁªüÁöÑÊÄßËÉΩÂíåÁ®≥ÂÆöÊÄß„ÄÇÂõ†Ê≠§ÔºåregionÂ§ßÂ∞è‰∏ÄËà¨Âú®5-10GÂ§ßÂ∞èÔºåÊï∞ÈáèÂú®20-200‰πãÈó¥Ôºå‰∏ÄËà¨ÊòØ100‰∏™„ÄÇHbaseÁöÑÁì∂Âä≤ÈóÆÈ¢òÔºö1„ÄÅ‰∏çËÉΩÊîØÊåÅÊù°‰ª∂Êü•ËØ¢ÔºåÂè™ÊîØÊåÅRow KeyÊù•Êü•ËØ¢„ÄÇ2„ÄÅÊöÇÊó∂‰∏çËÉΩÊîØÊåÅMaster Server ÁöÑÊïÖÈöúÂàáÊç¢ÔºåÂΩìmassterÂÆïÊú∫ÔºåÊï¥‰∏™ÂÇ®Â≠òÁ≥ªÁªüÂ∞±‰ºöÊåÇÊéâ3„ÄÅÁ£ÅÁõòIOÁì∂È¢àÈôêÂà∂ÔºåÊï∞ÊçÆÂÇ®Â≠òÂú®Á£ÅÁõò‰∏äÔºå‰∏çÂ¶ÇÁõ¥Êé•ÂÇ®Â≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑredisËØªÂÜôÂø´„ÄÇHbaseÂ¶Ç‰ΩïÂØºÂÖ•Êï∞ÊçÆÔºö‰ΩøÁî®MapReduce JobÊñπÂºèÔºåÊ†πÊçÆHbase APIÁºñÂÜôjavaËÑöÊú¨ÔºåÂ∞ÜÊñáÊú¨Êñá‰ª∂Áî®Êñá‰ª∂ÊµÅÁöÑÊñπÂºèÊà™ÂèñÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âà∞Â§ö‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑ‰∏≠ÔºåÂú®putÊñπÊ≥ï‰∏ãÔºåÈÄöËøáÂØπË°®‰∏≠ÁöÑÂàóÊóèËøõË°åforÂæ™ÁéØÈÅçÂéÜÂàóÂêçÔºåÁî®ifÂà§Êñ≠ÂàóÂêçÂêéËøõË°åforÂæ™ÁéØË∞ÉÁî®put.addÁöÑÊñπÊ≥ïÂØπÂàóÊóè‰∏ãÊØè‰∏Ä‰∏™ÂàóËøõË°åËÆæÂÄºÔºåÊØè‰∏™ÂàóÊóè‰∏ãÊúâÂá†‰∏™‰∫ÜÂ∞±ËµãÂÄºÂá†Ê¨°ÔºÅÊ≤°ÊúâË°®ÂÖàÂØπÂÖàÂàõÂª∫Ë°®„ÄÇHbaseÂíåHiveÁöÑÂå∫Âà´ÔºöÂÖ±ÂêåÁÇπÔºö1.hbase‰∏éhiveÈÉΩÊòØÊû∂ÊûÑÂú®hadoop‰πã‰∏äÁöÑ„ÄÇÈÉΩÊòØÁî®hadoop‰Ωú‰∏∫Â∫ïÂ±ÇÂ≠òÂÇ®Âå∫Âà´Ôºö2.HiveÊòØÂª∫Á´ãÂú®Hadoop‰πã‰∏ä‰∏∫‰∫ÜÂáèÂ∞ëMapReducejobsÁºñÂÜôÂ∑•‰ΩúÁöÑÊâπÂ§ÑÁêÜÁ≥ªÁªüÔºåHBaseÊòØ‰∏∫‰∫ÜÊîØÊåÅÂº•Ë°•HadoopÂØπÂÆûÊó∂Êìç‰ΩúÁöÑÁº∫Èô∑ÁöÑÈ°πÁõÆ „ÄÇ3.ÊÉ≥Ë±°‰Ω†Âú®Êìç‰ΩúRMDBÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûúÊòØÂÖ®Ë°®Êâ´ÊèèÔºåÂ∞±Áî®Hive+Hadoop,Â¶ÇÊûúÊòØÁ¥¢ÂºïËÆøÈóÆÔºåÂ∞±Áî®HBase+Hadoop „ÄÇ4.Hive queryÂ∞±ÊòØMapReduce jobsÂèØ‰ª•‰ªé5ÂàÜÈíüÂà∞Êï∞Â∞èÊó∂‰∏çÊ≠¢ÔºåHBaseÊòØÈùûÂ∏∏È´òÊïàÁöÑÔºåËÇØÂÆöÊØîHiveÈ´òÊïàÁöÑÂ§ö„ÄÇ5.HiveÊú¨Ë∫´‰∏çÂ≠òÂÇ®ÂíåËÆ°ÁÆóÊï∞ÊçÆÔºåÂÆÉÂÆåÂÖ®‰æùËµñ‰∫éHDFSÂíåMapReduceÔºåHive‰∏≠ÁöÑË°®Á∫ØÈÄªËæë„ÄÇ6.hiveÂÄüÁî®hadoopÁöÑMapReduceÊù•ÂÆåÊàê‰∏Ä‰∫õhive‰∏≠ÁöÑÂëΩ‰ª§ÁöÑÊâßË°å7.hbaseÊòØÁâ©ÁêÜË°®Ôºå‰∏çÊòØÈÄªËæëË°®ÔºåÊèê‰æõ‰∏Ä‰∏™Ë∂ÖÂ§ßÁöÑÂÜÖÂ≠òhashË°®ÔºåÊêúÁ¥¢ÂºïÊìéÈÄöËøáÂÆÉÊù•Â≠òÂÇ®Á¥¢ÂºïÔºåÊñπ‰æøÊü•ËØ¢Êìç‰Ωú„ÄÇ8.hbaseÊòØÂàóÂ≠òÂÇ®„ÄÇ9.hdfs‰Ωú‰∏∫Â∫ïÂ±ÇÂ≠òÂÇ®ÔºåhdfsÊòØÂ≠òÊîæÊñá‰ª∂ÁöÑÁ≥ªÁªüÔºåËÄåHbaseË¥üË¥£ÁªÑÁªáÊñá‰ª∂„ÄÇ10.hiveÈúÄË¶ÅÁî®Âà∞hdfsÂ≠òÂÇ®Êñá‰ª∂ÔºåÈúÄË¶ÅÁî®Âà∞MapReduceËÆ°ÁÆóÊ°ÜÊû∂„ÄÇË°åÂºèÊï∞ÊçÆÂ∫ì‰∏éÂàóÂºèÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´Ôºö‰º†ÁªüË°åÂºèÔºö1„ÄÅÊï∞ÊçÆÊòØÊåâË°åÂÇ®Â≠ò„ÄÇ2„ÄÅÊ≤°ÊúâÁ¥¢ÂºïÁöÑÊü•ËØ¢‰ΩøÁî®Â§ßÈáèI/O„ÄÇ3„ÄÅÂª∫Á´ãÁ¥¢ÂºïÂíåÁâ©ÂåñËßÜÂõæÈúÄË¶ÅÂ§ßÈáèÊó∂Èó¥ÂíåËµÑÊ∫ê„ÄÇ4„ÄÅÈù¢ÂØπÊü•ËØ¢ÁöÑÈúÄÊ±ÇÔºåÊï∞ÊçÆÂ∫ìÂøÖÈ°ªË¢´Â§ßÈáèËÜ®ËÉÄÊâçËÉΩÊª°Ë∂≥ÊÄßËÉΩÁöÑË¶ÅÊ±Ç„ÄÇÂàóÂºèÔºö1„ÄÅÊï∞ÊçÆÊåâÂàóÂ≠òÂÇ®„ÄÇ2„ÄÅÊï∞ÊçÆÂç≥‰ΩøÁ¥¢Âºï„ÄÇ3„ÄÅÂè™ËÆøÈóÆÊü•ËØ¢Ê∂âÂèäÁöÑÂàóÔºàÂ§ßÈáèÈôç‰Ωé Á≥ªÁªüÁöÑI/OÔºâ„ÄÇ4„ÄÅÊØè‰∏ÄÂàóÊúâ‰∏Ä‰∏™Á∫øÁ¥¢Êù•Â§ÑÁêÜ„ÄÇÔºàÊü•ËØ¢ÁöÑÂπ∂ÂèëÂ§ÑÁêÜÔºâ„ÄÇ5„ÄÅÊï∞ÊçÆÁ±ªÂûã‰∏ÄËá¥ÔºåÊï∞ÊçÆÁâπÂæÅÁõ∏‰ºº„ÄÇÔºàÂéãÁº©È´òÊïàÔºâ„ÄÇÂàóÁ∞áÊÄé‰πàÂàõÂª∫ÊØîËæÉÂ•ΩÔºüÔºà&lt;=2ÔºârowKeyÊúÄÂ•ΩË¶ÅÂàõÂª∫ÊúâËßÑÂàôÁöÑrowKeyÔºåÂç≥ÊúÄÂ•ΩÊòØÊúâÂ∫èÁöÑ„ÄÇHBase‰∏≠‰∏ÄÂº†Ë°®ÊúÄÂ•ΩÂè™ÂàõÂª∫‰∏ÄÂà∞‰∏§‰∏™ÂàóÁ∞áÊØîËæÉÂ•ΩÔºåÂõ†‰∏∫HBase‰∏çËÉΩÂæàÂ•ΩÁöÑÂ§ÑÁêÜÂ§ö‰∏™ÂàóÁ∞á„ÄÇÊèèËø∞Hbase‰∏≠scanÂíågetÁöÑÂäüËÉΩ‰ª•ÂèäÂÆûÁé∞ÁöÑÂºÇÂêå.:1.ÊåâÊåáÂÆöRowKey Ëé∑ÂèñÂîØ‰∏Ä‰∏ÄÊù°ËÆ∞ÂΩïÔºågetÊñπÊ≥ïÔºàorg.apache.hadoop.hbase.client.GetÔºâGet ÁöÑÊñπÊ≥ïÂ§ÑÁêÜÂàÜ‰∏§Áßç : ËÆæÁΩÆ‰∫ÜClosestRowBefore ÂíåÊ≤°ÊúâËÆæÁΩÆÁöÑrowlock .‰∏ªË¶ÅÊòØÁî®Êù•‰øùËØÅË°åÁöÑ‰∫ãÂä°ÊÄßÔºåÂç≥ÊØè‰∏™get ÊòØ‰ª•‰∏Ä‰∏™row Êù•Ê†áËÆ∞ÁöÑ.‰∏Ä‰∏™row‰∏≠ÂèØ‰ª•ÊúâÂæàÂ§öfamily Âíåcolumn.2.ÊåâÊåáÂÆöÁöÑÊù°‰ª∂Ëé∑Âèñ‰∏ÄÊâπËÆ∞ÂΩïÔºåscanÊñπÊ≥ï(org.apache.Hadoop.hbase.client.Scan)ÂÆûÁé∞Êù°‰ª∂Êü•ËØ¢ÂäüËÉΩ‰ΩøÁî®ÁöÑÂ∞±ÊòØscan ÊñπÂºè.1)scan ÂèØ‰ª•ÈÄöËøásetCaching ‰∏ésetBatch ÊñπÊ≥ïÊèêÈ´òÈÄüÂ∫¶(‰ª•Á©∫Èó¥Êç¢Êó∂Èó¥)Ôºõ   2)scan ÂèØ‰ª•ÈÄöËøásetStartRow ‰∏ésetEndRow Êù•ÈôêÂÆöËåÉÂõ¥([startÔºåend]start ÊòØÈó≠Âå∫Èó¥Ôºåend ÊòØÂºÄÂå∫Èó¥)„ÄÇËåÉÂõ¥Ë∂äÂ∞èÔºåÊÄßËÉΩË∂äÈ´ò„ÄÇ3)scan ÂèØ‰ª•ÈÄöËøásetFilter ÊñπÊ≥ïÊ∑ªÂä†ËøáÊª§Âô®ÔºåËøô‰πüÊòØÂàÜÈ°µ„ÄÅÂ§öÊù°‰ª∂Êü•ËØ¢ÁöÑÂü∫Á°Ä„ÄÇ 3.ÂÖ®Ë°®Êâ´ÊèèÔºåÂç≥Áõ¥Êé•Êâ´ÊèèÊï¥Âº†Ë°®‰∏≠ÊâÄÊúâË°åËÆ∞ÂΩïHBASE‰∏≠compactÁî®ÈÄîÊòØ‰ªÄ‰πàÔºå‰ªÄ‰πàÊó∂ÂÄôËß¶ÂèëÔºåÂàÜ‰∏∫Âì™‰∏§Áßç,Êúâ‰ªÄ‰πàÂå∫Âà´:Âú®hbase‰∏≠ÊØèÂΩìÊúâmemstoreÊï∞ÊçÆflushÂà∞Á£ÅÁõò‰πãÂêéÔºåÂ∞±ÂΩ¢Êàê‰∏Ä‰∏™storefileÔºåÂΩìstoreFileÁöÑÊï∞ÈáèËææÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÂêéÔºåÂ∞±ÈúÄË¶ÅÂ∞Ü storefile Êñá‰ª∂Êù•ËøõË°å compaction Êìç‰Ωú„ÄÇCompact ÁöÑ‰ΩúÁî®Ôºö1&gt;.ÂêàÂπ∂Êñá‰ª∂2&gt;.Ê∏ÖÈô§ËøáÊúüÔºåÂ§ö‰ΩôÁâàÊú¨ÁöÑÊï∞ÊçÆ3&gt;.ÊèêÈ´òËØªÂÜôÊï∞ÊçÆÁöÑÊïàÁéáHBase ‰∏≠ÂÆûÁé∞‰∫Ü‰∏§Áßç compaction ÁöÑÊñπÂºèÔºöminor and major. Ëøô‰∏§Áßç compaction ÊñπÂºèÁöÑÂå∫Âà´ÊòØÔºö1„ÄÅMinor Êìç‰ΩúÂè™Áî®Êù•ÂÅöÈÉ®ÂàÜÊñá‰ª∂ÁöÑÂêàÂπ∂Êìç‰Ωú‰ª•ÂèäÂåÖÊã¨ minVersion=0 Âπ∂‰∏îËÆæÁΩÆ ttl ÁöÑËøáÊúüÁâàÊú¨Ê∏ÖÁêÜÔºå‰∏çÂÅö‰ªª‰ΩïÂà†Èô§Êï∞ÊçÆ„ÄÅÂ§öÁâàÊú¨Êï∞ÊçÆÁöÑÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇ2„ÄÅMajor Êìç‰ΩúÊòØÂØπ Region ‰∏ãÁöÑHStore‰∏ãÁöÑÊâÄÊúâStoreFileÊâßË°åÂêàÂπ∂Êìç‰ΩúÔºåÊúÄÁªàÁöÑÁªìÊûúÊòØÊï¥ÁêÜÂêàÂπ∂Âá∫‰∏Ä‰∏™Êñá‰ª∂„ÄÇÁÆÄËø∞Hbase filterÁöÑÂÆûÁé∞ÂéüÁêÜÊòØ‰ªÄ‰πàÔºüÁªìÂêàÂÆûÈôÖÈ°πÁõÆÁªèÈ™åÔºåÂÜôÂá∫Âá†‰∏™‰ΩøÁî®filterÁöÑÂú∫ÊôØ:HBase‰∏∫Á≠õÈÄâÊï∞ÊçÆÊèê‰æõ‰∫Ü‰∏ÄÁªÑËøáÊª§Âô®ÔºåÈÄöËøáËøô‰∏™ËøáÊª§Âô®ÂèØ‰ª•Âú®HBase‰∏≠ÁöÑÊï∞ÊçÆÁöÑÂ§ö‰∏™Áª¥Â∫¶ÔºàË°åÔºåÂàóÔºåÊï∞ÊçÆÁâàÊú¨Ôºâ‰∏äËøõË°åÂØπÊï∞ÊçÆÁöÑÁ≠õÈÄâÊìç‰ΩúÔºå‰πüÂ∞±ÊòØËØ¥ËøáÊª§Âô®ÊúÄÁªàËÉΩÂ§üÁ≠õÈÄâÁöÑÊï∞ÊçÆËÉΩÂ§üÁªÜÂåñÂà∞ÂÖ∑‰ΩìÁöÑ‰∏Ä‰∏™Â≠òÂÇ®ÂçïÂÖÉÊ†º‰∏äÔºàÁî±Ë°åÈîÆÔºåÂàóÂêçÔºåÊó∂Èó¥Êà≥ÂÆö‰ΩçÔºâ„ÄÇRowFilter„ÄÅPrefixFilter„ÄÇ„ÄÇ„ÄÇhbaseÁöÑfilterÊòØÈÄöËøáscanËÆæÁΩÆÁöÑÔºåÊâÄ‰ª•ÊòØÂü∫‰∫éscanÁöÑÊü•ËØ¢ÁªìÊûúËøõË°åËøáÊª§.ËøáÊª§Âô®ÁöÑÁ±ªÂûãÂæàÂ§öÔºå‰ΩÜÊòØÂèØ‰ª•ÂàÜ‰∏∫‰∏§Â§ßÁ±ª‚Äî‚ÄîÊØîËæÉËøáÊª§Âô®Ôºå‰∏ìÁî®ËøáÊª§Âô®ËøáÊª§Âô®ÁöÑ‰ΩúÁî®ÊòØÂú®ÊúçÂä°Á´ØÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Êª°Ë∂≥Êù°‰ª∂ÔºåÁÑ∂ÂêéÂè™Â∞ÜÊª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞ÊçÆËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºõÂ¶ÇÂú®ËøõË°åËÆ¢ÂçïÂºÄÂèëÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨‰ΩøÁî®rowkeyfilterËøáÊª§Âá∫Êüê‰∏™Áî®Êà∑ÁöÑÊâÄÊúâËÆ¢ÂçïhbaseÁöÑÂÇ®Â≠òÁªìÊûÑÁöÑ‰ºòÁº∫ÁÇπÔºöHbaseÁöÑ‰ºòÁÇπÂèäÂ∫îÁî®Âú∫ÊôØ:</span></pre></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hdfsÁöÑÂÜôÊµÅÁ®ãÔºö1ÔºâË∑üNNÈÄö‰ø°ËØ∑Ê±Ç‰∏ä‰º†Êñá‰ª∂ÔºåNNÊ£ÄÊü•ÁõÆÊ†áÊñá‰ª∂ÊòØÂê¶Â≠òÂú®ÔºåÁà∂ÁõÆÂΩïÊòØÂê¶Â≠òÂú®2ÔºâNNËøîÂõûÊòØÂê¶ÂèØ‰ª•‰∏ä‰º†3Ôºâclient‰ºöÂÖàÂØπÊñá‰ª∂ËøõË°åÂàáÂàÜÔºåÊØîÂ¶Ç‰∏Ä‰∏™blockÂùó128MÔºåÊñá‰ª∂300MÂ∞±‰ºöË¢´ÂàáÂàÜÊàê3‰∏™ÂùóÔºå‰∏§‰∏™128MÔºå‰∏Ä‰∏™44M„ÄÇËØ∑Ê±ÇÁ¨¨‰∏Ä‰∏™blockËØ•‰º†ËæìÂà∞Âì™‰∫õDNÊúçÂä°Âô®‰∏ä„ÄÇ4ÔºâNNËøîÂõûDNÁöÑÊúçÂä°Âô®„ÄÇ5ÔºâclientËØ∑Ê±Ç‰∏Ä‰∏™Âè∞DN‰∏ä‰º†Êï∞ÊçÆÔºàRPCË∞ÉÁî®ÔºåÂª∫Á´ãpipelineÔºâÔºåÁ¨¨‰∏Ä‰∏™DNÊî∂Âà∞ËØ∑Ê±Ç‰ºöÁªßÁª≠Ë∞ÉÁî®Á¨¨‰∫å‰∏™DNÔºåÁÑ∂ÂêéÁ¨¨‰∫å‰∏™Ë∞ÉÁî®Á¨¨‰∏â‰∏™DN,Â∞ÜÊï¥‰∏™pipelineÂª∫Á´ãÂÆåÊàêÔºåÈÄêÁ∫ßËøîÂõûÂÆ¢Êà∑Á´Ø„ÄÇ6ÔºâclientÂºÄÂßã‰º†Ëæìblock(ÂÖà‰ªéÁ£ÅÁõòËØªÂèñÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Êú¨Âú∞ÂÜÖÂ≠òÁºìÂ≠ò)Ôºå‰ª•packet‰∏∫Âçï‰ΩçÔºà‰∏Ä‰∏™packet‰∏∫64kbÔºâ,ÂÜôÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôdatanode‰ºöËøõË°åÊï∞ÊçÆÊ†°È™åÔºåÂπ∂‰∏çÊòØÈÄöËøápacket‰∏∫Âçï‰ΩçÊ†°È™åÔºåËÄåÊòØ‰ª•chunk‰∏∫Âçï‰ΩçÊ†°È™åÔºà512byteÔºâ,Á¨¨‰∏Ä‰∏™DNÊî∂Âà∞Á¨¨‰∏Ä‰∏™packetÂ∞±‰ºö‰º†ÁªôÁ¨¨‰∫åÂè∞ÔºåÁ¨¨‰∫åÂè∞‰º†ÁªôÁ¨¨‰∏âÂè∞ÔºõÁ¨¨‰∏ÄÂè∞ÊØè‰º†‰∏Ä‰∏™packetÂ∞±‰ºöÊîæÂÖ•‰∏Ä‰∏™Â∫îÁ≠îÈòüÂàóÁ≠âÂæÖÂ∫îÁ≠î„ÄÇ7ÔºâÂΩì‰∏Ä‰∏™block‰º†ËæìÂÆåÊàêÊó∂ÔºåclientÂÜçÊ¨°ËØ∑Ê±ÇNN‰∏ä‰º†Á¨¨‰∫å‰∏™blockÁöÑÊúçÂä°Âô®„ÄÇhdfsÁöÑËØªÊµÅÁ®ãÔºö1ÔºâË∑üNNÈÄö‰ø°Êü•ËØ¢ÂÖÉÊï∞ÊçÆ(blockÊâÄÂú®ÁöÑDNÁöÑËäÇÁÇπ)ÔºåÊâæÂà∞Êñá‰ª∂ÂùóÊâÄÂú®ÁöÑDNÁöÑÊúçÂä°Âô®„ÄÇ2ÔºâÊåëÈÄâ‰∏ÄÂè∞DNÔºàÂ∞±ËøëÂéüÂàôÔºåÁÑ∂ÂêéÈöèÊú∫ÔºâÊúçÂä°Âô®ÔºåËØ∑Ê±ÇÂª∫Á´ãsocketÊµÅ„ÄÇ3ÔºâDNÂºÄÂßãÂèëÈÄÅÊï∞ÊçÆÔºà‰ªéÁ£ÅÁõòÈáåËØªÂèñÊï∞ÊçÆÊîæÂÖ•ÊµÅÔºå‰∏Äpacket‰∏∫Âçï‰ΩçÂÅöÊ†°È™åÔºâ4ÔºâÂÆ¢Êà∑Á´Ø‰ª•packet‰∏∫Âçï‰ΩçÊé•Êî∂ÔºåÁé∞Âú®Êú¨Âú∞ÁºìÂ≠òÔºåÁÑ∂ÂêéÂÜôÂÖ•ÁõÆÊ†áÊñá‰ª∂‰∏≠ÔºåÂêéÈù¢ÁöÑblockÂùóÂ∞±Áõ∏ÂΩì‰∫éappendÂà∞ÂâçÈù¢ÁöÑblockÂùóÔºåÊúÄÂêéÂêàÊàêÊúÄÁªàÈúÄË¶ÅÁöÑÊñá‰ª∂„ÄÇhdfsÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊµÅÁ®ãÔºö</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>1. ÂÆ¢Êà∑Á´ØÈÄöËøáClientProtocolÂçèËÆÆÂêëRpcServerÂèëËµ∑ÂàõÂª∫Êñá‰ª∂ÁöÑRPCËØ∑Ê±Ç„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>2. FSNamesystemÂ∞ÅË£Ö‰∫ÜÂêÑÁßçHDFSÊìç‰ΩúÁöÑÂÆûÁé∞ÁªÜËäÇÔºåRpcServerË∞ÉÁî®FSNamesystem‰∏≠ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï‰ª•ÂàõÂª∫ÁõÆÂΩï„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>3. Ëøõ‰∏ÄÊ≠•ÁöÑÔºåFSDirectoryÂ∞ÅË£Ö‰∫ÜÂêÑÁßçÁõÆÂΩïÊ†ëÊìç‰ΩúÁöÑÂÆûÁé∞ÁªÜËäÇÔºåFSNamesystemË∞ÉÁî®FSDirectory‰∏≠ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÂú®ÁõÆÂΩïÊ†ë‰∏≠ÂàõÂª∫ÁõÆÊ†áÊñá‰ª∂ÔºåÂπ∂ÈÄöËøáÊó•ÂøóÁ≥ªÁªüÂ§á‰ªΩÊñá‰ª∂Á≥ªÁªüÁöÑ‰øÆÊîπ„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>4. ÊúÄÂêéÔºåRpcServerÂ∞ÜRPCÂìçÂ∫îËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hadoop1.xÂíåhadoop2.xÁöÑÂå∫Âà´Ôºö</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>1. ËµÑÊ∫êË∞ÉÂ∫¶ÊñπÂºèÁöÑÊîπÂèòÂú®1.x, ‰ΩøÁî®JobtrackerË¥üË¥£‰ªªÂä°Ë∞ÉÂ∫¶ÂíåËµÑÊ∫êÁÆ°ÁêÜ,ÂçïÁÇπË¥üÊãÖËøáÈáç,Âú®2.x‰∏≠,Êñ∞Â¢û‰∫Üyarn‰Ωú‰∏∫ÈõÜÁæ§ÁöÑË∞ÉÂ∫¶Â∑•ÂÖ∑.Âú®yarn‰∏≠,‰ΩøÁî®ResourceManagerËøõË°å ËµÑÊ∫êÁÆ°ÁêÜ, ÂçïÁã¨ÂºÄÂêØ‰∏Ä‰∏™Container‰Ωú‰∏∫ApplicationMasterÊù•ËøõË°å‰ªªÂä°ÁÆ°ÁêÜ.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>2. HAÊ®°ÂºèÂú®1.x‰∏≠Ê≤°ÊúâHAÊ®°Âºè,ÈõÜÁæ§‰∏≠Âè™Êúâ‰∏Ä‰∏™NameNode,ËÄåÂú®2.x‰∏≠ÂèØ‰ª•ÂêØÁî®HAÊ®°Âºè,Â≠òÂú®‰∏Ä‰∏™Active NameNode ÂíåStandby NameNode.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>3. HDFS FederationHadoop 2.0‰∏≠ÂØπHDFSËøõË°å‰∫ÜÊîπËøõÔºå‰ΩøNameNodeÂèØ‰ª•Ê®™ÂêëÊâ©Â±ïÊàêÂ§ö‰∏™ÔºåÊØè‰∏™NameNodeÂàÜÁÆ°‰∏ÄÈÉ®ÂàÜÁõÆÂΩïÔºåËøõËÄå‰∫ßÁîü‰∫ÜHDFS FederationÔºåËØ•Êú∫Âà∂ÁöÑÂºïÂÖ•‰∏ç‰ªÖÂ¢ûÂº∫‰∫ÜHDFSÁöÑÊâ©Â±ïÊÄßÔºå‰πü‰ΩøHDFSÂÖ∑Â§á‰∫ÜÈöîÁ¶ªÊÄß</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hadoopÁöÑÂ∏∏Áî®ÈÖçÁΩÆÊñá‰ª∂ÊúâÂì™‰∫õÔºö</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>* hadoop-env.sh: Áî®‰∫éÂÆö‰πâhadoopËøêË°åÁéØÂ¢ÉÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÊØîÂ¶ÇÈÖçÁΩÆJAVA_HOMEÁéØÂ¢ÉÂèòÈáè„ÄÅ‰∏∫hadoopÁöÑJVMÊåáÂÆöÁâπÂÆöÁöÑÈÄâÈ°π„ÄÅÊåáÂÆöÊó•ÂøóÊñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩïË∑ØÂæÑ‰ª•ÂèämasterÂíåslaveÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÁ≠âÔºõ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>* core-site.xml: Áî®‰∫éÂÆö‰πâÁ≥ªÁªüÁ∫ßÂà´ÁöÑÂèÇÊï∞ÔºåÂ¶ÇHDFS URL„ÄÅHadoopÁöÑ‰∏¥Êó∂ÁõÆÂΩï‰ª•ÂèäÁî®‰∫érack-awareÈõÜÁæ§‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÁöÑÈÖçÁΩÆÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñcore-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>* hdfs-site.xml: HDFSÁöÑÁõ∏ÂÖ≥ËÆæÂÆöÔºåÂ¶ÇÊñá‰ª∂ÂâØÊú¨ÁöÑ‰∏™Êï∞„ÄÅÂùóÂ§ßÂ∞èÂèäÊòØÂê¶‰ΩøÁî®Âº∫Âà∂ÊùÉÈôêÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñhdfs-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>* mapred-site.xmlÔºöHDFSÁöÑÁõ∏ÂÖ≥ËÆæÂÆöÔºåÂ¶Çreduce‰ªªÂä°ÁöÑÈªòËÆ§‰∏™Êï∞„ÄÅ‰ªªÂä°ÊâÄËÉΩÂ§ü‰ΩøÁî®ÂÜÖÂ≠òÁöÑÈªòËÆ§‰∏ä‰∏ãÈôêÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñmapred-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hadoopÁöÑ‰ºòÂåñÔºö     1)HDFSÂ∞èÊñá‰ª∂ÂΩ±Âìç          a.ÂΩ±ÂìçNameNodeÁöÑÂØøÂëΩÔºåÂõ†‰∏∫Êñá‰ª∂ÂÖÉÊï∞ÊçÆÂ≠òÂÇ®Âú®NameNodeÁöÑÂÜÖÂ≠ò‰∏≠          b.ÂΩ±ÂìçËÆ°ÁÆóÂºïÊìéÁöÑ‰ªªÂä°Êï∞ÈáèÔºåÊØîÂ¶ÇÊØè‰∏™Â∞èÁöÑÊñá‰ª∂ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™Map‰ªªÂä°     2)Êï∞ÊçÆËæìÂÖ•Â∞èÊñá‰ª∂Â§ÑÁêÜÔºö          a.ÂêàÂπ∂Â∞èÊñá‰ª∂ÔºöÂØπÂ∞èÊñá‰ª∂ËøõË°åÂΩíÊ°£ÔºàHarÔºâ„ÄÅËá™ÂÆö‰πâInputformatÂ∞ÜÂ∞èÊñá‰ª∂Â≠òÂÇ®ÊàêSequenceFileÊñá‰ª∂„ÄÇ          b.ÈááÁî®ConbinFileInputFormatÊù•‰Ωú‰∏∫ËæìÂÖ•ÔºåËß£ÂÜ≥ËæìÂÖ•Á´ØÂ§ßÈáèÂ∞èÊñá‰ª∂Âú∫ÊôØ„ÄÇ          c.ÂØπ‰∫éÂ§ßÈáèÂ∞èÊñá‰ª∂JobÔºåÂèØ‰ª•ÂºÄÂêØJVMÈáçÁî®„ÄÇ     3)MapÈò∂ÊÆµ          a.Â¢ûÂ§ßÁéØÂΩ¢ÁºìÂÜ≤Âå∫Â§ßÂ∞è„ÄÇÁî±100mÊâ©Â§ßÂà∞200m          b.Â¢ûÂ§ßÁéØÂΩ¢ÁºìÂÜ≤Âå∫Ê∫¢ÂÜôÁöÑÊØî‰æã„ÄÇÁî±80%Êâ©Â§ßÂà∞90%          c.ÂáèÂ∞ëÂØπÊ∫¢ÂÜôÊñá‰ª∂ÁöÑmergeÊ¨°Êï∞„ÄÇ          d.‰∏çÂΩ±ÂìçÂÆûÈôÖ‰∏öÂä°ÁöÑÂâçÊèê‰∏ãÔºåÈááÁî®CombinerÊèêÂâçÂêàÂπ∂ÔºåÂáèÂ∞ë I/O„ÄÇ     4)ReduceÈò∂ÊÆµ          a.ÂêàÁêÜËÆæÁΩÆMapÂíåReduceÊï∞Ôºö‰∏§‰∏™ÈÉΩ‰∏çËÉΩËÆæÁΩÆÂ§™Â∞ëÔºå‰πü‰∏çËÉΩËÆæÁΩÆÂ§™Â§ö„ÄÇÂ§™Â∞ëÔºå‰ºöÂØºËá¥TaskÁ≠âÂæÖÔºåÂª∂ÈïøÂ§ÑÁêÜÊó∂Èó¥ÔºõÂ§™Â§öÔºå‰ºöÂØºËá¥ Map„ÄÅReduce‰ªªÂä°Èó¥Á´û‰∫âËµÑÊ∫êÔºåÈÄ†ÊàêÂ§ÑÁêÜË∂ÖÊó∂Á≠âÈîôËØØ„ÄÇ          b.ËÆæÁΩÆMap„ÄÅReduceÂÖ±Â≠òÔºöË∞ÉÊï¥slowstart.completedmapsÂèÇÊï∞Ôºå‰ΩøMapËøêË°åÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÂêéÔºåReduce‰πüÂºÄÂßãËøêË°åÔºåÂáèÂ∞ëReduceÁöÑÁ≠âÂæÖÊó∂Èó¥„ÄÇ          c.ËßÑÈÅø‰ΩøÁî®ReduceÔºåÂõ†‰∏∫ReduceÂú®Áî®‰∫éËøûÊé•Êï∞ÊçÆÈõÜÁöÑÊó∂ÂÄôÂ∞Ü‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÁΩëÁªúÊ∂àËÄó„ÄÇ          d.Â¢ûÂä†ÊØè‰∏™ReduceÂéªMap‰∏≠ÊãøÊï∞ÊçÆÁöÑÂπ∂Ë°åÊï∞          e.ÈõÜÁæ§ÊÄßËÉΩÂèØ‰ª•ÁöÑÂâçÊèê‰∏ãÔºåÂ¢ûÂ§ßReduceÁ´ØÂ≠òÂÇ®Êï∞ÊçÆÂÜÖÂ≠òÁöÑÂ§ßÂ∞è„ÄÇ     5)IO‰º†Ëæì          a.ÈááÁî®Êï∞ÊçÆÂéãÁº©ÁöÑÊñπÂºèÔºåÂáèÂ∞ëÁΩëÁªúIOÁöÑÁöÑÊó∂Èó¥„ÄÇÂÆâË£ÖSnappyÂíåLZOPÂéãÁº©ÁºñÁ†ÅÂô®„ÄÇ          b.‰ΩøÁî®SequenceFile‰∫åËøõÂà∂Êñá‰ª∂     6)Êï¥‰Ωì          a.MapTaskÈªòËÆ§ÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫1GÔºåÂèØ‰ª•Â¢ûÂä†MapTaskÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫4-5g          b.ReduceTaskÈªòËÆ§ÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫1GÔºåÂèØ‰ª•Â¢ûÂä†ReduceTaskÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫4-5g          c.ÂèØ‰ª•Â¢ûÂä†MapTaskÁöÑcpuÊ†∏Êï∞ÔºåÂ¢ûÂä†ReduceTaskÁöÑCPUÊ†∏Êï∞          d.Â¢ûÂä†ÊØè‰∏™ContainerÁöÑCPUÊ†∏Êï∞ÂíåÂÜÖÂ≠òÂ§ßÂ∞è          e.Ë∞ÉÊï¥ÊØè‰∏™Map TaskÂíåReduce TaskÊúÄÂ§ßÈáçËØïÊ¨°Êï∞ÁÆÄÁ≠îËØ¥‰∏Ä‰∏ãhadoopÁöÑmap-reduceÁºñÁ®ãÊ®°Âûã:È¶ñÂÖàmap task‰ºö‰ªéÊú¨Âú∞Êñá‰ª∂Á≥ªÁªüËØªÂèñÊï∞ÊçÆÔºåËΩ¨Êç¢Êàêkey-valueÂΩ¢ÂºèÁöÑÈîÆÂÄºÂØπÈõÜÂêà‰ΩøÁî®ÁöÑÊòØhadoopÂÜÖÁΩÆÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊØîÂ¶Çlongwritable„ÄÅtextÁ≠âÂ∞ÜÈîÆÂÄºÂØπÈõÜÂêàËæìÂÖ•mapperËøõË°å‰∏öÂä°Â§ÑÁêÜËøáÁ®ãÔºåÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêÈúÄË¶ÅÁöÑkey-valueÂú®ËæìÂá∫‰πãÂêé‰ºöËøõË°å‰∏Ä‰∏™partitionÂàÜÂå∫Êìç‰ΩúÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØhashpartitionerÔºåÂèØ‰ª•ÈÄöËøáÈáçÂÜôhashpartitionerÁöÑgetpartitionÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÂàÜÂå∫ËßÑÂàô‰πãÂêé‰ºöÂØπkeyËøõË°åËøõË°åsortÊéíÂ∫èÔºågroupingÂàÜÁªÑÊìç‰ΩúÂ∞ÜÁõ∏ÂêåkeyÁöÑvalueÂêàÂπ∂ÂàÜÁªÑËæìÂá∫ÔºåÂú®ËøôÈáåÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÈáçÂÜôWritableComparatorÁöÑComparatorÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÊéíÂ∫èËßÑÂàôÔºåÈáçÂÜôRawComparatorÁöÑcomparaÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÂàÜÁªÑËßÑÂàô‰πãÂêéËøõË°å‰∏Ä‰∏™combinerÂΩíÁ∫¶Êìç‰ΩúÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™Êú¨Âú∞ÊÆµÁöÑreduceÈ¢ÑÂ§ÑÁêÜÔºå‰ª•ÂáèÂ∞èÂêéÈù¢shufleÂíåreducerÁöÑÂ∑•‰ΩúÈáèreduce task‰ºöÈÄöËøáÁΩëÁªúÂ∞ÜÂêÑ‰∏™Êï∞ÊçÆÊî∂ÈõÜËøõË°åreduceÂ§ÑÁêÜÔºåÊúÄÂêéÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÊàñËÄÖÊòæÁ§∫ÔºåÁªìÊùüÊï¥‰∏™jobhadoopÁöÑTextInputFormat‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºåÂ¶Ç‰ΩïËá™ÂÆö‰πâÂÆûÁé∞:InputFormat‰ºöÂú®mapÊìç‰Ωú‰πãÂâçÂØπÊï∞ÊçÆËøõË°å‰∏§ÊñπÈù¢ÁöÑÈ¢ÑÂ§ÑÁêÜ 1ÊòØgetSplitsÔºåËøîÂõûÁöÑÊòØInputSplitÊï∞ÁªÑÔºåÂØπÊï∞ÊçÆËøõË°åsplitÂàÜÁâáÔºåÊØèÁâá‰∫§ÁªômapÊìç‰Ωú‰∏ÄÊ¨° 2ÊòØgetRecordReaderÔºåËøîÂõûÁöÑÊòØRecordReaderÂØπË±°ÔºåÂØπÊØè‰∏™splitÂàÜÁâáËøõË°åËΩ¨Êç¢‰∏∫key-valueÈîÆÂÄºÂØπÊ†ºÂºè‰º†ÈÄíÁªômapÂ∏∏Áî®ÁöÑInputFormatÊòØTextInputFormatÔºå‰ΩøÁî®ÁöÑÊòØLineRecordReaderÂØπÊØè‰∏™ÂàÜÁâáËøõË°åÈîÆÂÄºÂØπÁöÑËΩ¨Êç¢Ôºå‰ª•Ë°åÂÅèÁßªÈáè‰Ωú‰∏∫ÈîÆÔºåË°åÂÜÖÂÆπ‰Ωú‰∏∫ÂÄºËá™ÂÆö‰πâÁ±ªÁªßÊâøInputFormatÊé•Âè£ÔºåÈáçÂÜôcreateRecordReaderÂíåisSplitableÊñπÊ≥ï Âú®createRecordReader‰∏≠ÂèØ‰ª•Ëá™ÂÆö‰πâÂàÜÈöîÁ¨¶hadoopÂÆûÁé∞joinÁöÑÂá†ÁßçÊñπÂºèÔºö1„ÄÅÂú®reducerÁ´ØËøõË°åjoinÔºömapÁ´ØÂêåÊó∂ËØªÂèñ‰∏§‰∏™Êñá‰ª∂ËøõË°åÊâìÊ†áÁ≠æÔºåÂú® reducerÁ´ØÊää‰∏§‰∏™‰∏çÂêåÊñá‰ª∂ÁöÑkeyÁõ∏ÂêåÁöÑvalueËøõË°åjoinÔºàÁ¨õÂç°Â∞îÁßØÔºâÔºåÂç≥reducerÁ´Ø ËøõË°åÂÆûÈôÖÁöÑjoinÔºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑshuffleÔºå‰ΩéÊïàÁöÑ „ÄÇ2„ÄÅÂú®mapÁ´ØËøõË°åjoinÔºöÊòØÈíàÂØπ‰∏§‰∏™ÂæÖËøûÊé•Ë°®Ôºå‰∏Ä‰∏™Â§ßË°®Âíå‰∏Ä‰∏™Â∞èË°®ÔºåÂ∞èË°®ÈùûÂ∏∏Â∞èÔºåË∂≥Â§üÁõ¥Êé•Â≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠„ÄÇËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Â§çÂà∂Â§ö‰ªΩÔºåËÆ©ÊØè‰∏™mapÁöÑtaskÂÜÖÂ≠ò‰∏≠Â≠òÂú®‰∏Ä‰ªΩÔºàÊØîÂ¶ÇÂ≠òÊîæÂà∞hash table‰∏≠ÔºâÔºåÁÑ∂ÂêéÂè™Êâ´ÊèèÂ§ßË°®ÔºåÂØπ‰∫éÂ§ßË°® ‰∏≠ÊØè‰∏ÄÊù°ËÆ∞ÂΩïkey/valueÔºåÂú®hashtable‰∏≠Êü•ÊâæÊòØÂê¶ÊúâÁõ∏ÂêåÁöÑkeyÁöÑËÆ∞ÂΩïÔºåÂ¶ÇÊûúÊúâÔºåÂàôËøûÊé•ÂêéËæìÂá∫„ÄÇ3„ÄÅSemiJoinÔºàÂçäËøûÊé•ÔºâÔºöreducerÁ´ØÁöÑjoinÔºåË∑®Êú∫Âô®‰º†ËæìÊï∞ÊçÆÔºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÁ£ÅÁõòioÔºåÊàê‰∏∫ÈôêÂà∂joinÁöÑÁì∂È¢àÔºåÂú®mapÈò∂ÊÆµËøáÊª§„ÄÇÂÆûÁé∞ÊñπÊ≥ïÊòØÔºöÈÄâÂèñ‰∏Ä‰∏™Â∞èË°®f1ÔºåÂ∞ÜÂÖ∂ÂèÇ‰∫éjoinÁöÑkeyÂèñÂá∫Êù•Ôºå‰øùÂ≠òÂà∞f3‰∏≠Ôºåf3Êñá‰ª∂‰∏ÄËà¨ÂæàÂ∞èÔºåÂèØ‰ª•Â≠òÊîæÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇÂú® mapÈò∂ÊÆµÔºå‰ΩøÁî®DistributedCache(ÂàÜÂ∏ÉÂºèÁºìÂ≠ò)Â∞Üf3ÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞ÂêÑ‰∏™taskTracker‰∏äÔºåÁÑ∂ÂêéÂ∞Üf2‰∏≠‰∏éf3Êï∞ÊçÆ‰∏çÂåπÈÖçÁöÑkeyÊâÄÂØπÂ∫îÁöÑÁöÑËÆ∞ÂΩïËøáÊª§ÊéâÔºåÂâ©‰∏ãÁöÑreduceÈò∂ÊÆµÂ∑•‰Ωú‰∏éreducerÁ´ØjoinÁõ∏Âêå„ÄÇhadoopÁöÑDistributedCacheÔºàÂàÜÂ∏ÉÂºèÁºìÂ≠òÔºâÔºöÔºàmapÁ´ØËøõË°åjoinÔºâ    DistributedCacheÊòØhadoopÊ°ÜÊû∂Êèê‰æõÁöÑ‰∏ÄÁßçÊú∫Âà∂,ÂèØ‰ª•Â∞ÜjobÊåáÂÆöÁöÑÊñá‰ª∂,Âú®jobÊâßË°åÂâç,ÂÖàË°åÂàÜÂèëÂà∞taskÊâßË°åÁöÑÊú∫Âô®‰∏ä,Âπ∂ÊúâÁõ∏ÂÖ≥Êú∫Âà∂ÂØπcacheÊñá‰ª∂ËøõË°åÁÆ°ÁêÜ.       DistributedCache ÂèØÂ∞ÜÂÖ∑‰ΩìÂ∫îÁî®Áõ∏ÂÖ≥ÁöÑ„ÄÅÂ§ßÂ∞∫ÂØ∏ÁöÑ„ÄÅÂè™ËØªÁöÑÊñá‰ª∂ÊúâÊïàÂú∞ÂàÜÂ∏ÉÊîæÁΩÆ„ÄÇDistributedCache ÊòØMap/ReduceÊ°ÜÊû∂Êèê‰æõÁöÑÂäüËÉΩÔºåËÉΩÂ§üÁºìÂ≠òÂ∫îÁî®Á®ãÂ∫èÊâÄÈúÄÁöÑÊñá‰ª∂ ÔºàÂåÖÊã¨ÊñáÊú¨ÔºåÊ°£Ê°àÊñá‰ª∂ÔºåjarÊñá‰ª∂Á≠âÔºâ„ÄÇ       ÂèØ‰ª•Â∞ÜÂ∞èË°®ÂàÜÂèëÂà∞ÊâÄÊúâÁöÑmapËäÇÁÇπÔºåËøôÊ†∑ÔºåmapËäÇÁÇπÂ∞±ÂèØ‰ª•Âú®Êú¨Âú∞„ÄÇÂØπËá™Â∑±ÊâÄËØªÂà∞ÁöÑÂ§ßË°®Êï∞ÊçÆËøõË°åjoinÂπ∂ËæìÂá∫ÊúÄÁªàÁªìÊûúÔºåÂèØ‰ª•Â§ßÂ§ßÊèêÈ´òjoinÊìç‰ΩúÁöÑÂπ∂ÂèëÂ∫¶ÔºåÂä†Âø´Â§ÑÁêÜÈÄüÂ∫¶Ôºõ HadoopÊèê‰æõ‰∫Ü‰∏Ä‰∏™Distributed CacheÊú∫Âà∂ÔºåËÉΩÊääÊñá‰ª∂Âú®ÂêàÈÄÇÁöÑÊó∂ÂÄôÂèëÁªôMapTaskÔºåMapTaskÂ∞±ÂèØ‰ª•‰ªéÊú¨Âú∞ËøõË°åÂä†ËΩΩÂ∞èË°®Êï∞ÊçÆÔºõCombineTextInputFormat(ÂàáÁâáÊú∫Âà∂‰ºòÂåñÂ§ßÈáèÂ∞èÊñá‰ª∂)Ôºö Â∞Ühdfs‰∏äÂ§ö‰∏™Â∞èÊñá‰ª∂ÂêàÂπ∂Âà∞‰∏Ä‰∏™InputSplit‰∏≠ÔºåÁÑ∂Âêé‰ºöÂêØÁî®‰∏Ä‰∏™mapÊù•Â§ÑÁêÜËøôÈáåÈù¢ÁöÑÊñá‰ª∂Ôºå‰ª•Ê≠§ÂáèÂ∞ëmrÊï¥‰Ωì‰Ωú‰∏ö‰∫∫ÁöÑËøêË°åÊó∂Èó¥„ÄÇ  CombineTextInputFormat.setMaxInputSplitSize(job, 4194304)  CombineTextInputFormatÁî®‰∫éÂ∞èÊñá‰ª∂ËøáÂ§öÁöÑÂú∫ÊôØÔºåÂÆÉÂèØ‰ª•Â∞ÜÂ§ö‰∏™Â∞èÊñá‰ª∂‰ªéÈÄªËæë‰∏äËßÑÂàíÂà∞‰∏Ä‰∏™ÂàáÁâá‰∏≠ÔºåËøôÊ†∑ÔºåÂ§ö‰∏™Â∞èÊñá‰ª∂Â∞±ÂèØ‰ª•‰∫§Áªô‰∏Ä‰∏™MapTaskÂ§ÑÁêÜ        combineTextInputFormatÂàÜ‰∏∫ËôöÊãüÂÇ®Â≠òËøáÁ®ãÂíåÂàáÁâáËøáÁ®ãÔºö        ËôöÊãüÂÇ®Â≠òËøáÁ®ãÔºö Ê†πÊçÆÊòØÂê¶ËÆæÁΩÆsetMaxInputSplitSizeÂÄºÔºåÂ∞ÜÊØè‰∏™Êñá‰ª∂ÂàíÂàÜÊàê‰∏Ä‰∏™‰∏Ä‰∏™setMaxInputSplitSizeÂÄºÂ§ßÂ∞èÁöÑÊñá‰ª∂      ÂΩìÂâ©‰ΩôÊï∞ÊçÆÂ§ßÂ∞èË∂ÖËøásetMaxInputSplitSizeÂÄº‰∏î‰∏çÂ§ß‰∫é2ÂÄçsetMaxInputSplitSizeÂÄºÔºåÊ≠§Êó∂Â∞ÜÊñá‰ª∂ÂùáÂàÜÊàê2‰∏™ËôöÊãüÂ≠òÂÇ®ÂùóÔºàÈò≤Ê≠¢Âá∫Áé∞Â§™Â∞èÂàáÁâá)        ÂàáÁâáËøáÁ®ãÔºöÊñ≠ËôöÊãüÂ≠òÂÇ®ÁöÑÊñá‰ª∂Â§ßÂ∞èÊòØÂê¶Â§ß‰∫ésetMaxInputSplitSizeÂÄºÔºåÂ§ß‰∫éÁ≠â‰∫éÂàôÂçïÁã¨ÂΩ¢Êàê‰∏Ä‰∏™ÂàáÁâáÂ¶ÇÊûú‰∏çÂ§ß‰∫éÂàôË∑ü‰∏ã‰∏Ä‰∏™ËôöÊãüÂ≠òÂÇ®Êñá             ‰ª∂ËøõË°åÂêàÂπ∂ÔºåÂÖ±ÂêåÂΩ¢Êàê‰∏Ä‰∏™ÂàáÁâáhadoopÁöÑÂàáÁâáÊú∫Âà∂Ôºö    ÁÆÄÂçïÁöÑÊåâÁÖßÊñá‰ª∂ÁöÑÂÜÖÂÆπÈïøÂ∫¶ËøõË°åÂàáÁâá      ÂàáÁâáÂ§ßÂ∞èÔºåÈªòËÆ§Á≠â‰∫éBlockÂ§ßÂ∞è      ÂàáÁâáÊó∂‰∏çËÄÉËôëÊï∞ÊçÆÈõÜÁöÑÊï¥‰ΩìÔºåËÄåÊòØÈÄê‰∏™ÈíàÂØπÊØè‰∏Ä‰∏™Êñá‰ª∂ÂçïÁã¨ÂàáÁâá    Ê∫êÁ†Å‰∏≠ÁöÑÂàáÁâáËÆ°ÁÆóÂÖ¨ÂºèÔºö Math.max(minSize, Math.min(maxSize,blockSize))yarnÁöÑÂ∑•‰ΩúÊú∫Âà∂ÔºöÔºà0ÔºâMr Á®ãÂ∫èÊèê‰∫§Âà∞ÂÆ¢Êà∑Á´ØÊâÄÂú®ÁöÑËäÇÁÇπ„ÄÇÔºà1ÔºâYarnrunner Âêë Resourcemanager Áî≥ËØ∑‰∏Ä‰∏™ Application„ÄÇÔºà2Ôºârm Â∞ÜËØ•Â∫îÁî®Á®ãÂ∫èÁöÑËµÑÊ∫êË∑ØÂæÑËøîÂõûÁªô yarnrunner„ÄÇÔºà3ÔºâËØ•Á®ãÂ∫èÂ∞ÜËøêË°åÊâÄÈúÄËµÑÊ∫êÊèê‰∫§Âà∞ HDFS ‰∏ä„ÄÇÔºà4ÔºâÁ®ãÂ∫èËµÑÊ∫êÊèê‰∫§ÂÆåÊØïÂêéÔºåÁî≥ËØ∑ËøêË°å mrAppMaster„ÄÇÔºà5ÔºâRM Â∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÂàùÂßãÂåñÊàê‰∏Ä‰∏™ task„ÄÇÔºà6ÔºâÂÖ∂‰∏≠‰∏Ä‰∏™ NodeManager È¢ÜÂèñÂà∞ task ‰ªªÂä°„ÄÇÔºà7ÔºâËØ• NodeManager ÂàõÂª∫ÂÆπÂô® ContainerÔºåÂπ∂‰∫ßÁîü MRAppmaster„ÄÇÔºà8ÔºâContainer ‰ªé HDFS ‰∏äÊã∑Ë¥ùËµÑÊ∫êÂà∞Êú¨Âú∞„ÄÇÔºà9ÔºâMRAppmaster Âêë RM Áî≥ËØ∑ËøêË°å maptask ËµÑÊ∫ê„ÄÇÔºà10ÔºâRM Â∞ÜËøêË°å maptask ‰ªªÂä°ÂàÜÈÖçÁªôÂè¶Â§ñ‰∏§‰∏™ NodeManagerÔºåÂè¶‰∏§‰∏™ NodeManager ÂàÜÂà´È¢ÜÂèñ‰ªªÂä°Âπ∂ÂàõÂª∫ÂÆπÂô®„ÄÇÔºà11ÔºâMR Âêë‰∏§‰∏™Êé•Êî∂Âà∞‰ªªÂä°ÁöÑ NodeManager ÂèëÈÄÅÁ®ãÂ∫èÂêØÂä®ËÑöÊú¨ÔºåËøô‰∏§‰∏™ NodeManagerÂàÜÂà´ÂêØÂä® maptaskÔºåmaptask ÂØπÊï∞ÊçÆÂàÜÂå∫ÊéíÂ∫è„ÄÇÔºà12ÔºâMrAppMaster Á≠âÂæÖÊâÄÊúâ maptask ËøêË°åÂÆåÊØïÂêéÔºåÂêë RM Áî≥ËØ∑ÂÆπÂô®ÔºåËøêË°å reduce task„ÄÇÔºà13Ôºâreduce task Âêë maptask Ëé∑ÂèñÁõ∏Â∫îÂàÜÂå∫ÁöÑÊï∞ÊçÆ„ÄÇÔºà14ÔºâÁ®ãÂ∫èËøêË°åÂÆåÊØïÂêéÔºåMR ‰ºöÂêë RM Áî≥ËØ∑Ê≥®ÈîÄËá™Â∑±„ÄÇhadoopÂèÇÊï∞Ë∞É‰ºòÔºö</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>1. Âú®hdfs-site.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÂ§öÁõÆÂΩïÔºåÊúÄÂ•ΩÊèêÂâçÈÖçÁΩÆÂ•ΩÔºåÂê¶ÂàôÊõ¥ÊîπÁõÆÂΩïÈúÄË¶ÅÈáçÊñ∞ÂêØÂä®ÈõÜÁæ§</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>2. NameNodeÊúâ‰∏Ä‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊ±†ÔºåÁî®Êù•Â§ÑÁêÜ‰∏çÂêåDataNodeÁöÑÂπ∂ÂèëÂøÉË∑≥‰ª•ÂèäÂÆ¢Êà∑Á´ØÂπ∂ÂèëÁöÑÂÖÉÊï∞ÊçÆÊìç‰Ωú„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">dfs.namenode.handler.count=20 * log2(Cluster Size)ÔºåÊØîÂ¶ÇÈõÜÁæ§ËßÑÊ®°‰∏∫10Âè∞Êó∂ÔºåÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫60</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>1. ÁºñËæëÊó•ÂøóÂ≠òÂÇ®Ë∑ØÂæÑdfs.namenode.edits.dirËÆæÁΩÆ‰∏éÈïúÂÉèÊñá‰ª∂Â≠òÂÇ®Ë∑ØÂæÑdfs.namenode.name.dirÂ∞ΩÈáèÂàÜÂºÄÔºåËææÂà∞ÊúÄ‰ΩéÂÜôÂÖ•Âª∂Ëøü</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>2. ÊúçÂä°Âô®ËäÇÁÇπ‰∏äYARNÂèØ‰ΩøÁî®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òÊÄªÈáèÔºåÈªòËÆ§ÊòØ8192ÔºàMBÔºâÔºåÊ≥®ÊÑèÔºåÂ¶ÇÊûú‰Ω†ÁöÑËäÇÁÇπÂÜÖÂ≠òËµÑÊ∫ê‰∏çÂ§ü8GBÔºåÂàôÈúÄË¶ÅË∞ÉÂáèÂ∞èËøô‰∏™ÂÄºÔºåËÄåYARN‰∏ç‰ºöÊô∫ËÉΩÁöÑÊé¢ÊµãËäÇÁÇπÁöÑÁâ©ÁêÜÂÜÖÂ≠òÊÄªÈáè„ÄÇyarn.nodemanager.resource.memory-mb</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>3. Âçï‰∏™‰ªªÂä°ÂèØÁî≥ËØ∑ÁöÑÊúÄÂ§öÁâ©ÁêÜÂÜÖÂ≠òÈáèÔºåÈªòËÆ§ÊòØ8192ÔºàMBÔºâ„ÄÇyarn.scheduler.maximum-allocation-mb</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hadoopÂÆïÊú∫Ôºö</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>1. Â¶ÇÊûúMRÈÄ†ÊàêÁ≥ªÁªüÂÆïÊú∫„ÄÇÊ≠§Êó∂Ë¶ÅÊéßÂà∂YarnÂêåÊó∂ËøêË°åÁöÑ‰ªªÂä°Êï∞ÔºåÂíåÊØè‰∏™‰ªªÂä°Áî≥ËØ∑ÁöÑÊúÄÂ§ßÂÜÖÂ≠ò„ÄÇË∞ÉÊï¥ÂèÇÊï∞Ôºöyarn.scheduler.maximum-allocation-mbÔºàÂçï‰∏™‰ªªÂä°ÂèØÁî≥ËØ∑ÁöÑÊúÄÂ§öÁâ©ÁêÜÂÜÖÂ≠òÈáèÔºåÈªòËÆ§ÊòØ8192MBÔºâ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>2. Â¶ÇÊûúÂÜôÂÖ•Êñá‰ª∂ËøáÈáèÈÄ†ÊàêNameNodeÂÆïÊú∫„ÄÇÈÇ£‰πàË∞ÉÈ´òKafkaÁöÑÂ≠òÂÇ®Â§ßÂ∞èÔºåÊéßÂà∂‰ªéKafkaÂà∞HDFSÁöÑÂÜôÂÖ•ÈÄüÂ∫¶„ÄÇÈ´òÂ≥∞ÊúüÁöÑÊó∂ÂÄôÁî®KafkaËøõË°åÁºìÂ≠òÔºåÈ´òÂ≥∞ÊúüËøáÂéªÊï∞ÊçÆÂêåÊ≠•‰ºöËá™Âä®Ë∑ü‰∏ä„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hadoopÂíåsparkÁöÑÈÉΩÊòØÂπ∂Ë°åËÆ°ÁÆóÔºåÈÇ£‰πà‰ªñ‰ª¨Êúâ‰ªÄ‰πàÁõ∏ÂêåÂíåÂå∫Âà´:‰∏§ËÄÖÈÉΩÊòØÁî®mrÊ®°ÂûãÊù•ËøõË°åÂπ∂Ë°åËÆ°ÁÆóÔºåhadoopÁöÑ‰∏Ä‰∏™‰Ωú‰∏öÁß∞‰∏∫jobÔºåjobÈáåÈù¢ÂàÜ‰∏∫map taskÂíåreduce taskÔºåÊØè‰∏™taskÈÉΩÊòØÂú®Ëá™Â∑±ÁöÑËøõÁ®ã‰∏≠ËøêË°åÁöÑÔºåÂΩìtaskÁªìÊùüÊó∂ÔºåËøõÁ®ã‰πü‰ºöÁªìÊùüsparkÁî®Êà∑Êèê‰∫§ÁöÑ‰ªªÂä°Êàê‰∏∫applicationÔºå‰∏Ä‰∏™applicationÂØπÂ∫î‰∏Ä‰∏™sparkcontextÔºåapp‰∏≠Â≠òÂú®Â§ö‰∏™jobÔºåÊØèËß¶Âèë‰∏ÄÊ¨°actionÊìç‰ΩúÂ∞±‰ºö‰∫ßÁîü‰∏Ä‰∏™jobËøô‰∫õjobÂèØ‰ª•Âπ∂Ë°åÊàñ‰∏≤Ë°åÊâßË°åÔºåÊØè‰∏™job‰∏≠ÊúâÂ§ö‰∏™stageÔºåstageÊòØshuffleËøáÁ®ã‰∏≠DAGSchadulerÈÄöËøáRDD‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂàíÂàÜjobËÄåÊù•ÁöÑÔºåÊØè‰∏™stageÈáåÈù¢ÊúâÂ§ö‰∏™taskÔºåÁªÑÊàêtasksetÊúâTaskSchadulerÂàÜÂèëÂà∞ÂêÑ‰∏™executor‰∏≠ÊâßË°åÔºåexecutorÁöÑÁîüÂëΩÂë®ÊúüÊòØÂíåapp‰∏ÄÊ†∑ÁöÑÔºåÂç≥‰ΩøÊ≤°ÊúâjobËøêË°å‰πüÊòØÂ≠òÂú®ÁöÑÔºåÊâÄ‰ª•taskÂèØ‰ª•Âø´ÈÄüÂêØÂä®ËØªÂèñÂÜÖÂ≠òËøõË°åËÆ°ÁÆóhadoopÁöÑjobÂè™ÊúâmapÂíåreduceÊìç‰ΩúÔºåË°®ËææËÉΩÂäõÊØîËæÉÊ¨†Áº∫ËÄå‰∏îÂú®mrËøáÁ®ã‰∏≠‰ºöÈáçÂ§çÁöÑËØªÂÜôhdfsÔºåÈÄ†ÊàêÂ§ßÈáèÁöÑioÊìç‰ΩúÔºåÂ§ö‰∏™jobÈúÄË¶ÅËá™Â∑±ÁÆ°ÁêÜÂÖ≥Á≥ªsparkÁöÑËø≠‰ª£ËÆ°ÁÆóÈÉΩÊòØÂú®ÂÜÖÂ≠ò‰∏≠ËøõË°åÁöÑÔºåAPI‰∏≠Êèê‰æõ‰∫ÜÂ§ßÈáèÁöÑRDDÊìç‰ΩúÂ¶ÇjoinÔºågroupbyÁ≠âÔºåËÄå‰∏îÈÄöËøáDAGÂõæÂèØ‰ª•ÂÆûÁé∞ËâØÂ•ΩÁöÑÂÆπÈîô‰∏∫‰ªÄ‰πàË¶ÅÁî®flumeÂØºÂÖ•hdfsÔºåhdfsÁöÑÊûÑÊû∂ÊòØÊÄéÊ†∑ÁöÑ:flumeÂèØ‰ª•ÂÆûÊó∂ÁöÑÂØºÂÖ•Êï∞ÊçÆÂà∞hdfs‰∏≠ÔºåÂΩìhdfs‰∏äÁöÑÊñá‰ª∂ËææÂà∞‰∏Ä‰∏™ÊåáÂÆöÂ§ßÂ∞èÁöÑÊó∂ÂÄô‰ºöÂΩ¢Êàê‰∏Ä‰∏™Êñá‰ª∂ÔºåÊàñËÄÖË∂ÖËøáÊåáÂÆöÊó∂Èó¥ÁöÑËØù‰πüÂΩ¢Êàê‰∏Ä‰∏™Êñá‰ª∂Êñá‰ª∂ÈÉΩÊòØÂ≠òÂÇ®Âú®datanode‰∏äÈù¢ÁöÑÔºånamenodeËÆ∞ÂΩïÁùÄdatanodeÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåËÄånamenodeÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÊòØÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊâÄ‰ª•ÂΩìÊñá‰ª∂ÂàáÁâáÂæàÂ∞èÊàñËÄÖÂæàÂ§öÁöÑÊó∂ÂÄô‰ºöÂç°Ê≠ªÁÆÄÂçïËØ¥‰∏Ä‰∏ãhadoopÂíåsparkÁöÑshuffleËøáÁ®ã:hadoopÔºömapÁ´Ø‰øùÂ≠òÂàÜÁâáÊï∞ÊçÆÔºåÈÄöËøáÁΩëÁªúÊî∂ÈõÜÂà∞reduceÁ´Ø sparkÔºösparkÁöÑshuffleÊòØÂú®DAGSchedularÂàíÂàÜStageÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑÔºåTaskScheduleË¶ÅÂàÜÂèëStageÂà∞ÂêÑ‰∏™workerÁöÑexecutorÂáèÂ∞ëshuffleÂèØ‰ª•ÊèêÈ´òÊÄßËÉΩflumÁöÑË¥üËΩΩÂùáË°°ÂíåÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂Ôºö    Ë¥üËΩΩÂùáË°°(load-balance)ÊòØÁî®‰∫éËß£ÂÜ≥‰∏ÄÂè∞Êú∫Âô®(‰∏Ä‰∏™ËøõÁ®ã)Êó†Ê≥ïËß£ÂÜ≥ÊâÄÊúâËØ∑Ê±ÇËÄå‰∫ßÁîüÁöÑ‰∏ÄÁßçÁÆóÊ≥ï„ÄÇLoad balancing Sink ProcessorËÉΩÂ§üÂÆûÁé∞load balanceÂäüËÉΩÔºåÂ¶Ç‰∏ãÂõæAgent1ÊòØ‰∏Ä‰∏™Ë∑ØÁî±ËäÇÁÇπÔºåË¥üË¥£Â∞ÜChannelÊöÇÂ≠òÁöÑEventÂùáË°°Âà∞ÂØπÂ∫îÁöÑÂ§ö‰∏™SinkÁªÑ‰ª∂‰∏äÔºåËÄåÊØè‰∏™SinkÁªÑ‰ª∂ÂàÜÂà´ËøûÊé•Âà∞‰∏Ä‰∏™Áã¨Á´ãÁöÑAgent‰∏äÔºåÁ§∫‰æãÈÖçÁΩÆ„ÄÇFailover Sink ProcessorÔºàÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂ÔºâÁª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÁ∫ßSinkÁªÑ‰ª∂ÂàóË°®ÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™SinkÁªÑ‰ª∂ÂèØÁî®ÔºåEventÂ∞±Ë¢´‰º†ÈÄíÂà∞‰∏ã‰∏Ä‰∏™ÁªÑ‰ª∂„ÄÇÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂ§±Ë¥•ÁöÑSinkÈôçÁ∫ßÂà∞‰∏Ä‰∏™Ê±†ÔºåÂú®Ëøô‰∫õÊ±†‰∏≠ÂÆÉ‰ª¨Ë¢´ÂàÜÈÖç‰∏Ä‰∏™ÂÜ∑Âç¥Êó∂Èó¥ÔºåÈöèÁùÄÊïÖÈöúÁöÑËøûÁª≠ÔºåÂú®ÈáçËØï‰πãÂâçÂÜ∑Âç¥Êó∂Èó¥Â¢ûÂä†„ÄÇ‰∏ÄÊó¶SinkÊàêÂäüÂèëÈÄÅ‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÂÆÉÂ∞ÜÊÅ¢Â§çÂà∞Ê¥ªÂä®Ê±†„ÄÇ SinkÂÖ∑Êúâ‰∏é‰πãÁõ∏ÂÖ≥ÁöÑ‰ºòÂÖàÁ∫ßÔºåÊï∞ÈáèË∂äÂ§ßÔºå‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇflumeÁöÑÁªÑÊàêÔºöÔºàput‰∫ãÁâ©Âíåtask‰∫ãÁâ©Ôºâ    </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>1. flumeÁªÑÊàêÔºåPut‰∫ãÂä°ÔºåTake‰∫ãÂä°</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Taildir SourceÔºöÊñ≠ÁÇπÁª≠‰º†„ÄÅÂ§öÁõÆÂΩï„ÄÇFlume1.6‰ª•ÂâçÈúÄË¶ÅËá™Â∑±Ëá™ÂÆö‰πâSourceËÆ∞ÂΩïÊØèÊ¨°ËØªÂèñÊñá‰ª∂‰ΩçÁΩÆÔºåÂÆûÁé∞Êñ≠ÁÇπÁª≠‰º†„ÄÇFile ChannelÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®Á£ÅÁõòÔºåÂÆïÊú∫Êï∞ÊçÆÂèØ‰ª•‰øùÂ≠ò„ÄÇ‰ΩÜÊòØ‰º†ËæìÈÄüÁéáÊÖ¢„ÄÇÈÄÇÂêàÂØπÊï∞ÊçÆ‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±ÇÈ´òÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºåÈáëËûçË°å‰∏ö„ÄÇMemory ChannelÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂÆïÊú∫Êï∞ÊçÆ‰∏¢Â§±„ÄÇ‰º†ËæìÈÄüÁéáÂø´„ÄÇÈÄÇÂêàÂØπÊï∞ÊçÆ‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºåÊôÆÈÄöÁöÑÊó•ÂøóÊï∞ÊçÆ„ÄÇKafka ChannelÔºöÂáèÂ∞ë‰∫ÜFlumeÁöÑSinkÈò∂ÊÆµÔºåÊèêÈ´ò‰∫Ü‰º†ËæìÊïàÁéá„ÄÇ          SourceÂà∞ChannelÊòØPut‰∫ãÂä°  ChannelÂà∞SinkÊòØTake‰∫ãÂä°flumeËá™ÂÆö‰πâÊã¶Êà™Âô®ÂÆûÁé∞    </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>1. ÂÆûÁé∞ Interceptor</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>2. ÈáçÂÜôÂõõ‰∏™ÊñπÊ≥ï</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">40</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">41</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>* initialize ÂàùÂßãÂåñ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">42</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>* public Event intercept(Event event) Â§ÑÁêÜÂçï‰∏™Event</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">43</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>* public List&lt;Event&gt; intercept(List&lt;Event&gt; events) Â§ÑÁêÜÂ§ö‰∏™EventÔºåÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®Event intercept(Event event)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">44</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>* close ÊñπÊ≥ï</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">45</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">46</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">flume channel ÈÄâÊã©Âô®Ôºö    channel selectorsÊúâ‰∏§ÁßçÁ±ªÂûãÔºö          Replicating Channel Selector (default):‰ºöÂ∞ÜsourceËøáÊù•ÁöÑeventsÂèëÂæÄÊâÄÊúâÁöÑchannel„ÄÇ          Multiplexing Channel Selector:ÂèØ‰ª•ÈÄâÊã©ÂèëÂæÄÈÇ£‰∫õchannel„ÄÇflumeÈááÈõÜÊï∞ÊçÆ‰∏ç‰ºö‰∏¢Â§±ÔºåÂõ†‰∏∫channelÂÇ®Â≠òÂèØ‰ª•ÂÇ®Â≠òÂú®File‰∏≠ÔºåÊï∞ÊçÆ‰º†ËæìËá™Ë∫´Êúâ‰∫ãÁâ©„ÄÇFlumeÂÜÖÂ≠òÔºö    ÂºÄÂèë‰∏≠Âú®flume-env.sh‰∏≠ËÆæÁΩÆJVM heap‰∏∫4GÊàñÊõ¥È´òÔºåÈÉ®ÁΩ≤Âú®ÂçïÁã¨ÁöÑÊúçÂä°Âô®‰∏äÔºà4Ê†∏8Á∫øÁ®ã16GÂÜÖÂ≠òÔºâ  -XmxÔºàËÆæÂÆöÁ®ãÂ∫èËøêË°åÊúüÈó¥ÊúÄÂ§ßÂèØÂç†Áî®ÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÔºâ‰∏é-XmsÔºàËÆæÂÆöÁ®ãÂ∫èÂêØÂä®Êó∂Âç†Áî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºâÊúÄÂ•ΩËÆæÁΩÆ‰∏ÄËá¥ÔºåÂáèÂ∞ëÂÜÖÂ≠òÊäñÂä®Â∏¶Êù•ÁöÑÊÄßËÉΩÂΩ±ÂìçÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏ç‰∏ÄËá¥ÂÆπÊòìÂØºËá¥È¢ëÁπÅfullgc„ÄÇFileChannel‰ºòÂåñÔºö      ÈÄöËøáÈÖçÁΩÆdataDirsÊåáÂêëÂ§ö‰∏™Ë∑ØÂæÑÔºåÊØè‰∏™Ë∑ØÂæÑÂØπÂ∫î‰∏çÂêåÁöÑÁ°¨ÁõòÔºåÂ¢ûÂ§ßFlumeÂêûÂêêÈáè„ÄÇ   checkpointDirÂíåbackupCheckpointDir‰πüÂ∞ΩÈáèÈÖçÁΩÆÂú®‰∏çÂêåÁ°¨ÁõòÂØπÂ∫îÁöÑÁõÆÂΩï‰∏≠Ôºå‰øùËØÅcheckpointÂùèÊéâÂêéÔºåÂèØ‰ª•Âø´ÈÄü‰ΩøÁî®backupCheckpointDirÊÅ¢Â§çÊï∞ÊçÆHDFSSinkÂ∞èÊñá‰ª∂Â§ÑÁêÜÔºöÂÆòÊñπÈªòËÆ§ÁöÑËøô‰∏â‰∏™ÂèÇÊï∞ÈÖçÁΩÆÂÜôÂÖ•HDFSÂêé‰ºö‰∫ßÁîüÂ∞èÊñá‰ª∂Ôºåhdfs.rollInterval„ÄÅhdfs.rollSize„ÄÅhdfs.rollCountÂü∫‰∫é‰ª•‰∏ähdfs.rollInterval=3600Ôºåhdfs.rollSize=134217728Ôºåhdfs.rollCount =0Ôºåhdfs.roundValue=10Ôºåhdfs.roundUnit= secondÂá†‰∏™ÂèÇÊï∞ÁªºÂêà‰ΩúÁî®ÔºåÊïàÊûúÂ¶Ç‰∏ãÔºöÔºà1ÔºâtmpÊñá‰ª∂Âú®ËææÂà∞128MÊó∂‰ºöÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂Ôºà2ÔºâtmpÊñá‰ª∂ÂàõÂª∫Ë∂Ö10ÂàÜÊó∂‰ºöÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂‰∏æ‰æãÔºöÂú®2018-01-01 05:23ÁöÑÊó∂‰æØsinkÊé•Êî∂Âà∞Êï∞ÊçÆÔºåÈÇ£‰ºö‰∫ßÁîüÂ¶Ç‰∏ãtmpÊñá‰ª∂Ôºö/itcast/20180101/itcast.201801010520.tmpÂç≥‰ΩøÊñá‰ª∂ÂÜÖÂÆπÊ≤°ÊúâËææÂà∞128MÔºå‰πü‰ºöÂú®05:33Êó∂ÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂kafka‰∏ªË¶ÅÁªÑ‰ª∂ËØ¥ÊòéÔºökafkaÁöÑËÑèÊï∞ÊçÆ‰∏ÄËà¨Âú®‰∏ãÊ∏∏Á®ãÂ∫èËøõË°åÂ§ÑÁêÜ„ÄÇ    Kafka ÊúâÁùÄÈªòËÆ§ÁöÑÂàÜÂå∫Êú∫Âà∂Ôºö</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">47</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">48</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>* Â¶ÇÊûúÈîÆÂÄº‰∏∫ nullÔºå Âàô‰ΩøÁî®ËΩÆËØ¢ (Round Robin) ÁÆóÊ≥ïÂ∞ÜÊ∂àÊÅØÂùáË°°Âú∞ÂàÜÂ∏ÉÂà∞ÂêÑ‰∏™ÂàÜÂå∫‰∏äÔºõ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">49</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>* Â¶ÇÊûúÈîÆÂÄº‰∏ç‰∏∫ nullÔºåÈÇ£‰πà Kafka ‰ºö‰ΩøÁî®ÂÜÖÁΩÆÁöÑÊï£ÂàóÁÆóÊ≥ïÂØπÈîÆËøõË°åÊï£ÂàóÔºåÁÑ∂ÂêéÂàÜÂ∏ÉÂà∞ÂêÑ‰∏™ÂàÜÂå∫‰∏ä„ÄÇ</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -53px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">50</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">‚Äã</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 17px solid transparent; top: 4144px;"></div><div class="CodeMirror-gutters" style="height: 4174px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 53px;"></div></div></div></div></div>


  <div class="loading-preview-msg"><p class="preview-msg text-gray">Loading preview‚Ä¶</p></div>
  <div class="no-changes-preview-msg"><p class="preview-msg text-gray">No changes to display.</p></div>
  <div class="error-preview-msg"><p class="preview-msg text-gray">Unable to load this preview, sorry.</p></div>
  <div class="js-commit-preview commit-preview   "><div class="js-preview-new-file ">
        

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-text ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">hdfsÁöÑÂÜôÊµÅÁ®ãÔºö1ÔºâË∑üNNÈÄö‰ø°ËØ∑Ê±Ç‰∏ä‰º†Êñá‰ª∂ÔºåNNÊ£ÄÊü•ÁõÆÊ†áÊñá‰ª∂ÊòØÂê¶Â≠òÂú®ÔºåÁà∂ÁõÆÂΩïÊòØÂê¶Â≠òÂú®2ÔºâNNËøîÂõûÊòØÂê¶ÂèØ‰ª•‰∏ä‰º†3Ôºâclient‰ºöÂÖàÂØπÊñá‰ª∂ËøõË°åÂàáÂàÜÔºåÊØîÂ¶Ç‰∏Ä‰∏™blockÂùó128MÔºåÊñá‰ª∂300MÂ∞±‰ºöË¢´ÂàáÂàÜÊàê3‰∏™ÂùóÔºå‰∏§‰∏™128MÔºå‰∏Ä‰∏™44M„ÄÇËØ∑Ê±ÇÁ¨¨‰∏Ä‰∏™blockËØ•‰º†ËæìÂà∞Âì™‰∫õDNÊúçÂä°Âô®‰∏ä„ÄÇ4ÔºâNNËøîÂõûDNÁöÑÊúçÂä°Âô®„ÄÇ5ÔºâclientËØ∑Ê±Ç‰∏Ä‰∏™Âè∞DN‰∏ä‰º†Êï∞ÊçÆÔºàRPCË∞ÉÁî®ÔºåÂª∫Á´ãpipelineÔºâÔºåÁ¨¨‰∏Ä‰∏™DNÊî∂Âà∞ËØ∑Ê±Ç‰ºöÁªßÁª≠Ë∞ÉÁî®Á¨¨‰∫å‰∏™DNÔºåÁÑ∂ÂêéÁ¨¨‰∫å‰∏™Ë∞ÉÁî®Á¨¨‰∏â‰∏™DN,Â∞ÜÊï¥‰∏™pipelineÂª∫Á´ãÂÆåÊàêÔºåÈÄêÁ∫ßËøîÂõûÂÆ¢Êà∑Á´Ø„ÄÇ6ÔºâclientÂºÄÂßã‰º†Ëæìblock(ÂÖà‰ªéÁ£ÅÁõòËØªÂèñÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Êú¨Âú∞ÂÜÖÂ≠òÁºìÂ≠ò)Ôºå‰ª•packet‰∏∫Âçï‰ΩçÔºà‰∏Ä‰∏™packet‰∏∫64kbÔºâ,ÂÜôÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôdatanode‰ºöËøõË°åÊï∞ÊçÆÊ†°È™åÔºåÂπ∂‰∏çÊòØÈÄöËøápacket‰∏∫Âçï‰ΩçÊ†°È™åÔºåËÄåÊòØ‰ª•chunk‰∏∫Âçï‰ΩçÊ†°È™åÔºà512byteÔºâ,Á¨¨‰∏Ä‰∏™DNÊî∂Âà∞Á¨¨‰∏Ä‰∏™packetÂ∞±‰ºö‰º†ÁªôÁ¨¨‰∫åÂè∞ÔºåÁ¨¨‰∫åÂè∞‰º†ÁªôÁ¨¨‰∏âÂè∞ÔºõÁ¨¨‰∏ÄÂè∞ÊØè‰º†‰∏Ä‰∏™packetÂ∞±‰ºöÊîæÂÖ•‰∏Ä‰∏™Â∫îÁ≠îÈòüÂàóÁ≠âÂæÖÂ∫îÁ≠î„ÄÇ7ÔºâÂΩì‰∏Ä‰∏™block‰º†ËæìÂÆåÊàêÊó∂ÔºåclientÂÜçÊ¨°ËØ∑Ê±ÇNN‰∏ä‰º†Á¨¨‰∫å‰∏™blockÁöÑÊúçÂä°Âô®„ÄÇhdfsÁöÑËØªÊµÅÁ®ãÔºö1ÔºâË∑üNNÈÄö‰ø°Êü•ËØ¢ÂÖÉÊï∞ÊçÆ(blockÊâÄÂú®ÁöÑDNÁöÑËäÇÁÇπ)ÔºåÊâæÂà∞Êñá‰ª∂ÂùóÊâÄÂú®ÁöÑDNÁöÑÊúçÂä°Âô®„ÄÇ2ÔºâÊåëÈÄâ‰∏ÄÂè∞DNÔºàÂ∞±ËøëÂéüÂàôÔºåÁÑ∂ÂêéÈöèÊú∫ÔºâÊúçÂä°Âô®ÔºåËØ∑Ê±ÇÂª∫Á´ãsocketÊµÅ„ÄÇ3ÔºâDNÂºÄÂßãÂèëÈÄÅÊï∞ÊçÆÔºà‰ªéÁ£ÅÁõòÈáåËØªÂèñÊï∞ÊçÆÊîæÂÖ•ÊµÅÔºå‰∏Äpacket‰∏∫Âçï‰ΩçÂÅöÊ†°È™åÔºâ4ÔºâÂÆ¢Êà∑Á´Ø‰ª•packet‰∏∫Âçï‰ΩçÊé•Êî∂ÔºåÁé∞Âú®Êú¨Âú∞ÁºìÂ≠òÔºåÁÑ∂ÂêéÂÜôÂÖ•ÁõÆÊ†áÊñá‰ª∂‰∏≠ÔºåÂêéÈù¢ÁöÑblockÂùóÂ∞±Áõ∏ÂΩì‰∫éappendÂà∞ÂâçÈù¢ÁöÑblockÂùóÔºåÊúÄÂêéÂêàÊàêÊúÄÁªàÈúÄË¶ÅÁöÑÊñá‰ª∂„ÄÇhdfsÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊµÅÁ®ãÔºö
</td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">	1. ÂÆ¢Êà∑Á´ØÈÄöËøáClientProtocolÂçèËÆÆÂêëRpcServerÂèëËµ∑ÂàõÂª∫Êñá‰ª∂ÁöÑRPCËØ∑Ê±Ç„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line">	2. FSNamesystemÂ∞ÅË£Ö‰∫ÜÂêÑÁßçHDFSÊìç‰ΩúÁöÑÂÆûÁé∞ÁªÜËäÇÔºåRpcServerË∞ÉÁî®FSNamesystem‰∏≠ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï‰ª•ÂàõÂª∫ÁõÆÂΩï„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line">	3. Ëøõ‰∏ÄÊ≠•ÁöÑÔºåFSDirectoryÂ∞ÅË£Ö‰∫ÜÂêÑÁßçÁõÆÂΩïÊ†ëÊìç‰ΩúÁöÑÂÆûÁé∞ÁªÜËäÇÔºåFSNamesystemË∞ÉÁî®FSDirectory‰∏≠ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÂú®ÁõÆÂΩïÊ†ë‰∏≠ÂàõÂª∫ÁõÆÊ†áÊñá‰ª∂ÔºåÂπ∂ÈÄöËøáÊó•ÂøóÁ≥ªÁªüÂ§á‰ªΩÊñá‰ª∂Á≥ªÁªüÁöÑ‰øÆÊîπ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line">	4. ÊúÄÂêéÔºåRpcServerÂ∞ÜRPCÂìçÂ∫îËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line">hadoop1.xÂíåhadoop2.xÁöÑÂå∫Âà´Ôºö
</td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line">	1. ËµÑÊ∫êË∞ÉÂ∫¶ÊñπÂºèÁöÑÊîπÂèòÂú®1.x, ‰ΩøÁî®JobtrackerË¥üË¥£‰ªªÂä°Ë∞ÉÂ∫¶ÂíåËµÑÊ∫êÁÆ°ÁêÜ,ÂçïÁÇπË¥üÊãÖËøáÈáç,Âú®2.x‰∏≠,Êñ∞Â¢û‰∫Üyarn‰Ωú‰∏∫ÈõÜÁæ§ÁöÑË∞ÉÂ∫¶Â∑•ÂÖ∑.Âú®yarn‰∏≠,‰ΩøÁî®ResourceManagerËøõË°å ËµÑÊ∫êÁÆ°ÁêÜ, ÂçïÁã¨ÂºÄÂêØ‰∏Ä‰∏™Container‰Ωú‰∏∫ApplicationMasterÊù•ËøõË°å‰ªªÂä°ÁÆ°ÁêÜ.
</td>
      </tr>
      <tr>
        <td id="L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="LC9" class="blob-code blob-code-inner js-file-line">	2. HAÊ®°ÂºèÂú®1.x‰∏≠Ê≤°ÊúâHAÊ®°Âºè,ÈõÜÁæ§‰∏≠Âè™Êúâ‰∏Ä‰∏™NameNode,ËÄåÂú®2.x‰∏≠ÂèØ‰ª•ÂêØÁî®HAÊ®°Âºè,Â≠òÂú®‰∏Ä‰∏™Active NameNode ÂíåStandby NameNode.
</td>
      </tr>
      <tr>
        <td id="L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="LC10" class="blob-code blob-code-inner js-file-line">	3. HDFS FederationHadoop 2.0‰∏≠ÂØπHDFSËøõË°å‰∫ÜÊîπËøõÔºå‰ΩøNameNodeÂèØ‰ª•Ê®™ÂêëÊâ©Â±ïÊàêÂ§ö‰∏™ÔºåÊØè‰∏™NameNodeÂàÜÁÆ°‰∏ÄÈÉ®ÂàÜÁõÆÂΩïÔºåËøõËÄå‰∫ßÁîü‰∫ÜHDFS FederationÔºåËØ•Êú∫Âà∂ÁöÑÂºïÂÖ•‰∏ç‰ªÖÂ¢ûÂº∫‰∫ÜHDFSÁöÑÊâ©Â±ïÊÄßÔºå‰πü‰ΩøHDFSÂÖ∑Â§á‰∫ÜÈöîÁ¶ªÊÄß
</td>
      </tr>
      <tr>
        <td id="L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="LC12" class="blob-code blob-code-inner js-file-line">hadoopÁöÑÂ∏∏Áî®ÈÖçÁΩÆÊñá‰ª∂ÊúâÂì™‰∫õÔºö
</td>
      </tr>
      <tr>
        <td id="L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="LC13" class="blob-code blob-code-inner js-file-line">	* hadoop-env.sh: Áî®‰∫éÂÆö‰πâhadoopËøêË°åÁéØÂ¢ÉÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÊØîÂ¶ÇÈÖçÁΩÆJAVA_HOMEÁéØÂ¢ÉÂèòÈáè„ÄÅ‰∏∫hadoopÁöÑJVMÊåáÂÆöÁâπÂÆöÁöÑÈÄâÈ°π„ÄÅÊåáÂÆöÊó•ÂøóÊñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩïË∑ØÂæÑ‰ª•ÂèämasterÂíåslaveÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÁ≠âÔºõ
</td>
      </tr>
      <tr>
        <td id="L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="LC14" class="blob-code blob-code-inner js-file-line">	* core-site.xml: Áî®‰∫éÂÆö‰πâÁ≥ªÁªüÁ∫ßÂà´ÁöÑÂèÇÊï∞ÔºåÂ¶ÇHDFS URL„ÄÅHadoopÁöÑ‰∏¥Êó∂ÁõÆÂΩï‰ª•ÂèäÁî®‰∫érack-awareÈõÜÁæ§‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÁöÑÈÖçÁΩÆÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñcore-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ
</td>
      </tr>
      <tr>
        <td id="L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="LC15" class="blob-code blob-code-inner js-file-line">	* hdfs-site.xml: HDFSÁöÑÁõ∏ÂÖ≥ËÆæÂÆöÔºåÂ¶ÇÊñá‰ª∂ÂâØÊú¨ÁöÑ‰∏™Êï∞„ÄÅÂùóÂ§ßÂ∞èÂèäÊòØÂê¶‰ΩøÁî®Âº∫Âà∂ÊùÉÈôêÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñhdfs-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ
</td>
      </tr>
      <tr>
        <td id="L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="LC16" class="blob-code blob-code-inner js-file-line">	* mapred-site.xmlÔºöHDFSÁöÑÁõ∏ÂÖ≥ËÆæÂÆöÔºåÂ¶Çreduce‰ªªÂä°ÁöÑÈªòËÆ§‰∏™Êï∞„ÄÅ‰ªªÂä°ÊâÄËÉΩÂ§ü‰ΩøÁî®ÂÜÖÂ≠òÁöÑÈªòËÆ§‰∏ä‰∏ãÈôêÁ≠âÔºåÊ≠§‰∏≠ÁöÑÂèÇÊï∞ÂÆö‰πâ‰ºöË¶ÜÁõñmapred-default.xmlÊñá‰ª∂‰∏≠ÁöÑÈªòËÆ§ÈÖçÁΩÆÔºõ
</td>
      </tr>
      <tr>
        <td id="L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="LC18" class="blob-code blob-code-inner js-file-line">hadoopÁöÑ‰ºòÂåñÔºö     1)HDFSÂ∞èÊñá‰ª∂ÂΩ±Âìç          a.ÂΩ±ÂìçNameNodeÁöÑÂØøÂëΩÔºåÂõ†‰∏∫Êñá‰ª∂ÂÖÉÊï∞ÊçÆÂ≠òÂÇ®Âú®NameNodeÁöÑÂÜÖÂ≠ò‰∏≠          b.ÂΩ±ÂìçËÆ°ÁÆóÂºïÊìéÁöÑ‰ªªÂä°Êï∞ÈáèÔºåÊØîÂ¶ÇÊØè‰∏™Â∞èÁöÑÊñá‰ª∂ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™Map‰ªªÂä°     2)Êï∞ÊçÆËæìÂÖ•Â∞èÊñá‰ª∂Â§ÑÁêÜÔºö          a.ÂêàÂπ∂Â∞èÊñá‰ª∂ÔºöÂØπÂ∞èÊñá‰ª∂ËøõË°åÂΩíÊ°£ÔºàHarÔºâ„ÄÅËá™ÂÆö‰πâInputformatÂ∞ÜÂ∞èÊñá‰ª∂Â≠òÂÇ®ÊàêSequenceFileÊñá‰ª∂„ÄÇ          b.ÈááÁî®ConbinFileInputFormatÊù•‰Ωú‰∏∫ËæìÂÖ•ÔºåËß£ÂÜ≥ËæìÂÖ•Á´ØÂ§ßÈáèÂ∞èÊñá‰ª∂Âú∫ÊôØ„ÄÇ          c.ÂØπ‰∫éÂ§ßÈáèÂ∞èÊñá‰ª∂JobÔºåÂèØ‰ª•ÂºÄÂêØJVMÈáçÁî®„ÄÇ     3)MapÈò∂ÊÆµ          a.Â¢ûÂ§ßÁéØÂΩ¢ÁºìÂÜ≤Âå∫Â§ßÂ∞è„ÄÇÁî±100mÊâ©Â§ßÂà∞200m          b.Â¢ûÂ§ßÁéØÂΩ¢ÁºìÂÜ≤Âå∫Ê∫¢ÂÜôÁöÑÊØî‰æã„ÄÇÁî±80%Êâ©Â§ßÂà∞90%          c.ÂáèÂ∞ëÂØπÊ∫¢ÂÜôÊñá‰ª∂ÁöÑmergeÊ¨°Êï∞„ÄÇ          d.‰∏çÂΩ±ÂìçÂÆûÈôÖ‰∏öÂä°ÁöÑÂâçÊèê‰∏ãÔºåÈááÁî®CombinerÊèêÂâçÂêàÂπ∂ÔºåÂáèÂ∞ë I/O„ÄÇ     4)ReduceÈò∂ÊÆµ          a.ÂêàÁêÜËÆæÁΩÆMapÂíåReduceÊï∞Ôºö‰∏§‰∏™ÈÉΩ‰∏çËÉΩËÆæÁΩÆÂ§™Â∞ëÔºå‰πü‰∏çËÉΩËÆæÁΩÆÂ§™Â§ö„ÄÇÂ§™Â∞ëÔºå‰ºöÂØºËá¥TaskÁ≠âÂæÖÔºåÂª∂ÈïøÂ§ÑÁêÜÊó∂Èó¥ÔºõÂ§™Â§öÔºå‰ºöÂØºËá¥ Map„ÄÅReduce‰ªªÂä°Èó¥Á´û‰∫âËµÑÊ∫êÔºåÈÄ†ÊàêÂ§ÑÁêÜË∂ÖÊó∂Á≠âÈîôËØØ„ÄÇ          b.ËÆæÁΩÆMap„ÄÅReduceÂÖ±Â≠òÔºöË∞ÉÊï¥slowstart.completedmapsÂèÇÊï∞Ôºå‰ΩøMapËøêË°åÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÂêéÔºåReduce‰πüÂºÄÂßãËøêË°åÔºåÂáèÂ∞ëReduceÁöÑÁ≠âÂæÖÊó∂Èó¥„ÄÇ          c.ËßÑÈÅø‰ΩøÁî®ReduceÔºåÂõ†‰∏∫ReduceÂú®Áî®‰∫éËøûÊé•Êï∞ÊçÆÈõÜÁöÑÊó∂ÂÄôÂ∞Ü‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÁΩëÁªúÊ∂àËÄó„ÄÇ          d.Â¢ûÂä†ÊØè‰∏™ReduceÂéªMap‰∏≠ÊãøÊï∞ÊçÆÁöÑÂπ∂Ë°åÊï∞          e.ÈõÜÁæ§ÊÄßËÉΩÂèØ‰ª•ÁöÑÂâçÊèê‰∏ãÔºåÂ¢ûÂ§ßReduceÁ´ØÂ≠òÂÇ®Êï∞ÊçÆÂÜÖÂ≠òÁöÑÂ§ßÂ∞è„ÄÇ     5)IO‰º†Ëæì          a.ÈááÁî®Êï∞ÊçÆÂéãÁº©ÁöÑÊñπÂºèÔºåÂáèÂ∞ëÁΩëÁªúIOÁöÑÁöÑÊó∂Èó¥„ÄÇÂÆâË£ÖSnappyÂíåLZOPÂéãÁº©ÁºñÁ†ÅÂô®„ÄÇ          b.‰ΩøÁî®SequenceFile‰∫åËøõÂà∂Êñá‰ª∂     6)Êï¥‰Ωì          a.MapTaskÈªòËÆ§ÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫1GÔºåÂèØ‰ª•Â¢ûÂä†MapTaskÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫4-5g          b.ReduceTaskÈªòËÆ§ÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫1GÔºåÂèØ‰ª•Â¢ûÂä†ReduceTaskÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫4-5g          c.ÂèØ‰ª•Â¢ûÂä†MapTaskÁöÑcpuÊ†∏Êï∞ÔºåÂ¢ûÂä†ReduceTaskÁöÑCPUÊ†∏Êï∞          d.Â¢ûÂä†ÊØè‰∏™ContainerÁöÑCPUÊ†∏Êï∞ÂíåÂÜÖÂ≠òÂ§ßÂ∞è          e.Ë∞ÉÊï¥ÊØè‰∏™Map TaskÂíåReduce TaskÊúÄÂ§ßÈáçËØïÊ¨°Êï∞ÁÆÄÁ≠îËØ¥‰∏Ä‰∏ãhadoopÁöÑmap-reduceÁºñÁ®ãÊ®°Âûã:È¶ñÂÖàmap task‰ºö‰ªéÊú¨Âú∞Êñá‰ª∂Á≥ªÁªüËØªÂèñÊï∞ÊçÆÔºåËΩ¨Êç¢Êàêkey-valueÂΩ¢ÂºèÁöÑÈîÆÂÄºÂØπÈõÜÂêà‰ΩøÁî®ÁöÑÊòØhadoopÂÜÖÁΩÆÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊØîÂ¶Çlongwritable„ÄÅtextÁ≠âÂ∞ÜÈîÆÂÄºÂØπÈõÜÂêàËæìÂÖ•mapperËøõË°å‰∏öÂä°Â§ÑÁêÜËøáÁ®ãÔºåÂ∞ÜÂÖ∂ËΩ¨Êç¢ÊàêÈúÄË¶ÅÁöÑkey-valueÂú®ËæìÂá∫‰πãÂêé‰ºöËøõË°å‰∏Ä‰∏™partitionÂàÜÂå∫Êìç‰ΩúÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØhashpartitionerÔºåÂèØ‰ª•ÈÄöËøáÈáçÂÜôhashpartitionerÁöÑgetpartitionÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÂàÜÂå∫ËßÑÂàô‰πãÂêé‰ºöÂØπkeyËøõË°åËøõË°åsortÊéíÂ∫èÔºågroupingÂàÜÁªÑÊìç‰ΩúÂ∞ÜÁõ∏ÂêåkeyÁöÑvalueÂêàÂπ∂ÂàÜÁªÑËæìÂá∫ÔºåÂú®ËøôÈáåÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÈáçÂÜôWritableComparatorÁöÑComparatorÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÊéíÂ∫èËßÑÂàôÔºåÈáçÂÜôRawComparatorÁöÑcomparaÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÂàÜÁªÑËßÑÂàô‰πãÂêéËøõË°å‰∏Ä‰∏™combinerÂΩíÁ∫¶Êìç‰ΩúÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™Êú¨Âú∞ÊÆµÁöÑreduceÈ¢ÑÂ§ÑÁêÜÔºå‰ª•ÂáèÂ∞èÂêéÈù¢shufleÂíåreducerÁöÑÂ∑•‰ΩúÈáèreduce task‰ºöÈÄöËøáÁΩëÁªúÂ∞ÜÂêÑ‰∏™Êï∞ÊçÆÊî∂ÈõÜËøõË°åreduceÂ§ÑÁêÜÔºåÊúÄÂêéÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÊàñËÄÖÊòæÁ§∫ÔºåÁªìÊùüÊï¥‰∏™jobhadoopÁöÑTextInputFormat‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºåÂ¶Ç‰ΩïËá™ÂÆö‰πâÂÆûÁé∞:InputFormat‰ºöÂú®mapÊìç‰Ωú‰πãÂâçÂØπÊï∞ÊçÆËøõË°å‰∏§ÊñπÈù¢ÁöÑÈ¢ÑÂ§ÑÁêÜ 1ÊòØgetSplitsÔºåËøîÂõûÁöÑÊòØInputSplitÊï∞ÁªÑÔºåÂØπÊï∞ÊçÆËøõË°åsplitÂàÜÁâáÔºåÊØèÁâá‰∫§ÁªômapÊìç‰Ωú‰∏ÄÊ¨° 2ÊòØgetRecordReaderÔºåËøîÂõûÁöÑÊòØRecordReaderÂØπË±°ÔºåÂØπÊØè‰∏™splitÂàÜÁâáËøõË°åËΩ¨Êç¢‰∏∫key-valueÈîÆÂÄºÂØπÊ†ºÂºè‰º†ÈÄíÁªômapÂ∏∏Áî®ÁöÑInputFormatÊòØTextInputFormatÔºå‰ΩøÁî®ÁöÑÊòØLineRecordReaderÂØπÊØè‰∏™ÂàÜÁâáËøõË°åÈîÆÂÄºÂØπÁöÑËΩ¨Êç¢Ôºå‰ª•Ë°åÂÅèÁßªÈáè‰Ωú‰∏∫ÈîÆÔºåË°åÂÜÖÂÆπ‰Ωú‰∏∫ÂÄºËá™ÂÆö‰πâÁ±ªÁªßÊâøInputFormatÊé•Âè£ÔºåÈáçÂÜôcreateRecordReaderÂíåisSplitableÊñπÊ≥ï Âú®createRecordReader‰∏≠ÂèØ‰ª•Ëá™ÂÆö‰πâÂàÜÈöîÁ¨¶hadoopÂÆûÁé∞joinÁöÑÂá†ÁßçÊñπÂºèÔºö1„ÄÅÂú®reducerÁ´ØËøõË°åjoinÔºömapÁ´ØÂêåÊó∂ËØªÂèñ‰∏§‰∏™Êñá‰ª∂ËøõË°åÊâìÊ†áÁ≠æÔºåÂú® reducerÁ´ØÊää‰∏§‰∏™‰∏çÂêåÊñá‰ª∂ÁöÑkeyÁõ∏ÂêåÁöÑvalueËøõË°åjoinÔºàÁ¨õÂç°Â∞îÁßØÔºâÔºåÂç≥reducerÁ´Ø ËøõË°åÂÆûÈôÖÁöÑjoinÔºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑshuffleÔºå‰ΩéÊïàÁöÑ „ÄÇ2„ÄÅÂú®mapÁ´ØËøõË°åjoinÔºöÊòØÈíàÂØπ‰∏§‰∏™ÂæÖËøûÊé•Ë°®Ôºå‰∏Ä‰∏™Â§ßË°®Âíå‰∏Ä‰∏™Â∞èË°®ÔºåÂ∞èË°®ÈùûÂ∏∏Â∞èÔºåË∂≥Â§üÁõ¥Êé•Â≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠„ÄÇËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Â§çÂà∂Â§ö‰ªΩÔºåËÆ©ÊØè‰∏™mapÁöÑtaskÂÜÖÂ≠ò‰∏≠Â≠òÂú®‰∏Ä‰ªΩÔºàÊØîÂ¶ÇÂ≠òÊîæÂà∞hash table‰∏≠ÔºâÔºåÁÑ∂ÂêéÂè™Êâ´ÊèèÂ§ßË°®ÔºåÂØπ‰∫éÂ§ßË°® ‰∏≠ÊØè‰∏ÄÊù°ËÆ∞ÂΩïkey/valueÔºåÂú®hashtable‰∏≠Êü•ÊâæÊòØÂê¶ÊúâÁõ∏ÂêåÁöÑkeyÁöÑËÆ∞ÂΩïÔºåÂ¶ÇÊûúÊúâÔºåÂàôËøûÊé•ÂêéËæìÂá∫„ÄÇ3„ÄÅSemiJoinÔºàÂçäËøûÊé•ÔºâÔºöreducerÁ´ØÁöÑjoinÔºåË∑®Êú∫Âô®‰º†ËæìÊï∞ÊçÆÔºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÁ£ÅÁõòioÔºåÊàê‰∏∫ÈôêÂà∂joinÁöÑÁì∂È¢àÔºåÂú®mapÈò∂ÊÆµËøáÊª§„ÄÇÂÆûÁé∞ÊñπÊ≥ïÊòØÔºöÈÄâÂèñ‰∏Ä‰∏™Â∞èË°®f1ÔºåÂ∞ÜÂÖ∂ÂèÇ‰∫éjoinÁöÑkeyÂèñÂá∫Êù•Ôºå‰øùÂ≠òÂà∞f3‰∏≠Ôºåf3Êñá‰ª∂‰∏ÄËà¨ÂæàÂ∞èÔºåÂèØ‰ª•Â≠òÊîæÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇÂú® mapÈò∂ÊÆµÔºå‰ΩøÁî®DistributedCache(ÂàÜÂ∏ÉÂºèÁºìÂ≠ò)Â∞Üf3ÁöÑÊï∞ÊçÆÂ§çÂà∂Âà∞ÂêÑ‰∏™taskTracker‰∏äÔºåÁÑ∂ÂêéÂ∞Üf2‰∏≠‰∏éf3Êï∞ÊçÆ‰∏çÂåπÈÖçÁöÑkeyÊâÄÂØπÂ∫îÁöÑÁöÑËÆ∞ÂΩïËøáÊª§ÊéâÔºåÂâ©‰∏ãÁöÑreduceÈò∂ÊÆµÂ∑•‰Ωú‰∏éreducerÁ´ØjoinÁõ∏Âêå„ÄÇhadoopÁöÑDistributedCacheÔºàÂàÜÂ∏ÉÂºèÁºìÂ≠òÔºâÔºöÔºàmapÁ´ØËøõË°åjoinÔºâ    DistributedCacheÊòØhadoopÊ°ÜÊû∂Êèê‰æõÁöÑ‰∏ÄÁßçÊú∫Âà∂,ÂèØ‰ª•Â∞ÜjobÊåáÂÆöÁöÑÊñá‰ª∂,Âú®jobÊâßË°åÂâç,ÂÖàË°åÂàÜÂèëÂà∞taskÊâßË°åÁöÑÊú∫Âô®‰∏ä,Âπ∂ÊúâÁõ∏ÂÖ≥Êú∫Âà∂ÂØπcacheÊñá‰ª∂ËøõË°åÁÆ°ÁêÜ.       DistributedCache ÂèØÂ∞ÜÂÖ∑‰ΩìÂ∫îÁî®Áõ∏ÂÖ≥ÁöÑ„ÄÅÂ§ßÂ∞∫ÂØ∏ÁöÑ„ÄÅÂè™ËØªÁöÑÊñá‰ª∂ÊúâÊïàÂú∞ÂàÜÂ∏ÉÊîæÁΩÆ„ÄÇDistributedCache ÊòØMap/ReduceÊ°ÜÊû∂Êèê‰æõÁöÑÂäüËÉΩÔºåËÉΩÂ§üÁºìÂ≠òÂ∫îÁî®Á®ãÂ∫èÊâÄÈúÄÁöÑÊñá‰ª∂ ÔºàÂåÖÊã¨ÊñáÊú¨ÔºåÊ°£Ê°àÊñá‰ª∂ÔºåjarÊñá‰ª∂Á≠âÔºâ„ÄÇ       ÂèØ‰ª•Â∞ÜÂ∞èË°®ÂàÜÂèëÂà∞ÊâÄÊúâÁöÑmapËäÇÁÇπÔºåËøôÊ†∑ÔºåmapËäÇÁÇπÂ∞±ÂèØ‰ª•Âú®Êú¨Âú∞„ÄÇÂØπËá™Â∑±ÊâÄËØªÂà∞ÁöÑÂ§ßË°®Êï∞ÊçÆËøõË°åjoinÂπ∂ËæìÂá∫ÊúÄÁªàÁªìÊûúÔºåÂèØ‰ª•Â§ßÂ§ßÊèêÈ´òjoinÊìç‰ΩúÁöÑÂπ∂ÂèëÂ∫¶ÔºåÂä†Âø´Â§ÑÁêÜÈÄüÂ∫¶Ôºõ HadoopÊèê‰æõ‰∫Ü‰∏Ä‰∏™Distributed CacheÊú∫Âà∂ÔºåËÉΩÊääÊñá‰ª∂Âú®ÂêàÈÄÇÁöÑÊó∂ÂÄôÂèëÁªôMapTaskÔºåMapTaskÂ∞±ÂèØ‰ª•‰ªéÊú¨Âú∞ËøõË°åÂä†ËΩΩÂ∞èË°®Êï∞ÊçÆÔºõCombineTextInputFormat(ÂàáÁâáÊú∫Âà∂‰ºòÂåñÂ§ßÈáèÂ∞èÊñá‰ª∂)Ôºö Â∞Ühdfs‰∏äÂ§ö‰∏™Â∞èÊñá‰ª∂ÂêàÂπ∂Âà∞‰∏Ä‰∏™InputSplit‰∏≠ÔºåÁÑ∂Âêé‰ºöÂêØÁî®‰∏Ä‰∏™mapÊù•Â§ÑÁêÜËøôÈáåÈù¢ÁöÑÊñá‰ª∂Ôºå‰ª•Ê≠§ÂáèÂ∞ëmrÊï¥‰Ωì‰Ωú‰∏ö‰∫∫ÁöÑËøêË°åÊó∂Èó¥„ÄÇ  CombineTextInputFormat.setMaxInputSplitSize(job, 4194304)  CombineTextInputFormatÁî®‰∫éÂ∞èÊñá‰ª∂ËøáÂ§öÁöÑÂú∫ÊôØÔºåÂÆÉÂèØ‰ª•Â∞ÜÂ§ö‰∏™Â∞èÊñá‰ª∂‰ªéÈÄªËæë‰∏äËßÑÂàíÂà∞‰∏Ä‰∏™ÂàáÁâá‰∏≠ÔºåËøôÊ†∑ÔºåÂ§ö‰∏™Â∞èÊñá‰ª∂Â∞±ÂèØ‰ª•‰∫§Áªô‰∏Ä‰∏™MapTaskÂ§ÑÁêÜ        combineTextInputFormatÂàÜ‰∏∫ËôöÊãüÂÇ®Â≠òËøáÁ®ãÂíåÂàáÁâáËøáÁ®ãÔºö        ËôöÊãüÂÇ®Â≠òËøáÁ®ãÔºö Ê†πÊçÆÊòØÂê¶ËÆæÁΩÆsetMaxInputSplitSizeÂÄºÔºåÂ∞ÜÊØè‰∏™Êñá‰ª∂ÂàíÂàÜÊàê‰∏Ä‰∏™‰∏Ä‰∏™setMaxInputSplitSizeÂÄºÂ§ßÂ∞èÁöÑÊñá‰ª∂      ÂΩìÂâ©‰ΩôÊï∞ÊçÆÂ§ßÂ∞èË∂ÖËøásetMaxInputSplitSizeÂÄº‰∏î‰∏çÂ§ß‰∫é2ÂÄçsetMaxInputSplitSizeÂÄºÔºåÊ≠§Êó∂Â∞ÜÊñá‰ª∂ÂùáÂàÜÊàê2‰∏™ËôöÊãüÂ≠òÂÇ®ÂùóÔºàÈò≤Ê≠¢Âá∫Áé∞Â§™Â∞èÂàáÁâá)        ÂàáÁâáËøáÁ®ãÔºöÊñ≠ËôöÊãüÂ≠òÂÇ®ÁöÑÊñá‰ª∂Â§ßÂ∞èÊòØÂê¶Â§ß‰∫ésetMaxInputSplitSizeÂÄºÔºåÂ§ß‰∫éÁ≠â‰∫éÂàôÂçïÁã¨ÂΩ¢Êàê‰∏Ä‰∏™ÂàáÁâáÂ¶ÇÊûú‰∏çÂ§ß‰∫éÂàôË∑ü‰∏ã‰∏Ä‰∏™ËôöÊãüÂ≠òÂÇ®Êñá             ‰ª∂ËøõË°åÂêàÂπ∂ÔºåÂÖ±ÂêåÂΩ¢Êàê‰∏Ä‰∏™ÂàáÁâáhadoopÁöÑÂàáÁâáÊú∫Âà∂Ôºö    ÁÆÄÂçïÁöÑÊåâÁÖßÊñá‰ª∂ÁöÑÂÜÖÂÆπÈïøÂ∫¶ËøõË°åÂàáÁâá      ÂàáÁâáÂ§ßÂ∞èÔºåÈªòËÆ§Á≠â‰∫éBlockÂ§ßÂ∞è      ÂàáÁâáÊó∂‰∏çËÄÉËôëÊï∞ÊçÆÈõÜÁöÑÊï¥‰ΩìÔºåËÄåÊòØÈÄê‰∏™ÈíàÂØπÊØè‰∏Ä‰∏™Êñá‰ª∂ÂçïÁã¨ÂàáÁâá    Ê∫êÁ†Å‰∏≠ÁöÑÂàáÁâáËÆ°ÁÆóÂÖ¨ÂºèÔºö Math.max(minSize, Math.min(maxSize,blockSize))yarnÁöÑÂ∑•‰ΩúÊú∫Âà∂ÔºöÔºà0ÔºâMr Á®ãÂ∫èÊèê‰∫§Âà∞ÂÆ¢Êà∑Á´ØÊâÄÂú®ÁöÑËäÇÁÇπ„ÄÇÔºà1ÔºâYarnrunner Âêë Resourcemanager Áî≥ËØ∑‰∏Ä‰∏™ Application„ÄÇÔºà2Ôºârm Â∞ÜËØ•Â∫îÁî®Á®ãÂ∫èÁöÑËµÑÊ∫êË∑ØÂæÑËøîÂõûÁªô yarnrunner„ÄÇÔºà3ÔºâËØ•Á®ãÂ∫èÂ∞ÜËøêË°åÊâÄÈúÄËµÑÊ∫êÊèê‰∫§Âà∞ HDFS ‰∏ä„ÄÇÔºà4ÔºâÁ®ãÂ∫èËµÑÊ∫êÊèê‰∫§ÂÆåÊØïÂêéÔºåÁî≥ËØ∑ËøêË°å mrAppMaster„ÄÇÔºà5ÔºâRM Â∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÂàùÂßãÂåñÊàê‰∏Ä‰∏™ task„ÄÇÔºà6ÔºâÂÖ∂‰∏≠‰∏Ä‰∏™ NodeManager È¢ÜÂèñÂà∞ task ‰ªªÂä°„ÄÇÔºà7ÔºâËØ• NodeManager ÂàõÂª∫ÂÆπÂô® ContainerÔºåÂπ∂‰∫ßÁîü MRAppmaster„ÄÇÔºà8ÔºâContainer ‰ªé HDFS ‰∏äÊã∑Ë¥ùËµÑÊ∫êÂà∞Êú¨Âú∞„ÄÇÔºà9ÔºâMRAppmaster Âêë RM Áî≥ËØ∑ËøêË°å maptask ËµÑÊ∫ê„ÄÇÔºà10ÔºâRM Â∞ÜËøêË°å maptask ‰ªªÂä°ÂàÜÈÖçÁªôÂè¶Â§ñ‰∏§‰∏™ NodeManagerÔºåÂè¶‰∏§‰∏™ NodeManager ÂàÜÂà´È¢ÜÂèñ‰ªªÂä°Âπ∂ÂàõÂª∫ÂÆπÂô®„ÄÇÔºà11ÔºâMR Âêë‰∏§‰∏™Êé•Êî∂Âà∞‰ªªÂä°ÁöÑ NodeManager ÂèëÈÄÅÁ®ãÂ∫èÂêØÂä®ËÑöÊú¨ÔºåËøô‰∏§‰∏™ NodeManagerÂàÜÂà´ÂêØÂä® maptaskÔºåmaptask ÂØπÊï∞ÊçÆÂàÜÂå∫ÊéíÂ∫è„ÄÇÔºà12ÔºâMrAppMaster Á≠âÂæÖÊâÄÊúâ maptask ËøêË°åÂÆåÊØïÂêéÔºåÂêë RM Áî≥ËØ∑ÂÆπÂô®ÔºåËøêË°å reduce task„ÄÇÔºà13Ôºâreduce task Âêë maptask Ëé∑ÂèñÁõ∏Â∫îÂàÜÂå∫ÁöÑÊï∞ÊçÆ„ÄÇÔºà14ÔºâÁ®ãÂ∫èËøêË°åÂÆåÊØïÂêéÔºåMR ‰ºöÂêë RM Áî≥ËØ∑Ê≥®ÈîÄËá™Â∑±„ÄÇhadoopÂèÇÊï∞Ë∞É‰ºòÔºö
</td>
      </tr>
      <tr>
        <td id="L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="LC19" class="blob-code blob-code-inner js-file-line">	1. Âú®hdfs-site.xmlÊñá‰ª∂‰∏≠ÈÖçÁΩÆÂ§öÁõÆÂΩïÔºåÊúÄÂ•ΩÊèêÂâçÈÖçÁΩÆÂ•ΩÔºåÂê¶ÂàôÊõ¥ÊîπÁõÆÂΩïÈúÄË¶ÅÈáçÊñ∞ÂêØÂä®ÈõÜÁæ§
</td>
      </tr>
      <tr>
        <td id="L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="LC20" class="blob-code blob-code-inner js-file-line">	2. NameNodeÊúâ‰∏Ä‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊ±†ÔºåÁî®Êù•Â§ÑÁêÜ‰∏çÂêåDataNodeÁöÑÂπ∂ÂèëÂøÉË∑≥‰ª•ÂèäÂÆ¢Êà∑Á´ØÂπ∂ÂèëÁöÑÂÖÉÊï∞ÊçÆÊìç‰Ωú„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="LC22" class="blob-code blob-code-inner js-file-line">dfs.namenode.handler.count=20 * log2(Cluster Size)ÔºåÊØîÂ¶ÇÈõÜÁæ§ËßÑÊ®°‰∏∫10Âè∞Êó∂ÔºåÊ≠§ÂèÇÊï∞ËÆæÁΩÆ‰∏∫60
</td>
      </tr>
      <tr>
        <td id="L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="LC23" class="blob-code blob-code-inner js-file-line">	1. ÁºñËæëÊó•ÂøóÂ≠òÂÇ®Ë∑ØÂæÑdfs.namenode.edits.dirËÆæÁΩÆ‰∏éÈïúÂÉèÊñá‰ª∂Â≠òÂÇ®Ë∑ØÂæÑdfs.namenode.name.dirÂ∞ΩÈáèÂàÜÂºÄÔºåËææÂà∞ÊúÄ‰ΩéÂÜôÂÖ•Âª∂Ëøü
</td>
      </tr>
      <tr>
        <td id="L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="LC24" class="blob-code blob-code-inner js-file-line">	2. ÊúçÂä°Âô®ËäÇÁÇπ‰∏äYARNÂèØ‰ΩøÁî®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òÊÄªÈáèÔºåÈªòËÆ§ÊòØ8192ÔºàMBÔºâÔºåÊ≥®ÊÑèÔºåÂ¶ÇÊûú‰Ω†ÁöÑËäÇÁÇπÂÜÖÂ≠òËµÑÊ∫ê‰∏çÂ§ü8GBÔºåÂàôÈúÄË¶ÅË∞ÉÂáèÂ∞èËøô‰∏™ÂÄºÔºåËÄåYARN‰∏ç‰ºöÊô∫ËÉΩÁöÑÊé¢ÊµãËäÇÁÇπÁöÑÁâ©ÁêÜÂÜÖÂ≠òÊÄªÈáè„ÄÇyarn.nodemanager.resource.memory-mb
</td>
      </tr>
      <tr>
        <td id="L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="LC25" class="blob-code blob-code-inner js-file-line">	3. Âçï‰∏™‰ªªÂä°ÂèØÁî≥ËØ∑ÁöÑÊúÄÂ§öÁâ©ÁêÜÂÜÖÂ≠òÈáèÔºåÈªòËÆ§ÊòØ8192ÔºàMBÔºâ„ÄÇyarn.scheduler.maximum-allocation-mb
</td>
      </tr>
      <tr>
        <td id="L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="LC27" class="blob-code blob-code-inner js-file-line">hadoopÂÆïÊú∫Ôºö
</td>
      </tr>
      <tr>
        <td id="L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="LC28" class="blob-code blob-code-inner js-file-line">	1. Â¶ÇÊûúMRÈÄ†ÊàêÁ≥ªÁªüÂÆïÊú∫„ÄÇÊ≠§Êó∂Ë¶ÅÊéßÂà∂YarnÂêåÊó∂ËøêË°åÁöÑ‰ªªÂä°Êï∞ÔºåÂíåÊØè‰∏™‰ªªÂä°Áî≥ËØ∑ÁöÑÊúÄÂ§ßÂÜÖÂ≠ò„ÄÇË∞ÉÊï¥ÂèÇÊï∞Ôºöyarn.scheduler.maximum-allocation-mbÔºàÂçï‰∏™‰ªªÂä°ÂèØÁî≥ËØ∑ÁöÑÊúÄÂ§öÁâ©ÁêÜÂÜÖÂ≠òÈáèÔºåÈªòËÆ§ÊòØ8192MBÔºâ
</td>
      </tr>
      <tr>
        <td id="L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="LC29" class="blob-code blob-code-inner js-file-line">	2. Â¶ÇÊûúÂÜôÂÖ•Êñá‰ª∂ËøáÈáèÈÄ†ÊàêNameNodeÂÆïÊú∫„ÄÇÈÇ£‰πàË∞ÉÈ´òKafkaÁöÑÂ≠òÂÇ®Â§ßÂ∞èÔºåÊéßÂà∂‰ªéKafkaÂà∞HDFSÁöÑÂÜôÂÖ•ÈÄüÂ∫¶„ÄÇÈ´òÂ≥∞ÊúüÁöÑÊó∂ÂÄôÁî®KafkaËøõË°åÁºìÂ≠òÔºåÈ´òÂ≥∞ÊúüËøáÂéªÊï∞ÊçÆÂêåÊ≠•‰ºöËá™Âä®Ë∑ü‰∏ä„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="LC30" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="LC31" class="blob-code blob-code-inner js-file-line">hadoopÂíåsparkÁöÑÈÉΩÊòØÂπ∂Ë°åËÆ°ÁÆóÔºåÈÇ£‰πà‰ªñ‰ª¨Êúâ‰ªÄ‰πàÁõ∏ÂêåÂíåÂå∫Âà´:‰∏§ËÄÖÈÉΩÊòØÁî®mrÊ®°ÂûãÊù•ËøõË°åÂπ∂Ë°åËÆ°ÁÆóÔºåhadoopÁöÑ‰∏Ä‰∏™‰Ωú‰∏öÁß∞‰∏∫jobÔºåjobÈáåÈù¢ÂàÜ‰∏∫map taskÂíåreduce taskÔºåÊØè‰∏™taskÈÉΩÊòØÂú®Ëá™Â∑±ÁöÑËøõÁ®ã‰∏≠ËøêË°åÁöÑÔºåÂΩìtaskÁªìÊùüÊó∂ÔºåËøõÁ®ã‰πü‰ºöÁªìÊùüsparkÁî®Êà∑Êèê‰∫§ÁöÑ‰ªªÂä°Êàê‰∏∫applicationÔºå‰∏Ä‰∏™applicationÂØπÂ∫î‰∏Ä‰∏™sparkcontextÔºåapp‰∏≠Â≠òÂú®Â§ö‰∏™jobÔºåÊØèËß¶Âèë‰∏ÄÊ¨°actionÊìç‰ΩúÂ∞±‰ºö‰∫ßÁîü‰∏Ä‰∏™jobËøô‰∫õjobÂèØ‰ª•Âπ∂Ë°åÊàñ‰∏≤Ë°åÊâßË°åÔºåÊØè‰∏™job‰∏≠ÊúâÂ§ö‰∏™stageÔºåstageÊòØshuffleËøáÁ®ã‰∏≠DAGSchadulerÈÄöËøáRDD‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂàíÂàÜjobËÄåÊù•ÁöÑÔºåÊØè‰∏™stageÈáåÈù¢ÊúâÂ§ö‰∏™taskÔºåÁªÑÊàêtasksetÊúâTaskSchadulerÂàÜÂèëÂà∞ÂêÑ‰∏™executor‰∏≠ÊâßË°åÔºåexecutorÁöÑÁîüÂëΩÂë®ÊúüÊòØÂíåapp‰∏ÄÊ†∑ÁöÑÔºåÂç≥‰ΩøÊ≤°ÊúâjobËøêË°å‰πüÊòØÂ≠òÂú®ÁöÑÔºåÊâÄ‰ª•taskÂèØ‰ª•Âø´ÈÄüÂêØÂä®ËØªÂèñÂÜÖÂ≠òËøõË°åËÆ°ÁÆóhadoopÁöÑjobÂè™ÊúâmapÂíåreduceÊìç‰ΩúÔºåË°®ËææËÉΩÂäõÊØîËæÉÊ¨†Áº∫ËÄå‰∏îÂú®mrËøáÁ®ã‰∏≠‰ºöÈáçÂ§çÁöÑËØªÂÜôhdfsÔºåÈÄ†ÊàêÂ§ßÈáèÁöÑioÊìç‰ΩúÔºåÂ§ö‰∏™jobÈúÄË¶ÅËá™Â∑±ÁÆ°ÁêÜÂÖ≥Á≥ªsparkÁöÑËø≠‰ª£ËÆ°ÁÆóÈÉΩÊòØÂú®ÂÜÖÂ≠ò‰∏≠ËøõË°åÁöÑÔºåAPI‰∏≠Êèê‰æõ‰∫ÜÂ§ßÈáèÁöÑRDDÊìç‰ΩúÂ¶ÇjoinÔºågroupbyÁ≠âÔºåËÄå‰∏îÈÄöËøáDAGÂõæÂèØ‰ª•ÂÆûÁé∞ËâØÂ•ΩÁöÑÂÆπÈîô‰∏∫‰ªÄ‰πàË¶ÅÁî®flumeÂØºÂÖ•hdfsÔºåhdfsÁöÑÊûÑÊû∂ÊòØÊÄéÊ†∑ÁöÑ:flumeÂèØ‰ª•ÂÆûÊó∂ÁöÑÂØºÂÖ•Êï∞ÊçÆÂà∞hdfs‰∏≠ÔºåÂΩìhdfs‰∏äÁöÑÊñá‰ª∂ËææÂà∞‰∏Ä‰∏™ÊåáÂÆöÂ§ßÂ∞èÁöÑÊó∂ÂÄô‰ºöÂΩ¢Êàê‰∏Ä‰∏™Êñá‰ª∂ÔºåÊàñËÄÖË∂ÖËøáÊåáÂÆöÊó∂Èó¥ÁöÑËØù‰πüÂΩ¢Êàê‰∏Ä‰∏™Êñá‰ª∂Êñá‰ª∂ÈÉΩÊòØÂ≠òÂÇ®Âú®datanode‰∏äÈù¢ÁöÑÔºånamenodeËÆ∞ÂΩïÁùÄdatanodeÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåËÄånamenodeÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÊòØÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊâÄ‰ª•ÂΩìÊñá‰ª∂ÂàáÁâáÂæàÂ∞èÊàñËÄÖÂæàÂ§öÁöÑÊó∂ÂÄô‰ºöÂç°Ê≠ªÁÆÄÂçïËØ¥‰∏Ä‰∏ãhadoopÂíåsparkÁöÑshuffleËøáÁ®ã:hadoopÔºömapÁ´Ø‰øùÂ≠òÂàÜÁâáÊï∞ÊçÆÔºåÈÄöËøáÁΩëÁªúÊî∂ÈõÜÂà∞reduceÁ´Ø sparkÔºösparkÁöÑshuffleÊòØÂú®DAGSchedularÂàíÂàÜStageÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑÔºåTaskScheduleË¶ÅÂàÜÂèëStageÂà∞ÂêÑ‰∏™workerÁöÑexecutorÂáèÂ∞ëshuffleÂèØ‰ª•ÊèêÈ´òÊÄßËÉΩflumÁöÑË¥üËΩΩÂùáË°°ÂíåÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂Ôºö    Ë¥üËΩΩÂùáË°°(load-balance)ÊòØÁî®‰∫éËß£ÂÜ≥‰∏ÄÂè∞Êú∫Âô®(‰∏Ä‰∏™ËøõÁ®ã)Êó†Ê≥ïËß£ÂÜ≥ÊâÄÊúâËØ∑Ê±ÇËÄå‰∫ßÁîüÁöÑ‰∏ÄÁßçÁÆóÊ≥ï„ÄÇLoad balancing Sink ProcessorËÉΩÂ§üÂÆûÁé∞load balanceÂäüËÉΩÔºåÂ¶Ç‰∏ãÂõæAgent1ÊòØ‰∏Ä‰∏™Ë∑ØÁî±ËäÇÁÇπÔºåË¥üË¥£Â∞ÜChannelÊöÇÂ≠òÁöÑEventÂùáË°°Âà∞ÂØπÂ∫îÁöÑÂ§ö‰∏™SinkÁªÑ‰ª∂‰∏äÔºåËÄåÊØè‰∏™SinkÁªÑ‰ª∂ÂàÜÂà´ËøûÊé•Âà∞‰∏Ä‰∏™Áã¨Á´ãÁöÑAgent‰∏äÔºåÁ§∫‰æãÈÖçÁΩÆ„ÄÇFailover Sink ProcessorÔºàÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂ÔºâÁª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÁ∫ßSinkÁªÑ‰ª∂ÂàóË°®ÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™SinkÁªÑ‰ª∂ÂèØÁî®ÔºåEventÂ∞±Ë¢´‰º†ÈÄíÂà∞‰∏ã‰∏Ä‰∏™ÁªÑ‰ª∂„ÄÇÊïÖÈöúËΩ¨ÁßªÊú∫Âà∂ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂ§±Ë¥•ÁöÑSinkÈôçÁ∫ßÂà∞‰∏Ä‰∏™Ê±†ÔºåÂú®Ëøô‰∫õÊ±†‰∏≠ÂÆÉ‰ª¨Ë¢´ÂàÜÈÖç‰∏Ä‰∏™ÂÜ∑Âç¥Êó∂Èó¥ÔºåÈöèÁùÄÊïÖÈöúÁöÑËøûÁª≠ÔºåÂú®ÈáçËØï‰πãÂâçÂÜ∑Âç¥Êó∂Èó¥Â¢ûÂä†„ÄÇ‰∏ÄÊó¶SinkÊàêÂäüÂèëÈÄÅ‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÂÆÉÂ∞ÜÊÅ¢Â§çÂà∞Ê¥ªÂä®Ê±†„ÄÇ SinkÂÖ∑Êúâ‰∏é‰πãÁõ∏ÂÖ≥ÁöÑ‰ºòÂÖàÁ∫ßÔºåÊï∞ÈáèË∂äÂ§ßÔºå‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇflumeÁöÑÁªÑÊàêÔºöÔºàput‰∫ãÁâ©Âíåtask‰∫ãÁâ©Ôºâ    
</td>
      </tr>
      <tr>
        <td id="L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="LC32" class="blob-code blob-code-inner js-file-line">	1. flumeÁªÑÊàêÔºåPut‰∫ãÂä°ÔºåTake‰∫ãÂä°
</td>
      </tr>
      <tr>
        <td id="L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="LC33" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="LC34" class="blob-code blob-code-inner js-file-line">Taildir SourceÔºöÊñ≠ÁÇπÁª≠‰º†„ÄÅÂ§öÁõÆÂΩï„ÄÇFlume1.6‰ª•ÂâçÈúÄË¶ÅËá™Â∑±Ëá™ÂÆö‰πâSourceËÆ∞ÂΩïÊØèÊ¨°ËØªÂèñÊñá‰ª∂‰ΩçÁΩÆÔºåÂÆûÁé∞Êñ≠ÁÇπÁª≠‰º†„ÄÇFile ChannelÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®Á£ÅÁõòÔºåÂÆïÊú∫Êï∞ÊçÆÂèØ‰ª•‰øùÂ≠ò„ÄÇ‰ΩÜÊòØ‰º†ËæìÈÄüÁéáÊÖ¢„ÄÇÈÄÇÂêàÂØπÊï∞ÊçÆ‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±ÇÈ´òÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºåÈáëËûçË°å‰∏ö„ÄÇMemory ChannelÔºöÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂÆïÊú∫Êï∞ÊçÆ‰∏¢Â§±„ÄÇ‰º†ËæìÈÄüÁéáÂø´„ÄÇÈÄÇÂêàÂØπÊï∞ÊçÆ‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÂú∫ÊôØÔºåÊØîÂ¶ÇÔºåÊôÆÈÄöÁöÑÊó•ÂøóÊï∞ÊçÆ„ÄÇKafka ChannelÔºöÂáèÂ∞ë‰∫ÜFlumeÁöÑSinkÈò∂ÊÆµÔºåÊèêÈ´ò‰∫Ü‰º†ËæìÊïàÁéá„ÄÇ          SourceÂà∞ChannelÊòØPut‰∫ãÂä°  ChannelÂà∞SinkÊòØTake‰∫ãÂä°flumeËá™ÂÆö‰πâÊã¶Êà™Âô®ÂÆûÁé∞    
</td>
      </tr>
      <tr>
        <td id="L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="LC35" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="LC36" class="blob-code blob-code-inner js-file-line">		1. ÂÆûÁé∞ Interceptor
</td>
      </tr>
      <tr>
        <td id="L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="LC37" class="blob-code blob-code-inner js-file-line">		2. ÈáçÂÜôÂõõ‰∏™ÊñπÊ≥ï
</td>
      </tr>
      <tr>
        <td id="L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="LC38" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="LC39" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="LC40" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="LC41" class="blob-code blob-code-inner js-file-line">		* initialize ÂàùÂßãÂåñ
</td>
      </tr>
      <tr>
        <td id="L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="LC42" class="blob-code blob-code-inner js-file-line">		* public Event intercept(Event event) Â§ÑÁêÜÂçï‰∏™Event
</td>
      </tr>
      <tr>
        <td id="L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="LC43" class="blob-code blob-code-inner js-file-line">		* public List&lt;Event&gt; intercept(List&lt;Event&gt; events) Â§ÑÁêÜÂ§ö‰∏™EventÔºåÂú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®Event intercept(Event event)
</td>
      </tr>
      <tr>
        <td id="L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="LC44" class="blob-code blob-code-inner js-file-line">		* close ÊñπÊ≥ï
</td>
      </tr>
      <tr>
        <td id="L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="LC45" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="LC46" class="blob-code blob-code-inner js-file-line">flume channel ÈÄâÊã©Âô®Ôºö    channel selectorsÊúâ‰∏§ÁßçÁ±ªÂûãÔºö          Replicating Channel Selector (default):‰ºöÂ∞ÜsourceËøáÊù•ÁöÑeventsÂèëÂæÄÊâÄÊúâÁöÑchannel„ÄÇ          Multiplexing Channel Selector:ÂèØ‰ª•ÈÄâÊã©ÂèëÂæÄÈÇ£‰∫õchannel„ÄÇflumeÈááÈõÜÊï∞ÊçÆ‰∏ç‰ºö‰∏¢Â§±ÔºåÂõ†‰∏∫channelÂÇ®Â≠òÂèØ‰ª•ÂÇ®Â≠òÂú®File‰∏≠ÔºåÊï∞ÊçÆ‰º†ËæìËá™Ë∫´Êúâ‰∫ãÁâ©„ÄÇFlumeÂÜÖÂ≠òÔºö    ÂºÄÂèë‰∏≠Âú®flume-env.sh‰∏≠ËÆæÁΩÆJVM heap‰∏∫4GÊàñÊõ¥È´òÔºåÈÉ®ÁΩ≤Âú®ÂçïÁã¨ÁöÑÊúçÂä°Âô®‰∏äÔºà4Ê†∏8Á∫øÁ®ã16GÂÜÖÂ≠òÔºâ  -XmxÔºàËÆæÂÆöÁ®ãÂ∫èËøêË°åÊúüÈó¥ÊúÄÂ§ßÂèØÂç†Áî®ÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÔºâ‰∏é-XmsÔºàËÆæÂÆöÁ®ãÂ∫èÂêØÂä®Êó∂Âç†Áî®ÂÜÖÂ≠òÂ§ßÂ∞èÔºâÊúÄÂ•ΩËÆæÁΩÆ‰∏ÄËá¥ÔºåÂáèÂ∞ëÂÜÖÂ≠òÊäñÂä®Â∏¶Êù•ÁöÑÊÄßËÉΩÂΩ±ÂìçÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏ç‰∏ÄËá¥ÂÆπÊòìÂØºËá¥È¢ëÁπÅfullgc„ÄÇFileChannel‰ºòÂåñÔºö      ÈÄöËøáÈÖçÁΩÆdataDirsÊåáÂêëÂ§ö‰∏™Ë∑ØÂæÑÔºåÊØè‰∏™Ë∑ØÂæÑÂØπÂ∫î‰∏çÂêåÁöÑÁ°¨ÁõòÔºåÂ¢ûÂ§ßFlumeÂêûÂêêÈáè„ÄÇ   checkpointDirÂíåbackupCheckpointDir‰πüÂ∞ΩÈáèÈÖçÁΩÆÂú®‰∏çÂêåÁ°¨ÁõòÂØπÂ∫îÁöÑÁõÆÂΩï‰∏≠Ôºå‰øùËØÅcheckpointÂùèÊéâÂêéÔºåÂèØ‰ª•Âø´ÈÄü‰ΩøÁî®backupCheckpointDirÊÅ¢Â§çÊï∞ÊçÆHDFSSinkÂ∞èÊñá‰ª∂Â§ÑÁêÜÔºöÂÆòÊñπÈªòËÆ§ÁöÑËøô‰∏â‰∏™ÂèÇÊï∞ÈÖçÁΩÆÂÜôÂÖ•HDFSÂêé‰ºö‰∫ßÁîüÂ∞èÊñá‰ª∂Ôºåhdfs.rollInterval„ÄÅhdfs.rollSize„ÄÅhdfs.rollCountÂü∫‰∫é‰ª•‰∏ähdfs.rollInterval=3600Ôºåhdfs.rollSize=134217728Ôºåhdfs.rollCount =0Ôºåhdfs.roundValue=10Ôºåhdfs.roundUnit= secondÂá†‰∏™ÂèÇÊï∞ÁªºÂêà‰ΩúÁî®ÔºåÊïàÊûúÂ¶Ç‰∏ãÔºöÔºà1ÔºâtmpÊñá‰ª∂Âú®ËææÂà∞128MÊó∂‰ºöÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂Ôºà2ÔºâtmpÊñá‰ª∂ÂàõÂª∫Ë∂Ö10ÂàÜÊó∂‰ºöÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂‰∏æ‰æãÔºöÂú®2018-01-01 05:23ÁöÑÊó∂‰æØsinkÊé•Êî∂Âà∞Êï∞ÊçÆÔºåÈÇ£‰ºö‰∫ßÁîüÂ¶Ç‰∏ãtmpÊñá‰ª∂Ôºö/itcast/20180101/itcast.201801010520.tmpÂç≥‰ΩøÊñá‰ª∂ÂÜÖÂÆπÊ≤°ÊúâËææÂà∞128MÔºå‰πü‰ºöÂú®05:33Êó∂ÊªöÂä®ÁîüÊàêÊ≠£ÂºèÊñá‰ª∂kafka‰∏ªË¶ÅÁªÑ‰ª∂ËØ¥ÊòéÔºökafkaÁöÑËÑèÊï∞ÊçÆ‰∏ÄËà¨Âú®‰∏ãÊ∏∏Á®ãÂ∫èËøõË°åÂ§ÑÁêÜ„ÄÇ    Kafka ÊúâÁùÄÈªòËÆ§ÁöÑÂàÜÂå∫Êú∫Âà∂Ôºö
</td>
      </tr>
      <tr>
        <td id="L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="LC47" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="LC48" class="blob-code blob-code-inner js-file-line">		* Â¶ÇÊûúÈîÆÂÄº‰∏∫ nullÔºå Âàô‰ΩøÁî®ËΩÆËØ¢ (Round Robin) ÁÆóÊ≥ïÂ∞ÜÊ∂àÊÅØÂùáË°°Âú∞ÂàÜÂ∏ÉÂà∞ÂêÑ‰∏™ÂàÜÂå∫‰∏äÔºõ
</td>
      </tr>
      <tr>
        <td id="L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="LC49" class="blob-code blob-code-inner js-file-line">		* Â¶ÇÊûúÈîÆÂÄº‰∏ç‰∏∫ nullÔºåÈÇ£‰πà Kafka ‰ºö‰ΩøÁî®ÂÜÖÁΩÆÁöÑÊï£ÂàóÁÆóÊ≥ïÂØπÈîÆËøõË°åÊï£ÂàóÔºåÁÑ∂ÂêéÂàÜÂ∏ÉÂà∞ÂêÑ‰∏™ÂàÜÂå∫‰∏ä„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="LC50" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="LC51" class="blob-code blob-code-inner js-file-line">    producer:Áîü‰∫ßËÄÖÔºåÁîü‰∫ßÁöÑÊ∂àÊÅØÈÄöËøátopicËøõË°åÂΩíÁ±ªÔºå‰øùÂ≠òÂà∞kafkaÁöÑbrokerÈáåÈù¢Âéª„ÄÇ     topicÔºö‰∏ªÈ¢òÔºå‰∏Ä‰∏™‰∏ªÈ¢òÂèØ‰ª•ÊúâÈõ∂‰∏™Ôºå‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ê∂àË¥πËÄÖËÆ¢ÈòÖÂÜôÂÖ•ÁöÑÊï∞ÊçÆ„ÄÇ     partitionÔºöÂàÜÂå∫Ôºå‰∏ÄËà¨ÂàÜÂå∫‰∏çË¶ÅË∂ÖËøáÈõÜÁæ§ÁöÑÊú∫Âô®Êï∞ÈáèÔºà‰∏ÄËà¨‰∏∫3-10‰∏™ÔºâbrokerÊï∞‰∏éÂàÜÂå∫Êï∞Ê≤°ÊúâÂÖ≥Á≥ªÔºõ Âú®kafka‰∏≠ÔºåÊØè‰∏Ä‰∏™ÂàÜÂå∫‰ºöÊúâ‰∏Ä‰∏™ÁºñÂè∑ÔºöÁºñÂè∑‰ªé0ÂºÄÂßãÊØè‰∏Ä‰∏™ÂàÜÂå∫ÁöÑÊï∞ÊçÆÊòØÊúâÂ∫èÁöÑËØ¥Êòé-Êï∞ÊçÆÊòØÊúâÂ∫è Â¶Ç‰Ωï‰øùËØÅ‰∏Ä‰∏™‰∏ªÈ¢ò‰∏ãÁöÑÊï∞ÊçÆÊòØÊúâÂ∫èÁöÑÔºüÔºàÁîü‰∫ßÊòØ‰ªÄ‰πàÊ†∑ÁöÑÈ°∫Â∫èÔºåÈÇ£‰πàÊ∂àË¥πÁöÑÊó∂ÂÄô‰πüÊòØ‰ªÄ‰πàÊ†∑ÁöÑÈ°∫Â∫èÔºâ„ÄÇ  partitionÁöÑÂâØÊú¨Êï∞Ôºö‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÁ≠â‰∫ébrokerÁöÑ‰∏™Êï∞Ôºå‰∏Ä‰∏™brokerÊúçÂä°‰∏ãÔºå‰∏çÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™ÂâØÊú¨Âõ†Â≠êÔºåÂâØÊú¨Âõ†Â≠êÂ∫îËØ•Â∞è‰∫éÊàñÁ≠â‰∫éÂèØËµ¢ÂæóbrokerÊï∞„ÄÇ  kafkaÂàÜÂå∫‰∏éÊ∂àË¥πËÄÖÁªÑÁöÑÂÖ≥Á≥ªÔºöÊ∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑÊ∂àË¥πËÄÖÊï∞Â∫îËØ•Â∞è‰∫éÊàñÁ≠â‰∫éËØ•‰∏ªÈ¢ò‰∏ãÁöÑÂàÜÂå∫Êï∞„ÄÇkafkaÈ´òÂêûÂêê„ÄÅ‰ΩéÂª∂Êó∂„ÄÅÈ´òÊÄßËÉΩÁöÑÂÆûÁé∞ÂéüÁêÜÔºö‰∏Ä„ÄÅÈ°µÁºìÂ≠òÊäÄÊúØ+Á£ÅÁõòÈ°∫Â∫èÂÜô„ÄÇ‰∫å„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ„ÄÇhttps://blog.csdn.net/xiaoguozi0218/article/details/93310587KafkaÊ∂àÊÅØÁöÑÂàÜÂèë:ProducerÂÆ¢Êà∑Á´ØË¥üË¥£Ê∂àÊÅØÁöÑÂàÜÂèëkafkaÈõÜÁæ§‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™brokerÈÉΩÂèØ‰ª•ÂêëproducerÊèê‰æõmetadata‰ø°ÊÅØ,Ëøô‰∫õmetadata‰∏≠ÂåÖÂê´‚ÄùÈõÜÁæ§‰∏≠Â≠òÊ¥ªÁöÑserversÂàóË°®‚Äù/‚Äùpartitions leaderÂàóË°®‚ÄùÁ≠â‰ø°ÊÅØÔºõÂΩìproducerËé∑ÂèñÂà∞metadata‰ø°ÊÅØ‰πãÂêé, producerÂ∞Ü‰ºöÂíåTopic‰∏ãÊâÄÊúâpartitionleader‰øùÊåÅsocketËøûÊé•ÔºõÊ∂àÊÅØÁî±producerÁõ¥Êé•ÈÄöËøásocketÂèëÈÄÅÂà∞brokerÔºå‰∏≠Èó¥‰∏ç‰ºöÁªèËøá‰ªª‰Ωï‚ÄùË∑ØÁî±Â±Ç‚ÄùÔºå‰∫ãÂÆû‰∏äÔºåÊ∂àÊÅØË¢´Ë∑ØÁî±Âà∞Âì™‰∏™partition‰∏äÁî±producerÂÆ¢Êà∑Á´ØÂÜ≥ÂÆöÔºõÊØîÂ¶ÇÂèØ‰ª•ÈááÁî®‚Äùrandom‚Äù‚Äúkey-hash‚Äù‚ÄúËΩÆËØ¢‚ÄùÁ≠â,Â¶ÇÊûú‰∏Ä‰∏™topic‰∏≠ÊúâÂ§ö‰∏™partitions,ÈÇ£‰πàÂú®producerÁ´ØÂÆûÁé∞‚ÄùÊ∂àÊÅØÂùáË°°ÂàÜÂèë‚ÄùÊòØÂøÖË¶ÅÁöÑ„ÄÇÂú®producerÁ´ØÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠,ÂºÄÂèëËÄÖÂèØ‰ª•ÊåáÂÆöpartitionË∑ØÁî±ÁöÑÊñπÂºè„ÄÇkafkaÁöÑÊï∞ÊçÆ‰∏¢Â§±‰∏éÈáçÂ§çÔºöKafka ÁöÑÊØè‰∏ÄÊù°Ê∂àÊÅØÈÉΩÊúâ‰∏Ä‰∏™ÂÅèÁßªÈáèÂ±ûÊÄßÔºåËÆ∞ÂΩï‰∫ÜÂÖ∂Âú®ÂàÜÂå∫‰∏≠ÁöÑ‰ΩçÁΩÆÔºåÂÅèÁßªÈáèÊòØ‰∏Ä‰∏™ÂçïË∞ÉÈÄíÂ¢ûÁöÑÊï¥Êï∞„ÄÇÊ∂àË¥πËÄÖÈÄöËøáÂæÄ‰∏Ä‰∏™Âè´‰Ωú Ôºøconsumer_offset ÁöÑÁâπÊÆä‰∏ªÈ¢òÂèëÈÄÅÊ∂àÊÅØÔºåÊ∂àÊÅØÈáåÂåÖÂê´ÊØè‰∏™ÂàÜÂå∫ÁöÑÂÅèÁßªÈáè„ÄÇ Â¶ÇÊûúÊ∂àË¥πËÄÖ‰∏ÄÁõ¥Â§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåÈÇ£‰πàÂÅèÁßªÈáèÂ∞±Ê≤°Êúâ ‰ªÄ‰πàÁî®Â§Ñ„ÄÇ‰∏çËøáÔºåÂ¶ÇÊûúÊúâÊ∂àË¥πËÄÖÈÄÄÂá∫ÊàñËÄÖÊñ∞ÂàÜÂå∫Âä†ÂÖ•ÔºåÊ≠§Êó∂Â∞±‰ºöËß¶ÂèëÂÜçÂùáË°°„ÄÇÂÆåÊàêÂÜçÂùáË°°‰πãÂêéÔºåÊØè‰∏™Ê∂àË¥πËÄÖÂèØËÉΩÂàÜÈÖçÂà∞Êñ∞ÁöÑÂàÜÂå∫ÔºåËÄå‰∏çÊòØ‰πãÂâçÂ§ÑÁêÜÁöÑÈÇ£‰∏™„ÄÇ‰∏∫‰∫ÜËÉΩÂ§üÁªßÁª≠‰πãÂâçÁöÑÂ∑•‰ΩúÔºåÊ∂àË¥πËÄÖÈúÄË¶ÅËØªÂèñÊØè‰∏™ÂàÜÂå∫ÊúÄÂêé‰∏ÄÊ¨°Êèê‰∫§ÁöÑÂÅèÁßªÈáèÔºåÁÑ∂Âêé‰ªéÂÅèÁßªÈáèÊåáÂÆöÁöÑÂú∞ÊñπÁªßÁª≠Â§ÑÁêÜ„ÄÇ Âõ†‰∏∫Ëøô‰∏™ÂéüÂõ†ÔºåÊâÄ‰ª•Â¶ÇÊûú‰∏çËÉΩÊ≠£Á°ÆÊèê‰∫§ÂÅèÁßªÈáèÔºåÂ∞±ÂèØËÉΩ‰ºöÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±ÊàñËÄÖÈáçÂ§çÂá∫Áé∞Ê∂àË¥πÔºåÊØîÂ¶Ç‰∏ãÈù¢ÊÉÖÂÜµÔºö
</td>
      </tr>
      <tr>
        <td id="L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="LC52" class="blob-code blob-code-inner js-file-line">	* Â¶ÇÊûúÊèê‰∫§ÁöÑÂÅèÁßªÈáèÂ∞è‰∫éÂÆ¢Êà∑Á´ØÂ§ÑÁêÜÁöÑÊúÄÂêé‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂÅèÁßªÈáè ÔºåÈÇ£‰πàÂ§Ñ‰∫é‰∏§‰∏™ÂÅèÁßªÈáè‰πãÈó¥ÁöÑÊ∂àÊÅØÂ∞±‰ºöË¢´ÈáçÂ§çÊ∂àË¥πÔºõ
</td>
      </tr>
      <tr>
        <td id="L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="LC53" class="blob-code blob-code-inner js-file-line">	* Â¶ÇÊûúÊèê‰∫§ÁöÑÂÅèÁßªÈáèÂ§ß‰∫éÂÆ¢Êà∑Á´ØÂ§ÑÁêÜÁöÑÊúÄÂêé‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂÅèÁßªÈáèÔºåÈÇ£‰πàÂ§Ñ‰∫é‰∏§‰∏™ÂÅèÁßªÈáè‰πãÈó¥ÁöÑÊ∂àÊÅØÂ∞Ü‰ºö‰∏¢Â§±„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="LC54" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="LC55" class="blob-code blob-code-inner js-file-line">ack=0:Áîü‰∫ßËÄÖÊ∂àÊÅØÂèëÈÄÅÂêéÁ´ãÂç≥ËøîÂõûÔºå‰∏çÁî®Á°ÆËÆ§Ê∂àÊÅØÊòØÂê¶ÂèëÈÄÅÊàêÂäü„ÄÇÔºàÊÄßËÉΩÊúÄÂ•ΩÔºåÂèØÈù†ÊÄßÊúÄÂ∑Æ„ÄÇÂèëËøáÂéªÂ∞±ÂÆå‰∫ã‰∫ÜÔºå‰∏çÂÖ≥ÂøÉbrokerÊòØÂê¶Â§ÑÁêÜÊàêÂäüÔºåÂèØËÉΩ‰∏¢Êï∞ÊçÆ„ÄÇÔºâack=1:ÔºàÈªòËÆ§ÔºâÁîü‰∫ßËÄÖÊ∂àÊÅØÂèëÈÄÅÂêéÔºåÁ≠âÂæÖleaderÂÜôÂÖ•ÊàêÂäüËøîÂõûack,ÂàôÁîü‰∫ßËÄÖÊâçËøîÂõû„ÄÇÔºàÊÄßËÉΩÂíåÂèØÈù†ÊÄßÁõ∏ÂØπÂπ≥Ë°°„ÄÇÂΩìÂÜôLeaderÊàêÂäüÂêéÂ∞±ËøîÂõû,ÂÖ∂‰ªñÁöÑreplicaÈÉΩÊòØÈÄöËøáfetcherÂéªÂêåÊ≠•ÁöÑ,ÊâÄ‰ª•kafkaÊòØÂºÇÊ≠•ÂÜôÔºå‰∏ªÂ§áÂàáÊç¢ÂèØËÉΩ‰∏¢Êï∞ÊçÆ„ÄÇÔºâack=-1:Áîü‰∫ßËÄÖÊ∂àÊÅØÂèëÈÄÅÂêéÔºå‰∏ç‰ªÖleaderÂÜôÂÖ•ÊàêÂäüÔºåËøòÈúÄË¶ÅÂÖ∂‰ªñËäÇÁÇπÂàÜÂå∫ÂÜôÂÖ•ÊàêÂäüÂêéÔºåÁîü‰∫ßËÄÖÊâçËøîÂõû„ÄÇÔºàÊÄßËÉΩÊúÄÂ∑ÆÔºåÂèØÈù†ÊÄßÊúÄÂ•Ω„ÄÇË¶ÅÁ≠âÂà∞isrÈáåÊâÄÊúâÊú∫Âô®ÂêåÊ≠•ÊàêÂäüÔºåÊâçËÉΩËøîÂõûÊàêÂäüÔºåÂª∂Êó∂ÂèñÂÜ≥‰∫éÊúÄÊÖ¢ÁöÑÊú∫Âô®„ÄÇÂº∫‰∏ÄËá¥Ôºå‰∏ç‰ºö‰∏¢Êï∞ÊçÆ„ÄÇÔºâÊ≥®ÊÑèÔºöËã•ack=-1Êó∂ËøòÊúâÊï∞ÊçÆ‰∏¢Â§±ÊÉÖÂÜµÔºåÁ°ÆËÆ§ÊòØÂê¶ÈõÜÁæ§‰∏≠Âè™Êúâ‰∏ÄÂè∞leader„ÄÇkafka‰∏≠ÁöÑCAPÈóÆÈ¢òÔºö ÂàÜÂ∏ÉÂºèÁ≥ªÁªüË¶ÅÈÅµÂÆàcapÂéüÂàôÔºåÂç≥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÊï∞ÊçÆÂèØÁî®ÊÄßÔºåÂíåÂàÜÂå∫ÂÆπÈîôÊÄß„ÄÇ  ÂÖ∂‰∏≠kafkaÂàÜÂå∫ÂÆπÈîôÊÄß‰∏∫‰∫ÜËß£ÂÜ≥kafka‰∏≠ÁöÑÂâØÊú¨ÂàÜÂå∫ÂΩì‰∏≠ÁöÑÊï∞ÊçÆ‰∏éleaderÂΩì‰∏≠ÁöÑÊï∞ÊçÆÂ≠òÂú®Â∑ÆÂà´ÁöÑÈóÆÈ¢òÔºö    ‰ΩøÁî®‰∫ÜISRÔºàÂü∫Êú¨ÂêåÊ≠•ÂàóË°®ÔºâÁöÑÂêåÊ≠•Á≠ñÁï•ÔºöÂÜ≥ÂÆöÂì™‰∫õÂâØÊú¨ÂàÜÂå∫ÊòØÂèØÁî®ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÂèØ‰ª•Â∞ÜleaderÂàÜÂå∫ÈáåÈù¢ÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞ÂâØÊú¨ÂàÜÂå∫ÈáåÈù¢Âéª„ÄÇÂÜ≥ÂÆö‰∏Ä‰∏™ÂâØÊú¨ÂàÜÂå∫ÊòØÂê¶ÂèØÁî®ÁöÑÊù°‰ª∂Êúâ‰∏§‰∏™Ôºö    
</td>
      </tr>
      <tr>
        <td id="L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="LC56" class="blob-code blob-code-inner js-file-line">	* replica.lag.time.max.ms=10000     ÂâØÊú¨ÂàÜÂå∫‰∏é‰∏ªÂàÜÂå∫ÂøÉË∑≥Êó∂Èó¥Âª∂Ëøü
</td>
      </tr>
      <tr>
        <td id="L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="LC57" class="blob-code blob-code-inner js-file-line">	*       replica.lag.max.messages=4000    ÂâØÊú¨ÂàÜÂå∫‰∏é‰∏ªÂàÜÂå∫Ê∂àÊÅØÂêåÊ≠•ÊúÄÂ§ßÂ∑Æ
</td>
      </tr>
      <tr>
        <td id="L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="LC58" class="blob-code blob-code-inner js-file-line">	* ISRÔºàIn-Sync ReplicasÔºâÔºåÂâØÊú¨ÂêåÊ≠•ÈòüÂàó„ÄÇISR‰∏≠ÂåÖÊã¨LeaderÂíåFollower„ÄÇÂ¶ÇÊûúLeaderËøõÁ®ãÊåÇÊéâÔºå‰ºöÂú®ISRÈòüÂàó‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÊúçÂä°‰Ωú‰∏∫Êñ∞ÁöÑLeader„ÄÇÊúâreplica.lag.max.messagesÔºàÂª∂ËøüÊù°Êï∞ÔºâÂíåreplica.lag.time.max.msÔºàÂª∂ËøüÊó∂Èó¥Ôºâ‰∏§‰∏™ÂèÇÊï∞ÂÜ≥ÂÆö‰∏ÄÂè∞ÊúçÂä°ÊòØÂê¶ÂèØ‰ª•Âä†ÂÖ•ISRÂâØÊú¨ÈòüÂàóÔºåÂú®0.10ÁâàÊú¨ÁßªÈô§‰∫Üreplica.lag.max.messagesÂèÇÊï∞ÔºåÈò≤Ê≠¢ÊúçÂä°È¢ëÁπÅÁöÑËøõÂéªÈòüÂàó„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="LC59" class="blob-code blob-code-inner js-file-line">	* ‰ªªÊÑè‰∏Ä‰∏™Áª¥Â∫¶Ë∂ÖËøáÈòàÂÄºÈÉΩ‰ºöÊääFollowerÂâîÈô§Âá∫ISRÔºåÂ≠òÂÖ•OSRÔºàOutof-Sync ReplicasÔºâÂàóË°®ÔºåÊñ∞Âä†ÂÖ•ÁöÑFollower‰πü‰ºöÂÖàÂ≠òÊîæÂú®OSR‰∏≠„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="LC60" class="blob-code blob-code-inner js-file-line">	* ÊØè‰∏™ÂàÜÂå∫ÈÉΩÊúâ‰∏Ä‰∏™ ISR(in-sync Replica) ÂàóË°®ÔºåÁî®‰∫éÁª¥Êä§ÊâÄÊúâÂêåÊ≠•ÁöÑ„ÄÅÂèØÁî®ÁöÑÂâØÊú¨„ÄÇÈ¶ñÈ¢ÜÂâØÊú¨ÂøÖÁÑ∂ÊòØÂêåÊ≠•ÂâØÊú¨ÔºåËÄåÂØπ‰∫éË∑üÈöèËÄÖÂâØÊú¨Êù•ËØ¥ÔºåÂÆÉÈúÄË¶ÅÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂ÊâçËÉΩË¢´ËÆ§‰∏∫ÊòØÂêåÊ≠•ÂâØÊú¨Ôºö
</td>
      </tr>
      <tr>
        <td id="L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="LC61" class="blob-code blob-code-inner js-file-line">	* ‰∏é Zookeeper ‰πãÈó¥Êúâ‰∏Ä‰∏™Ê¥ªË∑ÉÁöÑ‰ºöËØùÔºåÂç≥ÂøÖÈ°ªÂÆöÊó∂Âêë Zookeeper ÂèëÈÄÅÂøÉË∑≥Ôºõ
</td>
      </tr>
      <tr>
        <td id="L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="LC62" class="blob-code blob-code-inner js-file-line">	* Âú®ËßÑÂÆöÁöÑÊó∂Èó¥ÂÜÖ‰ªéÈ¶ñÈ¢ÜÂâØÊú¨ÈÇ£Èáå‰ΩéÂª∂ËøüÂú∞Ëé∑ÂèñËøáÊ∂àÊÅØ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="LC63" class="blob-code blob-code-inner js-file-line">	* Â¶ÇÊûúÂâØÊú¨‰∏çÊª°Ë∂≥‰∏äÈù¢Êù°‰ª∂ÁöÑËØùÔºåÂ∞±‰ºöË¢´‰ªé ISR ÂàóË°®‰∏≠ÁßªÈô§ÔºåÁõ¥Âà∞Êª°Ë∂≥Êù°‰ª∂Êâç‰ºöË¢´ÂÜçÊ¨°Âä†ÂÖ•„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="LC64" class="blob-code blob-code-inner js-file-line">	* ËøôÈáåÁªôÂá∫‰∏Ä‰∏™‰∏ªÈ¢òÂàõÂª∫ÁöÑÁ§∫‰æãÔºö‰ΩøÁî® --replication-factor ÊåáÂÆöÂâØÊú¨Á≥ªÊï∞‰∏∫ 3ÔºåÂàõÂª∫ÊàêÂäüÂêé‰ΩøÁî® --describe ÂëΩ‰ª§ÂèØ‰ª•ÁúãÂà∞ÂàÜÂå∫ 0 ÁöÑÊúâ 0,1,2 ‰∏â‰∏™ÂâØÊú¨Ôºå‰∏î‰∏â‰∏™ÂâØÊú¨ÈÉΩÂú® ISR ÂàóË°®‰∏≠ÔºåÂÖ∂‰∏≠ 1 ‰∏∫È¶ñÈ¢ÜÂâØÊú¨„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="LC65" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="LC66" class="blob-code blob-code-inner js-file-line">kafkaÊåÇÊéâÔºö
</td>
      </tr>
      <tr>
        <td id="L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="LC67" class="blob-code blob-code-inner js-file-line">	1. FlumeËÆ∞ÂΩï
</td>
      </tr>
      <tr>
        <td id="L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="LC68" class="blob-code blob-code-inner js-file-line">	2. Êó•ÂøóÊúâËÆ∞ÂΩï
</td>
      </tr>
      <tr>
        <td id="L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="LC69" class="blob-code blob-code-inner js-file-line">	3. Áü≠ÊúüÊ≤°‰∫ã
</td>
      </tr>
      <tr>
        <td id="L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="LC70" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="LC71" class="blob-code blob-code-inner js-file-line">ConsumerÁöÑË¥üËΩΩÂùáË°°:ÂΩì‰∏Ä‰∏™group‰∏≠,ÊúâconsumerÂä†ÂÖ•ÊàñËÄÖÁ¶ªÂºÄÊó∂,‰ºöËß¶ÂèëpartitionsÂùáË°°.ÂùáË°°ÁöÑÊúÄÁªàÁõÆÁöÑ,ÊòØÊèêÂçátopicÁöÑÂπ∂ÂèëÊ∂àË¥πËÉΩÂäõÔºåÊ≠•È™§Â¶Ç‰∏ãÔºöÂÅáÂ¶Çtopic1,ÂÖ∑ÊúâÂ¶Ç‰∏ãpartitions: P0,P1,P2,P3Âä†ÂÖ•group‰∏≠,ÊúâÂ¶Ç‰∏ãconsumer: C1,C2È¶ñÂÖàÊ†πÊçÆpartitionÁ¥¢ÂºïÂè∑ÂØπpartitionsÊéíÂ∫è: P0,P1,P2,P3Ê†πÊçÆconsumer.idÊéíÂ∫è: C0,C1ËÆ°ÁÆóÂÄçÊï∞: M = [P0,P1,P2,P3].size / [C0,C1].size,Êú¨‰æãÂÄºM=2(Âêë‰∏äÂèñÊï¥)ÁÑ∂Âêé‰æùÊ¨°ÂàÜÈÖçpartitions: C0 = [P0,P1],C1=[P2,P3],Âç≥Ci = [P(i * M),P((i + 1)M -1)]KafkaÊ∂àÊÅØÊï∞ÊçÆÁßØÂéãÔºåKafkaÊ∂àË¥πËÉΩÂäõ‰∏çË∂≥ÊÄé‰πàÂ§ÑÁêÜÔºö
</td>
      </tr>
      <tr>
        <td id="L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="LC72" class="blob-code blob-code-inner js-file-line">	1. Â¶ÇÊûúÊòØKafkaÊ∂àË¥πËÉΩÂäõ‰∏çË∂≥ÔºåÂàôÂèØ‰ª•ËÄÉËôëÂ¢ûÂä†TopicÁöÑÂàÜÂå∫Êï∞ÔºåÂπ∂‰∏îÂêåÊó∂ÊèêÂçáÊ∂àË¥πÁªÑÁöÑÊ∂àË¥πËÄÖÊï∞ÈáèÔºåÊ∂àË¥πËÄÖÊï∞=ÂàÜÂå∫Êï∞„ÄÇÔºà‰∏§ËÄÖÁº∫‰∏Ä‰∏çÂèØÔºâ
</td>
      </tr>
      <tr>
        <td id="L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="LC73" class="blob-code blob-code-inner js-file-line">	2. Â¶ÇÊûúÊòØ‰∏ãÊ∏∏ÁöÑÊï∞ÊçÆÂ§ÑÁêÜ‰∏çÂèäÊó∂ÔºöÊèêÈ´òÊØèÊâπÊ¨°ÊãâÂèñÁöÑÊï∞Èáè„ÄÇÊâπÊ¨°ÊãâÂèñÊï∞ÊçÆËøáÂ∞ëÔºàÊãâÂèñÊï∞ÊçÆ/Â§ÑÁêÜÊó∂Èó¥&lt;Áîü‰∫ßÈÄüÂ∫¶ÔºâÔºå‰ΩøÂ§ÑÁêÜÁöÑÊï∞ÊçÆÂ∞è‰∫éÁîü‰∫ßÁöÑÊï∞ÊçÆÔºå‰πü‰ºöÈÄ†ÊàêÊï∞ÊçÆÁßØÂéã„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="LC74" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="LC75" class="blob-code blob-code-inner js-file-line">kafkaÁöÑÂÜçÂπ≥Ë°°Êú∫Âà∂ÔºöÂÜçÂπ≥Ë°°Â∞±ÊòØkafka consumerÊâÄËÆ¢ÈòÖÁöÑtopicÂèëÁîüÂèòÂåñÊó∂ÂèëÁîüÁöÑ‰∏ÄÁßçÂàÜÂå∫ÈáçÂàÜÈÖçÊú∫Âà∂Ôºå‰∏ÄËà¨Êúâ‰∏âÁßçÊÉÖÂÜµ‰ºöËß¶Âèë ÂÜçÂπ≥Ë°°„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="LC76" class="blob-code blob-code-inner js-file-line">	* consumer group‰∏≠ÁöÑÊñ∞Â¢ûÊàñÂà†Èô§Êüê‰∏™consumerÔºåÂØºËá¥ÂÖ∂ÊâÄÊ∂àË¥πÁöÑÂàÜÂå∫ÈúÄË¶ÅÂàÜÈÖçÂà∞ÁªÑÂÜÖÂÖ∂‰ªñÁöÑconsumer‰∏äÔºõ
</td>
      </tr>
      <tr>
        <td id="L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="LC77" class="blob-code blob-code-inner js-file-line">	* consumerËÆ¢ÈòÖÁöÑtopicÂèëÁîüÂèòÂåñÔºåÊØîÂ¶ÇËÆ¢ÈòÖÁöÑtopicÈááÁî®ÁöÑÊòØÊ≠£ÂàôË°®ËææÂºèÁöÑÂΩ¢ÂºèÔºåÂ¶Çtest-*Ê≠§Êó∂Â¶ÇÊûúÊúâ‰∏Ä‰∏™Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™topic test-userÔºåÈÇ£‰πàËøô‰∏™topicÁöÑÊâÄÊúâÂàÜÂå∫‰πüÊòØ‰ºöËá™Âä®ÂàÜÈÖçÁªôÂΩìÂâçÁöÑconsumerÁöÑÔºåÊ≠§Êó∂Â∞±‰ºöÂèëÁîüÂÜçÂπ≥Ë°°Ôºõ
</td>
      </tr>
      <tr>
        <td id="L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="LC78" class="blob-code blob-code-inner js-file-line">	* consumerÊâÄËÆ¢ÈòÖÁöÑtopicÂèëÁîü‰∫ÜÊñ∞Â¢ûÂàÜÂå∫ÁöÑË°å‰∏∫ÔºåÈÇ£‰πàÊñ∞Â¢ûÁöÑÂàÜÂå∫Â∞±‰ºöÂàÜÈÖçÁªôÂΩìÂâçÁöÑconsumerÔºåÊ≠§Êó∂Â∞±‰ºöËß¶ÂèëÂÜçÂπ≥Ë°°„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="LC79" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="LC80" class="blob-code blob-code-inner js-file-line"> KafkaÊèê‰æõÁöÑÂÜçÂπ≥Ë°°Á≠ñÁï•‰∏ªË¶ÅÊúâ‰∏âÁßçÔºöRound RobinÔºåRangeÂíåStickyÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØRange„ÄÇËøô‰∏âÁßçÂàÜÈÖçÁ≠ñÁï•ÁöÑ‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÔºö    
</td>
      </tr>
      <tr>
        <td id="L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="LC81" class="blob-code blob-code-inner js-file-line">	* Round RobinÔºö‰ºöÈááÁî®ËΩÆËØ¢ÁöÑÊñπÂºèÂ∞ÜÂΩìÂâçÊâÄÊúâÁöÑÂàÜÂå∫‰æùÊ¨°ÂàÜÈÖçÁªôÊâÄÊúâÁöÑconsumerÔºõ
</td>
      </tr>
      <tr>
        <td id="L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="LC82" class="blob-code blob-code-inner js-file-line">	* RangeÔºöÈ¶ñÂÖà‰ºöËÆ°ÁÆóÊØè‰∏™consumerÂèØ‰ª•Ê∂àË¥πÁöÑÂàÜÂå∫‰∏™Êï∞ÔºåÁÑ∂ÂêéÊåâÁÖßÈ°∫Â∫èÂ∞ÜÊåáÂÆö‰∏™Êï∞ËåÉÂõ¥ÁöÑÂàÜÂå∫ÂàÜÈÖçÁªôÂêÑ‰∏™consumerÔºõ
</td>
      </tr>
      <tr>
        <td id="L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="LC83" class="blob-code blob-code-inner js-file-line">	* StickyÔºöËøôÁßçÂàÜÂå∫Á≠ñÁï•ÊòØÊúÄÊñ∞ÁâàÊú¨‰∏≠Êñ∞Â¢ûÁöÑ‰∏ÄÁßçÁ≠ñÁï•ÔºåÂÖ∂‰∏ªË¶ÅÂÆûÁé∞‰∫Ü‰∏§‰∏™ÁõÆÁöÑÔºö
</td>
      </tr>
      <tr>
        <td id="L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="LC84" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="LC85" class="blob-code blob-code-inner js-file-line">		* Â∞ÜÁé∞ÊúâÁöÑÂàÜÂå∫Â∞ΩÂèØËÉΩÂùáË°°ÁöÑÂàÜÈÖçÁªôÂêÑ‰∏™consumerÔºåÂ≠òÂú®Ê≠§ÁõÆÁöÑÁöÑÂéüÂõ†Âú®‰∫éRound RobinÂíåRangeÂàÜÈÖçÁ≠ñÁï•ÂÆûÈôÖ‰∏äÈÉΩ‰ºöÂØºËá¥ÊüêÂá†‰∏™consumerÊâøËΩΩËøáÂ§öÁöÑÂàÜÂå∫Ôºå‰ªéËÄåÂØºËá¥Ê∂àË¥πÂéãÂäõ‰∏çÂùáË°°Ôºõ
</td>
      </tr>
      <tr>
        <td id="L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="LC86" class="blob-code blob-code-inner js-file-line">		* Â¶ÇÊûúÂèëÁîüÂÜçÂπ≥Ë°°ÔºåÈÇ£‰πàÈáçÊñ∞ÂàÜÈÖç‰πãÂêéÂú®Ââç‰∏ÄÁÇπÁöÑÂü∫Á°Ä‰∏ä‰ºöÂ∞ΩÂäõ‰øùËØÅÂΩìÂâçÊú™ÂÆïÊú∫ÁöÑconsumerÊâÄ
</td>
      </tr>
      <tr>
        <td id="L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="LC87" class="blob-code blob-code-inner js-file-line">		* Ê∂àË¥πÁöÑÂàÜÂå∫‰∏ç‰ºöË¢´ÂàÜÈÖçÁªôÂÖ∂‰ªñÁöÑconsumer‰∏äÔºõ
</td>
      </tr>
      <tr>
        <td id="L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="LC88" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="LC89" class="blob-code blob-code-inner js-file-line">consumerÂ¶Ç‰ΩïÈÄöËøá offsetÂØªÊâæÊï∞ÊçÆÔºöÂ¶ÇÊûúconsumerË¶ÅÊâæoffsetÊòØ1008ÁöÑÊ∂àÊÅØÔºåÈÇ£‰πàÔºå1ÔºåÊåâÁÖß‰∫åÂàÜÊ≥ïÊâæÂà∞Â∞è‰∫é1008ÁöÑsegmentÔºå‰πüÂ∞±ÊòØ00000000000000001000.logÂíå00000000000000001000.index2ÔºåÁî®ÁõÆÊ†áoffsetÂáèÂéªÊñá‰ª∂Âêç‰∏≠ÁöÑoffsetÂæóÂà∞Ê∂àÊÅØÂú®Ëøô‰∏™segment‰∏≠ÁöÑÂÅèÁßªÈáè„ÄÇ‰πüÂ∞±ÊòØ1008-1000=8ÔºåÂÅèÁßªÈáèÊòØ8„ÄÇ3ÔºåÂÜçÊ¨°Áî®‰∫åÂàÜÊ≥ïÂú®indexÊñá‰ª∂‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑÁ¥¢ÂºïÔºå‰πüÂ∞±ÊòØÁ¨¨‰∏âË°å6,45„ÄÇ4ÔºåÂà∞logÊñá‰ª∂‰∏≠Ôºå‰ªéÂÅèÁßªÈáè45ÁöÑ‰ΩçÁΩÆÂºÄÂßãÔºàÂÆûÈôÖ‰∏äËøôÈáåÁöÑÊ∂àÊÅØoffsetÊòØ1006ÔºâÔºåÈ°∫Â∫èÊü•ÊâæÔºåÁõ¥Âà∞ÊâæÂà∞offset‰∏∫1008ÁöÑÊ∂àÊÅØ„ÄÇÊü•ÊâæÊúüÈó¥kafkaÊòØÊåâÁÖßlogÁöÑÂ≠òÂÇ®Ê†ºÂºèÊù•Âà§Êñ≠‰∏ÄÊù°Ê∂àÊÅØÊòØÂê¶ÁªìÊùüÁöÑ„ÄÇkafkaÂ¶Ç‰ΩïÊ∏ÖÁêÜËøáÊúüÊï∞ÊçÆÔºö
</td>
      </tr>
      <tr>
        <td id="L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="LC90" class="blob-code blob-code-inner js-file-line">	* Âà†Èô§log.cleanup.policy=deleteÂêØÁî®Âà†Èô§Á≠ñÁï•
</td>
      </tr>
      <tr>
        <td id="L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="LC91" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="LC92" class="blob-code blob-code-inner js-file-line">		* Áõ¥Êé•Âà†Èô§ÔºåÂà†Èô§ÂêéÁöÑÊ∂àÊÅØ‰∏çÂèØÊÅ¢Â§ç„ÄÇÂèØÈÖçÁΩÆ‰ª•‰∏ã‰∏§‰∏™Á≠ñÁï•Ôºö Ê∏ÖÁêÜË∂ÖËøáÊåáÂÆöÊó∂Èó¥Ê∏ÖÁêÜÔºölog.retention.hours=16
</td>
      </tr>
      <tr>
        <td id="L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="LC93" class="blob-code blob-code-inner js-file-line">		* Ë∂ÖËøáÊåáÂÆöÂ§ßÂ∞èÂêéÔºåÂà†Èô§ÊóßÁöÑÊ∂àÊÅØÔºö log.retention.bytes=1073741824 ‰∏∫‰∫ÜÈÅøÂÖçÂú®Âà†Èô§Êó∂ÈòªÂ°ûËØªÊìç‰ΩúÔºåÈááÁî®‰∫Ücopy-on-writeÂΩ¢ÂºèÁöÑÂÆûÁé∞ÔºåÂà†Èô§Êìç‰ΩúËøõË°åÊó∂ÔºåËØªÂèñÊìç‰ΩúÁöÑ‰∫åÂàÜÊü•ÊâæÂäüËÉΩÂÆûÈôÖÊòØÂú®‰∏Ä‰∏™ÈùôÊÄÅÁöÑÂø´ÁÖßÂâØÊú¨‰∏äËøõË°åÁöÑÔºåËøôÁ±ª‰ºº‰∫éJavaÁöÑCopyOnWriteArrayList„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="LC94" class="blob-code blob-code-inner js-file-line">	* ÂéãÁº©Â∞ÜÊï∞ÊçÆÂéãÁº©ÔºåÂè™‰øùÁïôÊØè‰∏™keyÊúÄÂêé‰∏Ä‰∏™ÁâàÊú¨ÁöÑÊï∞ÊçÆ„ÄÇ È¶ñÂÖàÂú®brokerÁöÑÈÖçÁΩÆ‰∏≠ËÆæÁΩÆlog.cleaner.enable=trueÂêØÁî®cleanerÔºåËøô‰∏™ÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑ„ÄÇ Âú®topicÁöÑÈÖçÁΩÆ‰∏≠ËÆæÁΩÆlog.cleanup.policy=compactÂêØÁî®ÂéãÁº©Á≠ñÁï•„ÄÇÂ¶Ç‰∏äÂõæÔºåÂú®Êï¥‰∏™Êï∞ÊçÆÊµÅ‰∏≠ÔºåÊØè‰∏™KeyÈÉΩÊúâÂèØËÉΩÂá∫Áé∞Â§öÊ¨°ÔºåÂéãÁº©Êó∂Â∞ÜÊ†πÊçÆKeyÂ∞ÜÊ∂àÊÅØËÅöÂêàÔºåÂè™‰øùÁïôÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞Êó∂ÁöÑÊï∞ÊçÆ„ÄÇËøôÊ†∑ÔºåÊó†ËÆ∫‰ªÄ‰πàÊó∂ÂÄôÊ∂àË¥πÊ∂àÊÅØÔºåÈÉΩËÉΩÊãøÂà∞ÊØè‰∏™KeyÁöÑÊúÄÊñ∞ÁâàÊú¨ÁöÑÊï∞ÊçÆ„ÄÇ ÂéãÁº©ÂêéÁöÑoffsetÂèØËÉΩÊòØ‰∏çËøûÁª≠ÁöÑÔºåÊØîÂ¶Ç‰∏äÂõæ‰∏≠Ê≤°Êúâ5Âíå7ÔºåÂõ†‰∏∫Ëøô‰∫õoffsetÁöÑÊ∂àÊÅØË¢´merge‰∫ÜÔºåÂΩì‰ªéËøô‰∫õoffsetÊ∂àË¥πÊ∂àÊÅØÊó∂ÔºåÂ∞Ü‰ºöÊãøÂà∞ÊØîËøô‰∏™offsetÂ§ßÁöÑoffsetÂØπÂ∫îÁöÑÊ∂àÊÅØÔºåÊØîÂ¶ÇÔºåÂΩìËØïÂõæËé∑Âèñoffset‰∏∫5ÁöÑÊ∂àÊÅØÊó∂ÔºåÂÆûÈôÖ‰∏ä‰ºöÊãøÂà∞offset‰∏∫6ÁöÑÊ∂àÊÅØÔºåÂπ∂‰ªéËøô‰∏™‰ΩçÁΩÆÂºÄÂßãÊ∂àË¥π„ÄÇ ËøôÁßçÁ≠ñÁï•Âè™ÈÄÇÂêàÁâπ‰øóÂú∫ÊôØÔºåÊØîÂ¶ÇÊ∂àÊÅØÁöÑkeyÊòØÁî®Êà∑IDÔºåÊ∂àÊÅØ‰ΩìÊòØÁî®Êà∑ÁöÑËµÑÊñôÔºåÈÄöËøáËøôÁßçÂéãÁº©Á≠ñÁï•ÔºåÊï¥‰∏™Ê∂àÊÅØÈõÜÈáåÂ∞±‰øùÂ≠ò‰∫ÜÊâÄÊúâÁî®Êà∑ÊúÄÊñ∞ÁöÑËµÑÊñô„ÄÇ ÂéãÁº©Á≠ñÁï•ÊîØÊåÅÂà†Èô§ÔºåÂΩìÊüê‰∏™KeyÁöÑÊúÄÊñ∞ÁâàÊú¨ÁöÑÊ∂àÊÅØÊ≤°ÊúâÂÜÖÂÆπÊó∂ÔºåËøô‰∏™KeyÂ∞ÜË¢´Âà†Èô§ÔºåËøô‰πüÁ¨¶Âêà‰ª•‰∏äÈÄªËæë„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="LC95" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="LC96" class="blob-code blob-code-inner js-file-line">zookeeperÂú®kafka‰∏≠ÁöÑ‰ΩúÁî®Ôºö
</td>
      </tr>
      <tr>
        <td id="L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="LC97" class="blob-code blob-code-inner js-file-line">	1. kafkaÁöÑÂÖÉÊï∞ÊçÆÈÉΩÂ≠òÊîæÂú®zk‰∏äÈù¢,Áî±zkÊù•ÁÆ°ÁêÜ
</td>
      </tr>
      <tr>
        <td id="L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="LC98" class="blob-code blob-code-inner js-file-line">	2. 0.8‰πãÂâçÁâàÊú¨ÁöÑkafka, consumerÁöÑÊ∂àË¥πÁä∂ÊÄÅÔºågroupÁöÑÁÆ°ÁêÜ‰ª•Âèä offsetÁöÑÂÄºÈÉΩÊòØÁî±zkÁÆ°ÁêÜÁöÑ,Áé∞Âú®offset‰ºö‰øùÂ≠òÂú®Êú¨Âú∞topicÊñá‰ª∂Èáå
</td>
      </tr>
      <tr>
        <td id="L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="LC99" class="blob-code blob-code-inner js-file-line">	3. Ë¥üË¥£borkerÁöÑleadÈÄâ‰∏æÂíåÁÆ°ÁêÜ
</td>
      </tr>
      <tr>
        <td id="L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="LC100" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="LC101" class="blob-code blob-code-inner js-file-line">kafkaÈõÜÁæ§ÔºöKafka ‰ΩøÁî® Zookeeper Êù•Áª¥Êä§ÈõÜÁæ§ÊàêÂëò (brokers) ÁöÑ‰ø°ÊÅØ„ÄÇÊØè‰∏™ broker ÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜ broker.idÔºåÁî®‰∫éÊ†áËØÜËá™Â∑±Âú®ÈõÜÁæ§‰∏≠ÁöÑË∫´‰ªΩÔºåÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂ server.properties ‰∏≠ËøõË°åÈÖçÁΩÆÔºåÊàñËÄÖÁî±Á®ãÂ∫èËá™Âä®ÁîüÊàê„ÄÇ‰∏ãÈù¢ÊòØ Kafka brokers ÈõÜÁæ§Ëá™Âä®ÂàõÂª∫ÁöÑËøáÁ®ãÔºö
</td>
      </tr>
      <tr>
        <td id="L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="LC102" class="blob-code blob-code-inner js-file-line">	* ÊØè‰∏Ä‰∏™ broker ÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöÂú® Zookeeper ÁöÑ /brokers/ids Ë∑ØÂæÑ‰∏ãÂàõÂª∫‰∏Ä‰∏™ ‰∏¥Êó∂ËäÇÁÇπÔºåÂπ∂Â∞ÜËá™Â∑±ÁöÑ broker.id ÂÜôÂÖ•Ôºå‰ªéËÄåÂ∞ÜËá™Ë∫´Ê≥®ÂÜåÂà∞ÈõÜÁæ§Ôºõ
</td>
      </tr>
      <tr>
        <td id="L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="LC103" class="blob-code blob-code-inner js-file-line">	* ÂΩìÊúâÂ§ö‰∏™ broker Êó∂ÔºåÊâÄÊúâ broker ‰ºöÁ´û‰∫âÊÄßÂú∞Âú® Zookeeper ‰∏äÂàõÂª∫ /controller ËäÇÁÇπÔºåÁî±‰∫é Zookeeper ‰∏äÁöÑËäÇÁÇπ‰∏ç‰ºöÈáçÂ§çÔºåÊâÄ‰ª•ÂøÖÁÑ∂Âè™‰ºöÊúâ‰∏Ä‰∏™ broker ÂàõÂª∫ÊàêÂäüÔºåÊ≠§Êó∂ËØ• broker Áß∞‰∏∫ controller broker„ÄÇÂÆÉÈô§‰∫ÜÂÖ∑Â§áÂÖ∂‰ªñ broker ÁöÑÂäüËÉΩÂ§ñÔºåËøòË¥üË¥£ÁÆ°ÁêÜ‰∏ªÈ¢òÂàÜÂå∫ÂèäÂÖ∂ÂâØÊú¨ÁöÑÁä∂ÊÄÅ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="LC104" class="blob-code blob-code-inner js-file-line">	* ÂΩì broker Âá∫Áé∞ÂÆïÊú∫ÊàñËÄÖ‰∏ªÂä®ÈÄÄÂá∫‰ªéËÄåÂØºËá¥ÂÖ∂ÊåÅÊúâÁöÑ Zookeeper ‰ºöËØùË∂ÖÊó∂Êó∂Ôºå‰ºöËß¶ÂèëÊ≥®ÂÜåÂú® Zookeeper ‰∏äÁöÑ watcher ‰∫ã‰ª∂ÔºåÊ≠§Êó∂ Kafka ‰ºöËøõË°åÁõ∏Â∫îÁöÑÂÆπÈîôÂ§ÑÁêÜÔºõÂ¶ÇÊûúÂÆïÊú∫ÁöÑÊòØ controller broker Êó∂ÔºåËøò‰ºöËß¶ÂèëÊñ∞ÁöÑ controller ÈÄâ‰∏æ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="LC105" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="LC106" class="blob-code blob-code-inner js-file-line">hbaseÊû∂ÊûÑÔºö1„ÄÅHMasterÂäüËÉΩÔºö1) ÁõëÊéßRegionServer2) Â§ÑÁêÜRegionServerÊïÖÈöúËΩ¨Áßª3) Â§ÑÁêÜÂÖÉÊï∞ÊçÆÁöÑÂèòÊõ¥4) Â§ÑÁêÜregionÁöÑÂàÜÈÖçÊàñÁßªÈô§5) Âú®Á©∫Èó≤Êó∂Èó¥ËøõË°åÊï∞ÊçÆÁöÑË¥üËΩΩÂùáË°°6) ÈÄöËøáZookeeperÂèëÂ∏ÉËá™Â∑±ÁöÑ‰ΩçÁΩÆÁªôÂÆ¢Êà∑Á´Ø2„ÄÅRegionServerÂäüËÉΩÔºö1) Ë¥üË¥£Â≠òÂÇ®HBaseÁöÑÂÆûÈôÖÊï∞ÊçÆ2) Â§ÑÁêÜÂàÜÈÖçÁªôÂÆÉÁöÑRegion3) Âà∑Êñ∞ÁºìÂ≠òÂà∞HDFS4) Áª¥Êä§HLog5) ÊâßË°åÂéãÁº©6) Ë¥üË¥£Â§ÑÁêÜRegionÂàÜÁâá3„ÄÅZookeeper
</td>
      </tr>
      <tr>
        <td id="L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="LC107" class="blob-code blob-code-inner js-file-line">	1. ‰øùËØÅ‰ªª‰ΩïÊó∂ÂÄôÔºåÈõÜÁæ§‰∏≠Âè™Êúâ‰∏Ä‰∏™ MasterÔºõ
</td>
      </tr>
      <tr>
        <td id="L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="LC108" class="blob-code blob-code-inner js-file-line">	2. Â≠òË¥ÆÊâÄÊúâ Region ÁöÑÂØªÂùÄÂÖ•Âè£Ôºõ
</td>
      </tr>
      <tr>
        <td id="L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="LC109" class="blob-code blob-code-inner js-file-line">	3. ÂÆûÊó∂ÁõëÊéß Region Server ÁöÑÁä∂ÊÄÅÔºåÂ∞Ü Region Server ÁöÑ‰∏äÁ∫øÂíå‰∏ãÁ∫ø‰ø°ÊÅØÂÆûÊó∂ÈÄöÁü•Áªô MasterÔºõ
</td>
      </tr>
      <tr>
        <td id="L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="LC110" class="blob-code blob-code-inner js-file-line">	4. Â≠òÂÇ® HBase ÁöÑ SchemaÔºåÂåÖÊã¨ÊúâÂì™‰∫õ TableÔºåÊØè‰∏™ Table ÊúâÂì™‰∫õ Column Family Á≠â‰ø°ÊÅØ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="LC111" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="LC112" class="blob-code blob-code-inner js-file-line">3.2 ÁªÑ‰ª∂Èó¥ÁöÑÂçè‰ΩúHBase ‰ΩøÁî® ZooKeeper ‰Ωú‰∏∫ÂàÜÂ∏ÉÂºèÂçèË∞ÉÊúçÂä°Êù•Áª¥Êä§ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ„ÄÇ Zookeeper Ë¥üË¥£Áª¥Êä§ÂèØÁî®ÊúçÂä°ÂàóË°®ÔºåÂπ∂Êèê‰æõÊúçÂä°ÊïÖÈöúÈÄöÁü•Á≠âÊúçÂä°Ôºö
</td>
      </tr>
      <tr>
        <td id="L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="LC113" class="blob-code blob-code-inner js-file-line">	* ÊØè‰∏™ Region Server ÈÉΩ‰ºöÂú® ZooKeeper ‰∏äÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÔºåMaster ÈÄöËøá Zookeeper ÁöÑ Watcher Êú∫Âà∂ÂØπËäÇÁÇπËøõË°åÁõëÊéßÔºå‰ªéËÄåÂèØ‰ª•ÂèëÁé∞Êñ∞Âä†ÂÖ•ÁöÑ Region Server ÊàñÊïÖÈöúÈÄÄÂá∫ÁöÑ Region ServerÔºõ
</td>
      </tr>
      <tr>
        <td id="L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="LC114" class="blob-code blob-code-inner js-file-line">	* ÊâÄÊúâ Masters ‰ºöÁ´û‰∫âÊÄßÂú∞Âú® Zookeeper ‰∏äÂàõÂª∫Âêå‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÔºåÁî±‰∫é Zookeeper Âè™ËÉΩÊúâ‰∏Ä‰∏™ÂêåÂêçËäÇÁÇπÔºåÊâÄ‰ª•ÂøÖÁÑ∂Âè™Êúâ‰∏Ä‰∏™ Master ËÉΩÂ§üÂàõÂª∫ÊàêÂäüÔºåÊ≠§Êó∂ËØ• Master Â∞±ÊòØ‰∏ª MasterÔºå‰∏ª Master ‰ºöÂÆöÊúüÂêë Zookeeper ÂèëÈÄÅÂøÉË∑≥„ÄÇÂ§áÁî® Masters ÂàôÈÄöËøá Watcher Êú∫Âà∂ÂØπ‰∏ª HMaster ÊâÄÂú®ËäÇÁÇπËøõË°åÁõëÂê¨Ôºõ
</td>
      </tr>
      <tr>
        <td id="L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="LC115" class="blob-code blob-code-inner js-file-line">	* Â¶ÇÊûú‰∏ª Master Êú™ËÉΩÂÆöÊó∂ÂèëÈÄÅÂøÉË∑≥ÔºåÂàôÂÖ∂ÊåÅÊúâÁöÑ Zookeeper ‰ºöËØù‰ºöËøáÊúüÔºåÁõ∏Â∫îÁöÑ‰∏¥Êó∂ËäÇÁÇπ‰πü‰ºöË¢´Âà†Èô§ÔºåËøô‰ºöËß¶ÂèëÂÆö‰πâÂú®ËØ•ËäÇÁÇπ‰∏äÁöÑ Watcher ‰∫ã‰ª∂Ôºå‰ΩøÂæóÂ§áÁî®ÁöÑ Master Servers ÂæóÂà∞ÈÄöÁü•„ÄÇÊâÄÊúâÂ§áÁî®ÁöÑ Master Servers Âú®Êé•Âà∞ÈÄöÁü•ÂêéÔºå‰ºöÂÜçÊ¨°ÂéªÁ´û‰∫âÊÄßÂú∞ÂàõÂª∫‰∏¥Êó∂ËäÇÁÇπÔºåÂÆåÊàê‰∏ª Master ÁöÑÈÄâ‰∏æ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="LC116" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="LC117" class="blob-code blob-code-inner js-file-line">ÁªÑ‰ª∂Ôºö1) Write-Ahead logsHBaseÁöÑ‰øÆÊîπËÆ∞ÂΩïÔºåÂΩìÂØπHBaseËØªÂÜôÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆ‰∏çÊòØÁõ¥Êé•ÂÜôËøõÁ£ÅÁõòÔºåÂÆÉ‰ºöÂú®ÂÜÖÂ≠ò‰∏≠‰øùÁïô‰∏ÄÊÆµÊó∂Èó¥ÔºàÊó∂Èó¥‰ª•ÂèäÊï∞ÊçÆÈáèÈòàÂÄºÂèØ‰ª•ËÆæÂÆöÔºâ„ÄÇ‰ΩÜÊääÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÂèØËÉΩÊúâÊõ¥È´òÁöÑÊ¶ÇÁéáÂºïËµ∑Êï∞ÊçÆ‰∏¢Â§±Ôºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊï∞ÊçÆ‰ºöÂÖàÂÜôÂú®‰∏Ä‰∏™Âè´ÂÅöWrite-Ahead logfileÁöÑÊñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéÂÜçÂÜôÂÖ•ÂÜÖÂ≠ò‰∏≠„ÄÇÊâÄ‰ª•Âú®Á≥ªÁªüÂá∫Áé∞ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÂèØ‰ª•ÈÄöËøáËøô‰∏™Êó•ÂøóÊñá‰ª∂ÈáçÂª∫„ÄÇ2) HFileËøôÊòØÂú®Á£ÅÁõò‰∏ä‰øùÂ≠òÂéüÂßãÊï∞ÊçÆÁöÑÂÆûÈôÖÁöÑÁâ©ÁêÜÊñá‰ª∂ÔºåÊòØÂÆûÈôÖÁöÑÂ≠òÂÇ®Êñá‰ª∂„ÄÇ3) StoreHFileÂ≠òÂÇ®Âú®Store‰∏≠Ôºå‰∏Ä‰∏™StoreÂØπÂ∫îHBaseË°®‰∏≠ÁöÑ‰∏Ä‰∏™ÂàóÊóè„ÄÇ Â∞ÜË°åÊï∞ÊçÆÊåâÁÖß Key\Values ÁöÑÂΩ¢ÂºèÂ≠òÂÇ®Âú®Êñá‰ª∂Á≥ªÁªü‰∏ä„ÄÇ4) MemStoreÂÜôÁºìÂ≠ò„ÄÇÂÆÉÂ≠òÂÇ®Â∞öÊú™ÂÜôÂÖ•Á£ÅÁõòÁöÑÊñ∞Êï∞ÊçÆ(‰πüÂ∞±ÊòØÂÜÖÂ≠ò)ÔºåÂπ∂‰ºöÂú®Êï∞ÊçÆÂÜôÂÖ•Á£ÅÁõò‰πãÂâçÂØπÂÖ∂ËøõË°åÊéíÂ∫è„ÄÇÊØè‰∏™ Region ‰∏äÁöÑÊØè‰∏™ÂàóÊóèÈÉΩÊúâ‰∏Ä‰∏™ MemStore„ÄÇ5) RegionHbaseË°®ÁöÑÂàÜÁâáÔºåHBaseË°®‰ºöÊ†πÊçÆRowKeyÂÄºË¢´ÂàáÂàÜÊàê‰∏çÂêåÁöÑregionÂ≠òÂÇ®Âú®RegionServer‰∏≠ÔºåÂú®‰∏Ä‰∏™RegionServer‰∏≠ÂèØ‰ª•ÊúâÂ§ö‰∏™‰∏çÂêåÁöÑregion„ÄÇ HBase Table ‰∏≠ÁöÑÊâÄÊúâË°åÊåâÁÖß Row Key ÁöÑÂ≠óÂÖ∏Â∫èÊéíÂàó„ÄÇHBase Tables ÈÄöËøáË°åÈîÆÁöÑËåÉÂõ¥ (row key range) Ë¢´Ê∞¥Âπ≥ÂàáÂàÜÊàêÂ§ö‰∏™ Region, ‰∏Ä‰∏™ Region ÂåÖÂê´‰∫ÜÂú® start key Âíå end key ‰πãÈó¥ÁöÑÊâÄÊúâË°å„ÄÇ ÊØè‰∏™Ë°®‰∏ÄÂºÄÂßãÂè™Êúâ‰∏Ä‰∏™ RegionÔºåÈöèÁùÄÊï∞ÊçÆ‰∏çÊñ≠Â¢ûÂä†ÔºåRegion ‰ºö‰∏çÊñ≠Â¢ûÂ§ßÔºåÂΩìÂ¢ûÂ§ßÂà∞‰∏Ä‰∏™ÈòÄÂÄºÁöÑÊó∂ÂÄôÔºåRegion Â∞±‰ºöÁ≠âÂàÜ‰∏∫‰∏§‰∏™Êñ∞ÁöÑ Region„ÄÇÂΩì Table ‰∏≠ÁöÑË°å‰∏çÊñ≠Â¢ûÂ§öÔºåÂ∞±‰ºöÊúâË∂äÊù•Ë∂äÂ§öÁöÑ Region„ÄÇ 6) BlockCache: ËØªÁºìÂ≠ò„ÄÇÂÆÉÂ∞ÜÈ¢ëÁπÅËØªÂèñÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂ¶ÇÊûúÂ≠òÂÇ®‰∏çË∂≥ÔºåÂÆÉÂ∞ÜÊåâÁÖß ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÂéüÂàô Ê∏ÖÈô§Â§ö‰ΩôÁöÑÊï∞ÊçÆ„ÄÇhbaseÁöÑËØªÂÜôÊµÅÁ®ãÔºöÂÜôÊï∞ÊçÆÔºö
</td>
      </tr>
      <tr>
        <td id="L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="LC118" class="blob-code blob-code-inner js-file-line">	1. ClientÂêëHregionServerÂèëÈÄÅÂÜôËØ∑Ê±ÇÔºõ
</td>
      </tr>
      <tr>
        <td id="L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="LC119" class="blob-code blob-code-inner js-file-line">	2. HRegionServerÂ∞ÜÊï∞ÊçÆÂÜôÂà∞HLogÔºàwrite ahead logÔºâ„ÄÇ‰∏∫‰∫ÜÊï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÂíåÊÅ¢Â§çÔºõ
</td>
      </tr>
      <tr>
        <td id="L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="LC120" class="blob-code blob-code-inner js-file-line">	3. HRegionServerÂ∞ÜÊï∞ÊçÆÂÜôÂà∞ÂÜÖÂ≠òÔºàMemStoreÔºâÔºõ
</td>
      </tr>
      <tr>
        <td id="L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="LC121" class="blob-code blob-code-inner js-file-line">	4. ÂèçÈ¶àClientÂÜôÊàêÂäü„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="LC122" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="LC123" class="blob-code blob-code-inner js-file-line">ËØªÊï∞ÊçÆÔºö
</td>
      </tr>
      <tr>
        <td id="L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="LC124" class="blob-code blob-code-inner js-file-line">	1. ClientÂÖàËÆøÈóÆzookeeperÔºå‰ªémetaË°®ËØªÂèñregionÁöÑ‰ΩçÁΩÆÔºåÁÑ∂ÂêéËØªÂèñmetaË°®‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇmeta‰∏≠ÂèàÂ≠òÂÇ®‰∫ÜÁî®Êà∑Ë°®ÁöÑregion‰ø°ÊÅØÔºõ
</td>
      </tr>
      <tr>
        <td id="L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="LC125" class="blob-code blob-code-inner js-file-line">	2. Ê†πÊçÆnamespace„ÄÅË°®ÂêçÂíårowkeyÂú®metaË°®‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑregion‰ø°ÊÅØÔºõ
</td>
      </tr>
      <tr>
        <td id="L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="LC126" class="blob-code blob-code-inner js-file-line">	3. ÊâæÂà∞Ëøô‰∏™regionÂØπÂ∫îÁöÑregionserverÔºõ
</td>
      </tr>
      <tr>
        <td id="L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="LC127" class="blob-code blob-code-inner js-file-line">	4. Êü•ÊâæÂØπÂ∫îÁöÑregionÔºõ
</td>
      </tr>
      <tr>
        <td id="L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="LC128" class="blob-code blob-code-inner js-file-line">	5. ÂÖà‰ªéMemStoreÊâæÊï∞ÊçÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂÜçÂà∞BlockCacheÈáåÈù¢ËØªÔºõ
</td>
      </tr>
      <tr>
        <td id="L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="LC129" class="blob-code blob-code-inner js-file-line">	6. BlockCacheËøòÊ≤°ÊúâÔºåÂÜçÂà∞StoreFile‰∏äËØª(‰∏∫‰∫ÜËØªÂèñÁöÑÊïàÁéá)Ôºõ
</td>
      </tr>
      <tr>
        <td id="L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="LC130" class="blob-code blob-code-inner js-file-line">	7. Â¶ÇÊûúÊòØ‰ªéStoreFileÈáåÈù¢ËØªÂèñÁöÑÊï∞ÊçÆÔºå‰∏çÊòØÁõ¥Êé•ËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåËÄåÊòØÂÖàÂÜôÂÖ•BlockCacheÔºåÂÜçËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="LC131" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="LC132" class="blob-code blob-code-inner js-file-line">HBASEÁöÑflushÊú∫Âà∂ÔºöHbaseÁöÑflushËøáÁ®ã‰∏ªË¶ÅÂåÖÊã¨‰∏â‰∏™Èò∂ÊÆµÔºöprepareFlush„ÄÅflushCache„ÄÅcommit„ÄÇprepaFlushÔºöÂØπmemstoreÂÅö‰∏Ä‰∏™snapshotÔºåÂêåÊó∂‰∏∫Èò≤Ê≠¢ÂÖ∂‰ªñÁ∫øÁ®ãÊõ¥Êñ∞memstoreÔºåËøôÈáå‰ºö‰∏∫memstoreÂä†‰∏ä‰∏Ä‰∏™Êéí‰ªñÈîÅÔºåÈòªÁ¢çÂÆ¢Êà∑Á´ØÁöÑÂÜôÊìç‰ΩúÔºåÁî±‰∫éÂàõÂª∫snapshotÈùûÂ∏∏Âø´„ÄÇflushCache:Â∞Ü‰∏ä‰∏Ä‰∏™Èò∂ÊÆµ‰∫ßÁîüÁöÑÂø´ÁÖßÊåÅ‰πÖÂåñÂà∞hdfs‰∏äÁöÑ‰∏Ä‰∏™hfileÂ≠òÊîæ‰ΩçÁΩÆ‰∏∫ÂØπÂ∫îregionÊñá‰ª∂Â§π‰∏ãÁöÑ.tmpÁõÆÂΩï„ÄÇcommit:Â∞Ü‰∏ä‰∏Ä‰∏™Èò∂ÊÆµ‰∫ßÁîüÁöÑ‰∏¥Êó∂Êñá‰ª∂ÁßªÂä®Âà∞ÂØπÂ∫îÁöÑÂàóÁ∞áÁõÆÂΩï‰∏ãÔºåÂêåÊó∂Âà†Èô§Á¨¨‰∏ÄÈÉ®ÁöÑsnapshot„ÄÇ1.Ôºàhbase.regionserver.global.memstore.sizeÔºâÈªòËÆ§;Â†ÜÂ§ßÂ∞èÁöÑ40%regionServerÁöÑÂÖ®Â±ÄmemstoreÁöÑÂ§ßÂ∞èÔºåË∂ÖËøáËØ•Â§ßÂ∞è‰ºöËß¶ÂèëflushÂà∞Á£ÅÁõòÁöÑÊìç‰Ωú,ÈªòËÆ§ÊòØÂ†ÜÂ§ßÂ∞èÁöÑ40%,ËÄå‰∏îregionserverÁ∫ßÂà´ÁöÑflush‰ºöÈòªÂ°ûÂÆ¢Êà∑Á´ØËØªÂÜô2.Ôºàhbase.hregion.memstore.flush.sizeÔºâÈªòËÆ§Ôºö128MÂçï‰∏™regionÈáåmemstoreÁöÑÁºìÂ≠òÂ§ßÂ∞èÔºåË∂ÖËøáÈÇ£‰πàÊï¥‰∏™HRegionÂ∞±‰ºöflush,3.Ôºàhbase.regionserver.optionalcacheflushintervalÔºâÈªòËÆ§Ôºö1hÂÜÖÂ≠ò‰∏≠ÁöÑÊñá‰ª∂Âú®Ëá™Âä®Âà∑Êñ∞‰πãÂâçËÉΩÂ§üÂ≠òÊ¥ªÁöÑÊúÄÈïøÊó∂Èó¥4.Ôºàhbase.regionserver.global.memstore.size.lower.limitÔºâÈªòËÆ§ÔºöÂ†ÜÂ§ßÂ∞è * 0.4 * 0.95ÊúâÊó∂ÂÄôÈõÜÁæ§ÁöÑ‚ÄúÂÜôË¥üËΩΩ‚ÄùÈùûÂ∏∏È´òÔºåÂÜôÂÖ•Èáè‰∏ÄÁõ¥Ë∂ÖËøáflushÁöÑÈáèÔºåËøôÊó∂ÔºåÊàë‰ª¨Â∞±Â∏åÊúõmemstore‰∏çË¶ÅË∂ÖËøá‰∏ÄÂÆöÁöÑÂÆâÂÖ®ËÆæÁΩÆ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂÜôÊìç‰ΩúÂ∞±Ë¶ÅË¢´ÈòªÂ°û‰∏ÄÁõ¥Âà∞memstoreÊÅ¢Â§çÂà∞‰∏Ä‰∏™‚ÄúÂèØÁÆ°ÁêÜ‚ÄùÁöÑÂ§ßÂ∞è, Ëøô‰∏™Â§ßÂ∞èÂ∞±ÊòØÈªòËÆ§ÂÄºÊòØÂ†ÜÂ§ßÂ∞è * 0.4 * 0.95Ôºå‰πüÂ∞±ÊòØÂΩìregionserverÁ∫ßÂà´ÁöÑflushÊìç‰ΩúÂèëÈÄÅÂêé,‰ºöÈòªÂ°ûÂÆ¢Êà∑Á´ØÂÜô,‰∏ÄÁõ¥ÈòªÂ°ûÂà∞Êï¥‰∏™regionserverÁ∫ßÂà´ÁöÑmemstoreÁöÑÂ§ßÂ∞è‰∏∫ Â†ÜÂ§ßÂ∞è * 0.4 *0.95‰∏∫Ê≠¢5.Ôºàhbase.hregion.preclose.flush.sizeÔºâÈªòËÆ§‰∏∫Ôºö5MÂΩì‰∏Ä‰∏™ region ‰∏≠ÁöÑ memstore ÁöÑÂ§ßÂ∞èÂ§ß‰∫éËøô‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèàËß¶Âèë‰∫ÜregionÁöÑ closeÊó∂Ôºå‰ºöÂÖàËøêË°å‚Äúpre-flush‚ÄùÊìç‰ΩúÔºåÊ∏ÖÁêÜËøô‰∏™ÈúÄË¶ÅÂÖ≥Èó≠ÁöÑmemstoreÔºåÁÑ∂Âêé Â∞ÜËøô‰∏™ region ‰∏ãÁ∫ø„ÄÇÂΩì‰∏Ä‰∏™ region ‰∏ãÁ∫ø‰∫ÜÔºåÊàë‰ª¨Êó†Ê≥ïÂÜçËøõË°å‰ªª‰ΩïÂÜôÊìç‰Ωú„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ memstore ÂæàÂ§ßÁöÑÊó∂ÂÄôÔºåflush  Êìç‰Ωú‰ºöÊ∂àËÄóÂæàÂ§öÊó∂Èó¥„ÄÇ"pre-flush" Êìç‰ΩúÊÑèÂë≥ÁùÄÂú® region ‰∏ãÁ∫ø‰πãÂâçÔºå‰ºöÂÖàÊää memstore Ê∏ÖÁ©∫„ÄÇËøôÊ†∑Âú®ÊúÄÁªàÊâßË°å close Êìç‰ΩúÁöÑÊó∂ÂÄôÔºåflush Êìç‰Ωú‰ºöÂæàÂø´„ÄÇ6.Ôºàhbase.hstore.compactionThresholdÔºâÈªòËÆ§ÔºöË∂ÖËøá3‰∏™‰∏Ä‰∏™storeÈáåÈù¢ÂÖÅËÆ∏Â≠òÁöÑhfileÁöÑ‰∏™Êï∞ÔºåË∂ÖËøáËøô‰∏™‰∏™Êï∞‰ºöË¢´ÂÜôÂà∞Êñ∞ÁöÑ‰∏Ä‰∏™hfileÈáåÈù¢ ‰πüÂç≥ÊòØÊØè‰∏™regionÁöÑÊØè‰∏™ÂàóÊóèÂØπÂ∫îÁöÑmemstoreÂú®flush‰∏∫hfileÁöÑÊó∂ÂÄôÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂΩìË∂ÖËøá3‰∏™hfileÁöÑÊó∂ÂÄôÂ∞±‰ºöÂØπËøô‰∫õÊñá‰ª∂ËøõË°åÂêàÂπ∂ÈáçÂÜô‰∏∫‰∏Ä‰∏™Êñ∞Êñá‰ª∂ÔºåËÆæÁΩÆ‰∏™Êï∞Ë∂äÂ§ßÂèØ‰ª•ÂáèÂ∞ëËß¶ÂèëÂêàÂπ∂ÁöÑÊó∂Èó¥Ôºå‰ΩÜÊòØÊØèÊ¨°ÂêàÂπ∂ÁöÑÊó∂Èó¥Â∞±‰ºöË∂äÈïøHBASEÁöÑÂêàÂπ∂Êú∫Âà∂Ôºö
</td>
      </tr>
      <tr>
        <td id="L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="LC133" class="blob-code blob-code-inner js-file-line">	1. ÂΩìÊï∞ÊçÆÂùóËææÂà∞3ÂùóÔºåHmasterËß¶ÂèëÂêàÂπ∂Êìç‰ΩúÔºåRegionÂ∞ÜÊï∞ÊçÆÂùóÂä†ËΩΩÂà∞Êú¨Âú∞ÔºåËøõË°åÂêàÂπ∂Ôºõ
</td>
      </tr>
      <tr>
        <td id="L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="LC134" class="blob-code blob-code-inner js-file-line">	2. ÂΩìÂêàÂπ∂ÁöÑÊï∞ÊçÆË∂ÖËøá256MÔºåËøõË°åÊãÜÂàÜÔºåÂ∞ÜÊãÜÂàÜÂêéÁöÑRegionÂàÜÈÖçÁªô‰∏çÂêåÁöÑHregionServerÁÆ°ÁêÜÔºõ
</td>
      </tr>
      <tr>
        <td id="L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="LC135" class="blob-code blob-code-inner js-file-line">	3. ÂΩìHregionServerÂÆïÊú∫ÂêéÔºåÂ∞ÜHregionServer‰∏äÁöÑhlogÊãÜÂàÜÔºåÁÑ∂ÂêéÂàÜÈÖçÁªô‰∏çÂêåÁöÑHregionServerÂä†ËΩΩÔºå‰øÆÊîπ.META.Ôºõ
</td>
      </tr>
      <tr>
        <td id="L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="LC136" class="blob-code blob-code-inner js-file-line">	4. Ê≥®ÊÑèÔºöHLog‰ºöÂêåÊ≠•Âà∞HDFS„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="LC137" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="LC138" class="blob-code blob-code-inner js-file-line">HBASEÁöÑsplitÊú∫Âà∂ÔºöÂΩìRegionËææÂà∞ÈòàÂÄºÔºå‰ºöÊääËøáÂ§ßÁöÑRegion‰∏ÄÂàÜ‰∏∫‰∫å„ÄÇÈªòËÆ§‰∏Ä‰∏™HFileËææÂà∞10GbÁöÑÊó∂ÂÄôÂ∞±‰ºöËøõË°åÂàáÂàÜhbaseÁöÑhbase-default.xmlÂèÇÊï∞ÔºöFlush:&lt;!--ÂΩìmemstoreÁöÑÂ§ßÂ∞èË∂ÖËøáËøô‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºå‰ºöflushÂà∞Á£ÅÁõò„ÄÇ128M--&gt;&lt;property&gt;&lt;name&gt;hbase.hregion.memstore.flush.size&lt;/name&gt;&lt;value&gt;134217728&lt;/value&gt;&lt;/property&gt;&lt;!--Âçï‰∏™regionserverÁöÑÂÖ®ÈÉ®memstoreÁöÑÊúÄÂ§ßÂÄº„ÄÇË∂ÖËøáËøô‰∏™ÂÄºÊÄªÂÆπÈáè(Max Heap=983.4 M)*0.4Ôºå‰∏Ä‰∏™Êñ∞ÁöÑputÊèíÂÖ•Êìç‰Ωú‰ºöË¢´ÊåÇËµ∑ÔºåÂº∫Âà∂ÊâßË°åflushÊìç‰Ωú„ÄÇ --&gt;&lt;property&gt;&lt;name&gt;hbase.regionserver.global.memstore.upperLimit&lt;/name&gt;&lt;value&gt;0.4&lt;/value&gt;&lt;/property&gt;&lt;!--ÂΩìÂº∫Âà∂ÊâßË°åflushÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂΩì‰Ωé‰∫éËøô‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºåflush‰ºöÂÅúÊ≠¢„ÄÇÈªòËÆ§ÊòØÂ†ÜÂ§ßÂ∞èÁöÑ 35% . --&gt;&lt;property&gt;&lt;name&gt;hbase.regionserver.global.memstore.lowerLimit&lt;/name&gt;&lt;value&gt;0.35&lt;/value&gt;&lt;/property&gt;Compact:&lt;!--ÂΩì‰∏Ä‰∏™HStoreÂê´ÊúâÂ§ö‰∫éËøô‰∏™ÂÄºÁöÑHStoreFiles(ÊØè‰∏Ä‰∏™memstore flush‰∫ßÁîü‰∏Ä‰∏™HStoreFile)ÁöÑÊó∂ÂÄôÔºå‰ºöÊâßË°å‰∏Ä‰∏™ÂêàÂπ∂Êìç‰ΩúÔºåÊääËøôHStoreFilesÂÜôÊàê‰∏Ä‰∏™--&gt;&lt;property&gt;&lt;name&gt;hbase.hstore.compactionThreshold&lt;/name&gt;&lt;value&gt;3&lt;/value&gt;&lt;/property&gt;&lt;!--‰∏Ä‰∏™Region‰∏≠ÁöÑÊâÄÊúâHStoreFileÁöÑmajor compactionsÁöÑÊó∂Èó¥Èó¥Èöî„ÄÇÈªòËÆ§ÊòØ1Â§©„ÄÇ--&gt;&lt;property&gt;&lt;name&gt;hbase.hregion.majorcompaction&lt;/name&gt;&lt;value&gt;86400000&lt;/value&gt;&lt;/property&gt;Split:&lt;!--ÊúÄÂ§ßHStoreFileÂ§ßÂ∞è„ÄÇËã•Êüê‰∏™ÂàóÊóèÁöÑHStoreFileÂ¢ûÈïøËææÂà∞Ëøô‰∏™ÂÄºÔºåËøô‰∏™Hegion‰ºöË¢´ÂàáÂâ≤Êàê‰∏§‰∏™„ÄÇ ÈªòËÆ§: 10G.--&gt;&lt;property&gt;&lt;name&gt;hbase.hregion.max.filesize&lt;/name&gt;&lt;value&gt;10737418240&lt;/value&gt;&lt;/property&gt;rowkeyÁöÑËÆæËÆ°ÂéüÂàôÔºö1.ÈïøÂ∫¶ÂéüÂàôÔºörowkeyÊòØ‰∏Ä‰∏™‰∫åËøõÂà∂Á†ÅÊµÅÔºåÂèØ‰ª•ÊòØ‰ªªÊÑèÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂ§ßÈïøÂ∫¶64kbÔºåÂÆûÈôÖÂ∫îÁî®‰∏≠‰∏ÄËà¨‰∏∫10-100bytes,‰ª•byte[]ÂΩ¢Âºè‰øùÂ≠òÔºå‰∏ÄËà¨ËÆæËÆ°ÂÆöÈïø„ÄÇÂª∫ËÆÆË∂äÁü≠Ë∂äÂ•ΩÔºå‰∏çË¶ÅË∂ÖËøá16‰∏™Â≠óËäÇ„ÄÇÂéüÂõ†Ôºö
</td>
      </tr>
      <tr>
        <td id="L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="LC139" class="blob-code blob-code-inner js-file-line">	* Êï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÊñá‰ª∂HFile‰∏≠ÊòØÊåâÁÖßKeyValueÂ≠òÂÇ®ÁöÑÔºåÂ¶ÇÊûúrowkeyËøáÈïø ÔºåÊØîÂ¶ÇË∂ÖËøá100Â≠óËäÇÔºå1000wË°åÊï∞ÊçÆÔºåÂÖârowkeyÂ∞±Ë¶ÅÂç†Áî®100*1000w=10‰∫ø‰∏™Â≠óËäÇÔºåÂ∞ÜËøë1GÊï∞ÊçÆÔºåËøôÊ†∑‰ºöÊûÅÂ§ßÂΩ±ÂìçHFileÁöÑÂ≠òÂÇ®ÊïàÁéáÔºõ
</td>
      </tr>
      <tr>
        <td id="L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="LC140" class="blob-code blob-code-inner js-file-line">	* MemStoreÂ∞ÜÁºìÂ≠òÈÉ®ÂàÜÊï∞ÊçÆÂà∞ÂÜÖÂ≠òÔºåÂ¶ÇÊûúrowkeyÂ≠óÊÆµËøáÈïøÔºåÂÜÖÂ≠òÁöÑÊúâÊïàÂà©Áî®ÁéáÂ∞±‰ºöÈôç‰ΩéÔºåÁ≥ªÁªü‰∏çËÉΩÁºìÂ≠òÊõ¥Â§öÁöÑÊï∞ÊçÆÔºåËøôÊ†∑‰ºöÈôç‰ΩéÊ£ÄÁ¥¢ÊïàÁéá„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="LC141" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="LC142" class="blob-code blob-code-inner js-file-line">2 rowkeyÊï£ÂàóÂéüÂàôÂ¶ÇÊûúrowkeyÊåâÁÖßÊó∂Èó¥Êà≥ÁöÑÊñπÂºèÈÄíÂ¢ûÔºå‰∏çË¶ÅÂ∞ÜÊó∂Èó¥ÊîæÂú®‰∫åËøõÂà∂Á†ÅÁöÑÂâçÈù¢ÔºåÂª∫ËÆÆÂ∞ÜrowkeyÁöÑÈ´ò‰Ωç‰Ωú‰∏∫Êï£ÂàóÂ≠óÊÆµÔºåÁî±Á®ãÂ∫èÈöèÊú∫ÁîüÊàêÔºå‰Ωé‰ΩçÊîæÊó∂Èó¥Â≠óÊÆµÔºåËøôÊ†∑Â∞ÜÊèêÈ´òÊï∞ÊçÆÂùáË°°ÂàÜÂ∏ÉÂú®ÊØè‰∏™RegionServerÔºå‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÁöÑÂá†Áéá„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊï£ÂàóÂ≠óÊÆµÔºåÈ¶ñÂ≠óÊÆµÁõ¥Êé•ÊòØÊó∂Èó¥‰ø°ÊÅØÔºåÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰ºöÈõÜ‰∏≠Âú®‰∏Ä‰∏™RegionServer‰∏äÔºåËøôÊ†∑Âú®Êï∞ÊçÆÊ£ÄÁ¥¢ÁöÑÊó∂ÂÄôË¥üËΩΩ‰ºöÈõÜ‰∏≠Âú®‰∏™Âà´ÁöÑRegionServer‰∏äÔºåÈÄ†ÊàêÁÉ≠ÁÇπÈóÆÈ¢òÔºå‰ºöÈôç‰ΩéÊü•ËØ¢ÊïàÁéá„ÄÇ3 rowkeyÂîØ‰∏ÄÂéüÂàôÂøÖÈ°ªÂú®ËÆæËÆ°‰∏ä‰øùËØÅÂÖ∂ÂîØ‰∏ÄÊÄßÔºårowkeyÊòØÊåâÁÖßÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫èÂ≠òÂÇ®ÁöÑÔºåÂõ†Ê≠§ÔºåËÆæËÆ°rowkeyÁöÑÊó∂ÂÄôÔºåË¶ÅÂÖÖÂàÜÂà©Áî®Ëøô‰∏™ÊéíÂ∫èÁöÑÁâπÁÇπÔºåÂ∞ÜÁªèÂ∏∏ËØªÂèñÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏ÄÂùóÔºåÂ∞ÜÊúÄËøëÂèØËÉΩ‰ºöË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÊîæÂà∞‰∏ÄÂùó„ÄÇhbaseÁöÑÁÉ≠ÁÇπÈóÆÈ¢òÔºöHBase‰∏≠ÁöÑË°åÊòØÊåâÁÖßrowkeyÁöÑÂ≠óÂÖ∏È°∫Â∫èÊéíÂ∫èÁöÑÔºåËøôÁßçËÆæËÆ°‰ºòÂåñ‰∫ÜscanÊìç‰ΩúÔºåÂèØ‰ª•Â∞ÜÁõ∏ÂÖ≥ÁöÑË°å‰ª•Âèä‰ºöË¢´‰∏ÄËµ∑ËØªÂèñÁöÑË°åÂ≠òÂèñÂú®‰∏¥Ëøë‰ΩçÁΩÆÔºå‰æø‰∫éscan„ÄÇÁÑ∂ËÄåÁ≥üÁ≥ïÁöÑrowkeyËÆæËÆ°ÊòØÁÉ≠ÁÇπÁöÑÊ∫êÂ§¥„ÄÇÁÉ≠ÁÇπÂèëÁîüÂú®Â§ßÈáèÁöÑclientÁõ¥Êé•ËÆøÈóÆÈõÜÁæ§ÁöÑ‰∏Ä‰∏™ÊàñÊûÅÂ∞ëÊï∞‰∏™ËäÇÁÇπÔºàËÆøÈóÆÂèØËÉΩÊòØËØªÔºåÂÜôÊàñËÄÖÂÖ∂‰ªñÊìç‰ΩúÔºâ„ÄÇÂ§ßÈáèËÆøÈóÆ‰ºö‰ΩøÁÉ≠ÁÇπregionÊâÄÂú®ÁöÑÂçï‰∏™Êú∫Âô®Ë∂ÖÂá∫Ëá™Ë∫´ÊâøÂèóËÉΩÂäõÔºåÂºïËµ∑ÊÄßËÉΩ‰∏ãÈôçÁîöËá≥region‰∏çÂèØÁî®ÔºåËøô‰πü‰ºöÂΩ±ÂìçÂêå‰∏Ä‰∏™RegionServer‰∏äÁöÑÂÖ∂‰ªñregionÔºåÁî±‰∫é‰∏ªÊú∫Êó†Ê≥ïÊúçÂä°ÂÖ∂‰ªñregionÁöÑËØ∑Ê±Ç„ÄÇËÆæËÆ°ËâØÂ•ΩÁöÑÊï∞ÊçÆËÆøÈóÆÊ®°Âºè‰ª•‰ΩøÈõÜÁæ§Ë¢´ÂÖÖÂàÜÔºåÂùáË°°ÁöÑÂà©Áî®„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçÂÜôÁÉ≠ÁÇπÔºåËÆæËÆ°rowkey‰ΩøÂæó‰∏çÂêåË°åÂú®Âêå‰∏Ä‰∏™regionÔºå‰ΩÜÊòØÂú®Êõ¥Â§öÊï∞ÊçÆÊÉÖÂÜµ‰∏ãÔºåÊï∞ÊçÆÂ∫îËØ•Ë¢´ÂÜôÂÖ•ÈõÜÁæ§ÁöÑÂ§ö‰∏™regionÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÈÅøÂÖçÁÉ≠ÁÇπÁöÑÊñπÊ≥ï‰ª•ÂèäÂÆÉ‰ª¨ÁöÑ‰ºòÁº∫ÁÇπÔºö1.Âä†ÁõêÔºöËøôÈáåÊâÄËØ¥ÁöÑÂä†Áõê‰∏çÊòØÂØÜÁ†ÅÂ≠¶‰∏≠ÁöÑÂä†ÁõêÔºåËÄåÊòØÂú®rowkeyÁöÑÂâçÈù¢Â¢ûÂä†ÈöèÊú∫Êï∞ÔºåÂÖ∑‰ΩìÂ∞±ÊòØÁªôrowkeyÂàÜÈÖç‰∏Ä‰∏™ÈöèÊú∫ÂâçÁºÄ‰ª•‰ΩøÂæóÂÆÉÂíå‰πãÂâçÁöÑrowkeyÁöÑÂºÄÂ§¥‰∏çÂêå„ÄÇÂàÜÈÖçÁöÑÂâçÁºÄÁßçÁ±ªÊï∞ÈáèÂ∫îËØ•Âíå‰Ω†ÊÉ≥‰ΩøÁî®Êï∞ÊçÆÂàÜÊï£Âà∞‰∏çÂêåÁöÑregionÁöÑÊï∞Èáè‰∏ÄËá¥„ÄÇÂä†Áõê‰πãÂêéÁöÑrowkeyÂ∞±‰ºöÊ†πÊçÆÈöèÊú∫ÁîüÊàêÁöÑÂâçÁºÄÂàÜÊï£Âà∞ÂêÑ‰∏™region‰∏äÔºå‰ª•ÈÅøÂÖçÁÉ≠ÁÇπ„ÄÇ2.ÂìàÂ∏åÔºöÂìàÂ∏å‰ºö‰ΩøÂêå‰∏ÄË°åÊ∞∏ËøúÁî®‰∏Ä‰∏™ÂâçÁºÄÂä†Áõê„ÄÇÂìàÂ∏å‰πüÂèØ‰ª•‰ΩøË¥üËΩΩÂàÜÊï£Âà∞Êï¥‰∏™ÈõÜÁæ§Ôºå‰ΩÜÊòØËØªÂç¥ÊòØÂèØ‰ª•È¢ÑÊµãÁöÑ„ÄÇ‰ΩøÁî®Á°ÆÂÆöÁöÑÂìàÂ∏åÂèØ‰ª•ËÆ©ÂÆ¢Êà∑Á´ØÈáçÊûÑÂÆåÊï¥ÁöÑrowkeyÔºåÂèØ‰ª•‰ΩøÁî®getÊìç‰ΩúÂáÜÁ°ÆËé∑ÂèñÊüê‰∏Ä‰∏™Ë°åÊï∞ÊçÆ„ÄÇ3.ÂèçËΩ¨ÔºöÁ¨¨‰∏âÁßçÈò≤Ê≠¢ÁÉ≠ÁÇπÁöÑÊñπÊ≥ïÊó∂ÂèçËΩ¨Âõ∫ÂÆöÈïøÂ∫¶ÊàñËÄÖÊï∞Â≠óÊ†ºÂºèÁöÑrowkey„ÄÇËøôÊ†∑ÂèØ‰ª•‰ΩøÂæórowkey‰∏≠ÁªèÂ∏∏ÊîπÂèòÁöÑÈÉ®ÂàÜÔºàÊúÄÊ≤°ÊúâÊÑè‰πâÁöÑÈÉ®ÂàÜÔºâÊîæÂú®ÂâçÈù¢„ÄÇËøôÊ†∑ÂèØ‰ª•ÊúâÊïàÁöÑÈöèÊú∫rowkeyÔºå‰ΩÜÊòØÁâ∫Áâ≤‰∫ÜrowkeyÁöÑÊúâÂ∫èÊÄß„ÄÇÂèçËΩ¨rowkeyÁöÑ‰æãÂ≠ê‰ª•ÊâãÊú∫Âè∑‰∏∫rowkeyÔºåÂèØ‰ª•Â∞ÜÊâãÊú∫Âè∑ÂèçËΩ¨ÂêéÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫rowkeyÔºåËøôÊ†∑ÁöÑÂ∞±ÈÅøÂÖç‰∫Ü‰ª•ÊâãÊú∫Âè∑ÈÇ£Ê†∑ÊØîËæÉÂõ∫ÂÆöÂºÄÂ§¥ÂØºËá¥ÁÉ≠ÁÇπÈóÆÈ¢òPhoenix ÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÔºöHbaseÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÊú¨Ë¥®Â∞±ÊòØÂª∫Á´ãÂêÑÂàóÂÄº‰∏éË°åÈîÆ‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ( ÂΩìË¶ÅÂØπF:C1ËøôÂàóÂª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÂè™ÈúÄË¶ÅÂª∫Á´ãF:C1ÂêÑÂàóÂÄºÂà∞ÂÖ∂ÂØπÂ∫îË°åÈîÆÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂ¶ÇC11-&gt;RK1Á≠âÔºåËøôÊ†∑Â∞±ÂÆåÊàê‰∫ÜÂØπF:C1ÂàóÂÄºÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÊûÑÂª∫ÔºåÂΩìË¶ÅÊü•ËØ¢Á¨¶ÂêàF:C1=C11ÂØπÂ∫îÁöÑF:C2ÁöÑÂàóÂÄºÊó∂Âç≥Ê†πÊçÆC1=C11Êù•Êü•ËØ¢C2ÁöÑÂÄº)ÂÖ∂Êü•ËØ¢Ê≠•È™§Â¶Ç‰∏ã:1. Ê†πÊçÆC1=C11Âà∞Á¥¢ÂºïÊï∞ÊçÆ‰∏≠Êü•ÊâæÂÖ∂ÂØπÂ∫îÁöÑRKÔºåÊü•ËØ¢ÂæóÂà∞ÂÖ∂ÂØπÂ∫îÁöÑRK=RK12. ÂæóÂà∞RK1ÂêéÂ∞±Ëá™ÁÑ∂ËÉΩÊ†πÊçÆRK1Êù•Êü•ËØ¢C2ÁöÑÂÄº‰∫Ü ËøôÊòØÊûÑÂª∫‰∫åÁ∫ßÁ¥¢ÂºïÂ§ßÊ¶ÇÊÄùË∑ØÔºåÂÖ∂‰ªñÁªÑÂêàÊü•ËØ¢ÁöÑËÅîÂêàÁ¥¢ÂºïÁöÑÂª∫Á´ã‰πüÁ±ª‰ºº„ÄÇÂú®Hbase‰∏≠ÔºåÂè™Êúâ‰∏Ä‰∏™Âçï‰∏ÄÁöÑÊåâÁÖßÂ≠óÂÖ∏Â∫èÊéíÂ∫èÁöÑrowKeyÁ¥¢ÂºïÔºåÂΩì‰ΩøÁî®rowKeyÊù•ËøõË°åÊï∞ÊçÆÊü•ËØ¢ÁöÑÊó∂ÂÄôÈÄüÂ∫¶ËæÉÂø´Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰∏ç‰ΩøÁî®rowKeyÊù•Êü•ËØ¢ÁöÑËØùÂ∞±‰ºö‰ΩøÁî®filterÊù•ÂØπÂÖ®Ë°®ËøõË°åÊâ´ÊèèÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äÈôç‰Ωé‰∫ÜÊ£ÄÁ¥¢ÊÄßËÉΩ„ÄÇËÄåPhoenixÊèê‰æõ‰∫Ü‰∫åÁ∫ßÁ¥¢ÂºïÊäÄÊúØÊù•Â∫îÂØπËøôÁßç‰ΩøÁî®rowKey‰πãÂ§ñÁöÑÊù°‰ª∂ËøõË°åÊ£ÄÁ¥¢ÁöÑÂú∫ÊôØ„ÄÇPhoenixÊîØÊåÅ‰∏§ÁßçÁ±ªÂûãÁöÑÁ¥¢ÂºïÊäÄÊúØÔºöGlobal IndexingÂíåLocal IndexingGlobal Indexing: ÈÄÇÁî®‰∫éÂ§öËØªÂ∞ëÂÜôÁöÑ‰∏öÂä°Âú∫ÊôØ„ÄÇ‰ΩøÁî®HbaseÈ¢ÑÂàÜÂå∫ÔºöHbaseÂú®Ë°®ÂàöÂàöÂàõÂª∫ÁöÑÊó∂ÂÄôÔºåÂè™Êúâ‰∏Ä‰∏™ÂàÜÂå∫ÔºàreginÔºâÔºåÂΩì‰∏Ä‰∏™reginËøáÂ§ßÊó∂ÂÄôÔºåË°®‰ºösplitÔºåÂàÜË£ÇÊàê2‰∏™ÂàÜÂå∫ÔºåË°®Âú® ËøõË°åsplitÁöÑÊó∂ÂÄô‰ºöËÄóË¥πÂ§ßÈáèÁöÑËµÑÊ∫êÔºåÊâÄ‰ª•hbaseÊèê‰æõ‰∫ÜÈ¢ÑÂàÜÂå∫ÂäüËÉΩÔºåÂç≥Áî®Êà∑ÂèØ‰ª•Âú®ÂàõÂª∫Ë°®ÁöÑÊó∂ÂÄôÂØπË°®ÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂàôÂàÜÂå∫„ÄÇÂ¶Ç‰ΩïËøõË°åÈ¢ÑÂàÜÂå∫ÔºöÊØè‰∏Ä‰∏™regionÁª¥Êä§ÁùÄstartRow‰∏éendRowÔºåÂ¶ÇÊûúÂä†ÂÖ•ÁöÑÊï∞ÊçÆÁ¨¶ÂêàÊüê‰∏™regionÁª¥Êä§ÁöÑrowKeyËåÉÂõ¥ÔºåÂàôÊï∞ÊçÆ‰∫§ÁªôËøô‰∏™regionÁª¥Êä§„ÄÇHbaseÁöÑregionÂ§™Â§ßÊàñÂ§™Â∞èÁöÑÈóÆÈ¢òÔºöregionÂ§™Â∞èÔºöÊõ¥ÂÆπÊòìËß¶ÂèësplitÔºåÁ≥ªÁªüÁöÑÊï¥‰ΩìËÆøÈóÆÊúçÂä°‰ºöÂá∫Áé∞‰∏çÁ®≥ÂÆöÁöÑÁé∞Ë±°„ÄÇregionÂ§™Â§ßÔºöÁî±‰∫éÈïøÊúüÂæó‰∏çÂà∞splitÔºåÂõ†Ê≠§Âêå‰∏Ä‰∏™regionÂÜÖÁöÑstorefileÊï∞ÈáèÂ§™Â§öÔºåÂèëÁîüÂ§öÊ¨°compactionÂéãÁº©ÁöÑÊú∫‰ºöÂ¢ûÂ§ßÔºå‰ºöÈôç‰ΩéÁ≥ªÁªüÁöÑÊÄßËÉΩÂíåÁ®≥ÂÆöÊÄß„ÄÇÂõ†Ê≠§ÔºåregionÂ§ßÂ∞è‰∏ÄËà¨Âú®5-10GÂ§ßÂ∞èÔºåÊï∞ÈáèÂú®20-200‰πãÈó¥Ôºå‰∏ÄËà¨ÊòØ100‰∏™„ÄÇHbaseÁöÑÁì∂Âä≤ÈóÆÈ¢òÔºö1„ÄÅ‰∏çËÉΩÊîØÊåÅÊù°‰ª∂Êü•ËØ¢ÔºåÂè™ÊîØÊåÅRow KeyÊù•Êü•ËØ¢„ÄÇ2„ÄÅÊöÇÊó∂‰∏çËÉΩÊîØÊåÅMaster Server ÁöÑÊïÖÈöúÂàáÊç¢ÔºåÂΩìmassterÂÆïÊú∫ÔºåÊï¥‰∏™ÂÇ®Â≠òÁ≥ªÁªüÂ∞±‰ºöÊåÇÊéâ3„ÄÅÁ£ÅÁõòIOÁì∂È¢àÈôêÂà∂ÔºåÊï∞ÊçÆÂÇ®Â≠òÂú®Á£ÅÁõò‰∏äÔºå‰∏çÂ¶ÇÁõ¥Êé•ÂÇ®Â≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑredisËØªÂÜôÂø´„ÄÇHbaseÂ¶Ç‰ΩïÂØºÂÖ•Êï∞ÊçÆÔºö‰ΩøÁî®MapReduce JobÊñπÂºèÔºåÊ†πÊçÆHbase APIÁºñÂÜôjavaËÑöÊú¨ÔºåÂ∞ÜÊñáÊú¨Êñá‰ª∂Áî®Êñá‰ª∂ÊµÅÁöÑÊñπÂºèÊà™ÂèñÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âà∞Â§ö‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑ‰∏≠ÔºåÂú®putÊñπÊ≥ï‰∏ãÔºåÈÄöËøáÂØπË°®‰∏≠ÁöÑÂàóÊóèËøõË°åforÂæ™ÁéØÈÅçÂéÜÂàóÂêçÔºåÁî®ifÂà§Êñ≠ÂàóÂêçÂêéËøõË°åforÂæ™ÁéØË∞ÉÁî®put.addÁöÑÊñπÊ≥ïÂØπÂàóÊóè‰∏ãÊØè‰∏Ä‰∏™ÂàóËøõË°åËÆæÂÄºÔºåÊØè‰∏™ÂàóÊóè‰∏ãÊúâÂá†‰∏™‰∫ÜÂ∞±ËµãÂÄºÂá†Ê¨°ÔºÅÊ≤°ÊúâË°®ÂÖàÂØπÂÖàÂàõÂª∫Ë°®„ÄÇHbaseÂíåHiveÁöÑÂå∫Âà´ÔºöÂÖ±ÂêåÁÇπÔºö1.hbase‰∏éhiveÈÉΩÊòØÊû∂ÊûÑÂú®hadoop‰πã‰∏äÁöÑ„ÄÇÈÉΩÊòØÁî®hadoop‰Ωú‰∏∫Â∫ïÂ±ÇÂ≠òÂÇ®Âå∫Âà´Ôºö2.HiveÊòØÂª∫Á´ãÂú®Hadoop‰πã‰∏ä‰∏∫‰∫ÜÂáèÂ∞ëMapReducejobsÁºñÂÜôÂ∑•‰ΩúÁöÑÊâπÂ§ÑÁêÜÁ≥ªÁªüÔºåHBaseÊòØ‰∏∫‰∫ÜÊîØÊåÅÂº•Ë°•HadoopÂØπÂÆûÊó∂Êìç‰ΩúÁöÑÁº∫Èô∑ÁöÑÈ°πÁõÆ „ÄÇ3.ÊÉ≥Ë±°‰Ω†Âú®Êìç‰ΩúRMDBÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûúÊòØÂÖ®Ë°®Êâ´ÊèèÔºåÂ∞±Áî®Hive+Hadoop,Â¶ÇÊûúÊòØÁ¥¢ÂºïËÆøÈóÆÔºåÂ∞±Áî®HBase+Hadoop „ÄÇ4.Hive queryÂ∞±ÊòØMapReduce jobsÂèØ‰ª•‰ªé5ÂàÜÈíüÂà∞Êï∞Â∞èÊó∂‰∏çÊ≠¢ÔºåHBaseÊòØÈùûÂ∏∏È´òÊïàÁöÑÔºåËÇØÂÆöÊØîHiveÈ´òÊïàÁöÑÂ§ö„ÄÇ5.HiveÊú¨Ë∫´‰∏çÂ≠òÂÇ®ÂíåËÆ°ÁÆóÊï∞ÊçÆÔºåÂÆÉÂÆåÂÖ®‰æùËµñ‰∫éHDFSÂíåMapReduceÔºåHive‰∏≠ÁöÑË°®Á∫ØÈÄªËæë„ÄÇ6.hiveÂÄüÁî®hadoopÁöÑMapReduceÊù•ÂÆåÊàê‰∏Ä‰∫õhive‰∏≠ÁöÑÂëΩ‰ª§ÁöÑÊâßË°å7.hbaseÊòØÁâ©ÁêÜË°®Ôºå‰∏çÊòØÈÄªËæëË°®ÔºåÊèê‰æõ‰∏Ä‰∏™Ë∂ÖÂ§ßÁöÑÂÜÖÂ≠òhashË°®ÔºåÊêúÁ¥¢ÂºïÊìéÈÄöËøáÂÆÉÊù•Â≠òÂÇ®Á¥¢ÂºïÔºåÊñπ‰æøÊü•ËØ¢Êìç‰Ωú„ÄÇ8.hbaseÊòØÂàóÂ≠òÂÇ®„ÄÇ9.hdfs‰Ωú‰∏∫Â∫ïÂ±ÇÂ≠òÂÇ®ÔºåhdfsÊòØÂ≠òÊîæÊñá‰ª∂ÁöÑÁ≥ªÁªüÔºåËÄåHbaseË¥üË¥£ÁªÑÁªáÊñá‰ª∂„ÄÇ10.hiveÈúÄË¶ÅÁî®Âà∞hdfsÂ≠òÂÇ®Êñá‰ª∂ÔºåÈúÄË¶ÅÁî®Âà∞MapReduceËÆ°ÁÆóÊ°ÜÊû∂„ÄÇË°åÂºèÊï∞ÊçÆÂ∫ì‰∏éÂàóÂºèÊï∞ÊçÆÂ∫ìÁöÑÂå∫Âà´Ôºö‰º†ÁªüË°åÂºèÔºö1„ÄÅÊï∞ÊçÆÊòØÊåâË°åÂÇ®Â≠ò„ÄÇ2„ÄÅÊ≤°ÊúâÁ¥¢ÂºïÁöÑÊü•ËØ¢‰ΩøÁî®Â§ßÈáèI/O„ÄÇ3„ÄÅÂª∫Á´ãÁ¥¢ÂºïÂíåÁâ©ÂåñËßÜÂõæÈúÄË¶ÅÂ§ßÈáèÊó∂Èó¥ÂíåËµÑÊ∫ê„ÄÇ4„ÄÅÈù¢ÂØπÊü•ËØ¢ÁöÑÈúÄÊ±ÇÔºåÊï∞ÊçÆÂ∫ìÂøÖÈ°ªË¢´Â§ßÈáèËÜ®ËÉÄÊâçËÉΩÊª°Ë∂≥ÊÄßËÉΩÁöÑË¶ÅÊ±Ç„ÄÇÂàóÂºèÔºö1„ÄÅÊï∞ÊçÆÊåâÂàóÂ≠òÂÇ®„ÄÇ2„ÄÅÊï∞ÊçÆÂç≥‰ΩøÁ¥¢Âºï„ÄÇ3„ÄÅÂè™ËÆøÈóÆÊü•ËØ¢Ê∂âÂèäÁöÑÂàóÔºàÂ§ßÈáèÈôç‰Ωé Á≥ªÁªüÁöÑI/OÔºâ„ÄÇ4„ÄÅÊØè‰∏ÄÂàóÊúâ‰∏Ä‰∏™Á∫øÁ¥¢Êù•Â§ÑÁêÜ„ÄÇÔºàÊü•ËØ¢ÁöÑÂπ∂ÂèëÂ§ÑÁêÜÔºâ„ÄÇ5„ÄÅÊï∞ÊçÆÁ±ªÂûã‰∏ÄËá¥ÔºåÊï∞ÊçÆÁâπÂæÅÁõ∏‰ºº„ÄÇÔºàÂéãÁº©È´òÊïàÔºâ„ÄÇÂàóÁ∞áÊÄé‰πàÂàõÂª∫ÊØîËæÉÂ•ΩÔºüÔºà&lt;=2ÔºârowKeyÊúÄÂ•ΩË¶ÅÂàõÂª∫ÊúâËßÑÂàôÁöÑrowKeyÔºåÂç≥ÊúÄÂ•ΩÊòØÊúâÂ∫èÁöÑ„ÄÇHBase‰∏≠‰∏ÄÂº†Ë°®ÊúÄÂ•ΩÂè™ÂàõÂª∫‰∏ÄÂà∞‰∏§‰∏™ÂàóÁ∞áÊØîËæÉÂ•ΩÔºåÂõ†‰∏∫HBase‰∏çËÉΩÂæàÂ•ΩÁöÑÂ§ÑÁêÜÂ§ö‰∏™ÂàóÁ∞á„ÄÇÊèèËø∞Hbase‰∏≠scanÂíågetÁöÑÂäüËÉΩ‰ª•ÂèäÂÆûÁé∞ÁöÑÂºÇÂêå.:1.ÊåâÊåáÂÆöRowKey Ëé∑ÂèñÂîØ‰∏Ä‰∏ÄÊù°ËÆ∞ÂΩïÔºågetÊñπÊ≥ïÔºàorg.apache.hadoop.hbase.client.GetÔºâGet ÁöÑÊñπÊ≥ïÂ§ÑÁêÜÂàÜ‰∏§Áßç : ËÆæÁΩÆ‰∫ÜClosestRowBefore ÂíåÊ≤°ÊúâËÆæÁΩÆÁöÑrowlock .‰∏ªË¶ÅÊòØÁî®Êù•‰øùËØÅË°åÁöÑ‰∫ãÂä°ÊÄßÔºåÂç≥ÊØè‰∏™get ÊòØ‰ª•‰∏Ä‰∏™row Êù•Ê†áËÆ∞ÁöÑ.‰∏Ä‰∏™row‰∏≠ÂèØ‰ª•ÊúâÂæàÂ§öfamily Âíåcolumn.2.ÊåâÊåáÂÆöÁöÑÊù°‰ª∂Ëé∑Âèñ‰∏ÄÊâπËÆ∞ÂΩïÔºåscanÊñπÊ≥ï(org.apache.Hadoop.hbase.client.Scan)ÂÆûÁé∞Êù°‰ª∂Êü•ËØ¢ÂäüËÉΩ‰ΩøÁî®ÁöÑÂ∞±ÊòØscan ÊñπÂºè.1)scan ÂèØ‰ª•ÈÄöËøásetCaching ‰∏ésetBatch ÊñπÊ≥ïÊèêÈ´òÈÄüÂ∫¶(‰ª•Á©∫Èó¥Êç¢Êó∂Èó¥)Ôºõ   2)scan ÂèØ‰ª•ÈÄöËøásetStartRow ‰∏ésetEndRow Êù•ÈôêÂÆöËåÉÂõ¥([startÔºåend]start ÊòØÈó≠Âå∫Èó¥Ôºåend ÊòØÂºÄÂå∫Èó¥)„ÄÇËåÉÂõ¥Ë∂äÂ∞èÔºåÊÄßËÉΩË∂äÈ´ò„ÄÇ3)scan ÂèØ‰ª•ÈÄöËøásetFilter ÊñπÊ≥ïÊ∑ªÂä†ËøáÊª§Âô®ÔºåËøô‰πüÊòØÂàÜÈ°µ„ÄÅÂ§öÊù°‰ª∂Êü•ËØ¢ÁöÑÂü∫Á°Ä„ÄÇ 3.ÂÖ®Ë°®Êâ´ÊèèÔºåÂç≥Áõ¥Êé•Êâ´ÊèèÊï¥Âº†Ë°®‰∏≠ÊâÄÊúâË°åËÆ∞ÂΩïHBASE‰∏≠compactÁî®ÈÄîÊòØ‰ªÄ‰πàÔºå‰ªÄ‰πàÊó∂ÂÄôËß¶ÂèëÔºåÂàÜ‰∏∫Âì™‰∏§Áßç,Êúâ‰ªÄ‰πàÂå∫Âà´:Âú®hbase‰∏≠ÊØèÂΩìÊúâmemstoreÊï∞ÊçÆflushÂà∞Á£ÅÁõò‰πãÂêéÔºåÂ∞±ÂΩ¢Êàê‰∏Ä‰∏™storefileÔºåÂΩìstoreFileÁöÑÊï∞ÈáèËææÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÂêéÔºåÂ∞±ÈúÄË¶ÅÂ∞Ü storefile Êñá‰ª∂Êù•ËøõË°å compaction Êìç‰Ωú„ÄÇCompact ÁöÑ‰ΩúÁî®Ôºö1&gt;.ÂêàÂπ∂Êñá‰ª∂2&gt;.Ê∏ÖÈô§ËøáÊúüÔºåÂ§ö‰ΩôÁâàÊú¨ÁöÑÊï∞ÊçÆ3&gt;.ÊèêÈ´òËØªÂÜôÊï∞ÊçÆÁöÑÊïàÁéáHBase ‰∏≠ÂÆûÁé∞‰∫Ü‰∏§Áßç compaction ÁöÑÊñπÂºèÔºöminor and major. Ëøô‰∏§Áßç compaction ÊñπÂºèÁöÑÂå∫Âà´ÊòØÔºö1„ÄÅMinor Êìç‰ΩúÂè™Áî®Êù•ÂÅöÈÉ®ÂàÜÊñá‰ª∂ÁöÑÂêàÂπ∂Êìç‰Ωú‰ª•ÂèäÂåÖÊã¨ minVersion=0 Âπ∂‰∏îËÆæÁΩÆ ttl ÁöÑËøáÊúüÁâàÊú¨Ê∏ÖÁêÜÔºå‰∏çÂÅö‰ªª‰ΩïÂà†Èô§Êï∞ÊçÆ„ÄÅÂ§öÁâàÊú¨Êï∞ÊçÆÁöÑÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇ2„ÄÅMajor Êìç‰ΩúÊòØÂØπ Region ‰∏ãÁöÑHStore‰∏ãÁöÑÊâÄÊúâStoreFileÊâßË°åÂêàÂπ∂Êìç‰ΩúÔºåÊúÄÁªàÁöÑÁªìÊûúÊòØÊï¥ÁêÜÂêàÂπ∂Âá∫‰∏Ä‰∏™Êñá‰ª∂„ÄÇÁÆÄËø∞Hbase filterÁöÑÂÆûÁé∞ÂéüÁêÜÊòØ‰ªÄ‰πàÔºüÁªìÂêàÂÆûÈôÖÈ°πÁõÆÁªèÈ™åÔºåÂÜôÂá∫Âá†‰∏™‰ΩøÁî®filterÁöÑÂú∫ÊôØ:HBase‰∏∫Á≠õÈÄâÊï∞ÊçÆÊèê‰æõ‰∫Ü‰∏ÄÁªÑËøáÊª§Âô®ÔºåÈÄöËøáËøô‰∏™ËøáÊª§Âô®ÂèØ‰ª•Âú®HBase‰∏≠ÁöÑÊï∞ÊçÆÁöÑÂ§ö‰∏™Áª¥Â∫¶ÔºàË°åÔºåÂàóÔºåÊï∞ÊçÆÁâàÊú¨Ôºâ‰∏äËøõË°åÂØπÊï∞ÊçÆÁöÑÁ≠õÈÄâÊìç‰ΩúÔºå‰πüÂ∞±ÊòØËØ¥ËøáÊª§Âô®ÊúÄÁªàËÉΩÂ§üÁ≠õÈÄâÁöÑÊï∞ÊçÆËÉΩÂ§üÁªÜÂåñÂà∞ÂÖ∑‰ΩìÁöÑ‰∏Ä‰∏™Â≠òÂÇ®ÂçïÂÖÉÊ†º‰∏äÔºàÁî±Ë°åÈîÆÔºåÂàóÂêçÔºåÊó∂Èó¥Êà≥ÂÆö‰ΩçÔºâ„ÄÇRowFilter„ÄÅPrefixFilter„ÄÇ„ÄÇ„ÄÇhbaseÁöÑfilterÊòØÈÄöËøáscanËÆæÁΩÆÁöÑÔºåÊâÄ‰ª•ÊòØÂü∫‰∫éscanÁöÑÊü•ËØ¢ÁªìÊûúËøõË°åËøáÊª§.ËøáÊª§Âô®ÁöÑÁ±ªÂûãÂæàÂ§öÔºå‰ΩÜÊòØÂèØ‰ª•ÂàÜ‰∏∫‰∏§Â§ßÁ±ª‚Äî‚ÄîÊØîËæÉËøáÊª§Âô®Ôºå‰∏ìÁî®ËøáÊª§Âô®ËøáÊª§Âô®ÁöÑ‰ΩúÁî®ÊòØÂú®ÊúçÂä°Á´ØÂà§Êñ≠Êï∞ÊçÆÊòØÂê¶Êª°Ë∂≥Êù°‰ª∂ÔºåÁÑ∂ÂêéÂè™Â∞ÜÊª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞ÊçÆËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºõÂ¶ÇÂú®ËøõË°åËÆ¢ÂçïÂºÄÂèëÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨‰ΩøÁî®rowkeyfilterËøáÊª§Âá∫Êüê‰∏™Áî®Êà∑ÁöÑÊâÄÊúâËÆ¢ÂçïhbaseÁöÑÂÇ®Â≠òÁªìÊûÑÁöÑ‰ºòÁº∫ÁÇπÔºöHbaseÁöÑ‰ºòÁÇπÂèäÂ∫îÁî®Âú∫ÊôØ:
</td>
      </tr>
      <tr>
        <td id="L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="LC143" class="blob-code blob-code-inner js-file-line">	1. ÂçäÁªìÊûÑÂåñÊàñÈùûÁªìÊûÑÂåñÊï∞ÊçÆ: ÂØπ‰∫éÊï∞ÊçÆÁªìÊûÑÂ≠óÊÆµ‰∏çÂ§üÁ°ÆÂÆöÊàñÊùÇ‰π±Êó†Á´†ÈùûÂ∏∏ÈöæÊåâ‰∏Ä‰∏™Ê¶ÇÂøµÂéªËøõË°åÊäΩÂèñÁöÑÊï∞ÊçÆÈÄÇÂêàÁî®HBaseÔºåÂõ†‰∏∫HBaseÊîØÊåÅÂä®ÊÄÅÊ∑ªÂä†Âàó„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="LC144" class="blob-code blob-code-inner js-file-line">	2. ËÆ∞ÂΩïÂæàÁ®ÄÁñèÔºö RDBMSÁöÑË°åÊúâÂ§öÂ∞ëÂàóÊòØÂõ∫ÂÆöÁöÑ„ÄÇ‰∏∫nullÁöÑÂàóÊµ™Ë¥π‰∫ÜÂ≠òÂÇ®Á©∫Èó¥„ÄÇHBase‰∏∫nullÁöÑColumn‰∏ç‰ºöË¢´Â≠òÂÇ®ÔºåËøôÊ†∑Êó¢ËäÇÁúÅ‰∫ÜÁ©∫Èó¥ÂèàÊèêÈ´ò‰∫ÜËØªÊÄßËÉΩ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="LC145" class="blob-code blob-code-inner js-file-line">	3. Â§öÁâàÊú¨Âè∑Êï∞ÊçÆÔºö ‰æùÊçÆRow keyÂíåColumn keyÂÆö‰ΩçÂà∞ÁöÑValueËÉΩÂ§üÊúâÈöèÊÑèÊï∞ÈáèÁöÑÁâàÊú¨Âè∑ÂÄºÔºåÂõ†Ê≠§ÂØπ‰∫éÈ°ªË¶ÅÂ≠òÂÇ®ÂèòÂä®ÂéÜÂè≤ËÆ∞ÂΩïÁöÑÊï∞ÊçÆÔºåÁî®HBaseÊòØÂæàÊñπ‰æøÁöÑ„ÄÇÊØîÊñπÊüê‰∏™Áî®Êà∑ÁöÑAddressÂèòÊõ¥ÔºåÁî®Êà∑ÁöÑAddressÂèòÊõ¥ËÆ∞ÂΩï‰πüËÆ∏‰πüÊòØÂÖ∑ÊúâÁ†îÁ©∂ÊÑè‰πâÁöÑ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="LC146" class="blob-code blob-code-inner js-file-line">	4. ‰ªÖË¶ÅÊ±ÇÊúÄÁªà‰∏ÄËá¥ÊÄßÔºö ÂØπ‰∫éÊï∞ÊçÆÂ≠òÂÇ®‰∫ãÂä°ÁöÑË¶ÅÊ±Ç‰∏çÂÉèÈáëËûçË°å‰∏öÂíåË¥¢Âä°Á≥ªÁªüËøô‰πàÈ´òÔºåÂè™Ë¶Å‰øùËØÅÊúÄÁªà‰∏ÄËá¥ÊÄßÂ∞±Ë°å„ÄÇÔºàÊØîÂ¶ÇHBase+elasticsearchÊó∂ÔºåÂèØËÉΩÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥Ôºâ
</td>
      </tr>
      <tr>
        <td id="L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="LC147" class="blob-code blob-code-inner js-file-line">	5. È´òÂèØÁî®ÂíåÊµ∑ÈáèÊï∞ÊçÆ‰ª•ÂèäÂæàÂ§ßÁöÑÁû¨Èó¥ÂÜôÂÖ•ÈáèÔºö WALËß£ÂÜ≥È´òÂèØÁî®ÔºåÊîØÊåÅPBÁ∫ßÊï∞ÊçÆÔºåputÊÄßËÉΩÈ´ò ÈÄÇÁî®‰∫éÊèíÂÖ•ÊØîÊü•ËØ¢Êìç‰ΩúÊõ¥È¢ëÁπÅÁöÑÊÉÖÂÜµ„ÄÇÊØîÂ¶ÇÔºåÂØπ‰∫éÂéÜÂè≤ËÆ∞ÂΩïË°®ÂíåÊó•ÂøóÊñá‰ª∂„ÄÇÔºàHBaseÁöÑÂÜôÊìç‰ΩúÊõ¥Âä†È´òÊïàÔºâ
</td>
      </tr>
      <tr>
        <td id="L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="LC148" class="blob-code blob-code-inner js-file-line">	6. ‰∏öÂä°Âú∫ÊôØÁÆÄÂçïÔºö ‰∏çÈúÄË¶ÅÂ§™Â§öÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁâπÊÄßÔºåÂàóÂÖ•‰∫§ÂèâÂàóÔºå‰∫§ÂèâË°®Ôºå‰∫ãÂä°ÔºåËøûÊé•Á≠â„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="LC149" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="LC150" class="blob-code blob-code-inner js-file-line">HbaseÁöÑÁº∫ÁÇπÔºö
</td>
      </tr>
      <tr>
        <td id="L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="LC151" class="blob-code blob-code-inner js-file-line">	1. Âçï‰∏ÄRowKeyÂõ∫ÊúâÁöÑÂ±ÄÈôêÊÄßÂÜ≥ÂÆö‰∫ÜÂÆÉ‰∏çÂèØËÉΩÊúâÊïàÂú∞ÊîØÊåÅÂ§öÊù°‰ª∂Êü•ËØ¢
</td>
      </tr>
      <tr>
        <td id="L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="LC152" class="blob-code blob-code-inner js-file-line">	2. ‰∏çÈÄÇÂêà‰∫éÂ§ßËåÉÂõ¥Êâ´ÊèèÊü•ËØ¢
</td>
      </tr>
      <tr>
        <td id="L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="LC153" class="blob-code blob-code-inner js-file-line">	3. ‰∏çÁõ¥Êé•ÊîØÊåÅ SQL ÁöÑËØ≠Âè•Êü•ËØ¢
</td>
      </tr>
      <tr>
        <td id="L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="LC154" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="LC155" class="blob-code blob-code-inner js-file-line">HMasterÂÆïÊú∫ÁöÑÊó∂ÂÄô,Âì™‰∫õÊìç‰ΩúËøòËÉΩÊ≠£Â∏∏Â∑•‰ΩúÂØπË°®ÂÜÖÊï∞ÊçÆÁöÑÂ¢ûÂà†Êü•ÊîπÊòØÂèØ‰ª•Ê≠£Â∏∏ËøõË°åÁöÑ,Âõ†‰∏∫hbase client ËÆøÈóÆÊï∞ÊçÆÂè™ÈúÄË¶ÅÈÄöËøá zookeeper Êù•ÊâæÂà∞ rowkey ÁöÑÂÖ∑‰Ωì region ‰ΩçÁΩÆÂç≥ÂèØ. ‰ΩÜÊòØÂØπ‰∫éÂàõÂª∫Ë°®/Âà†Èô§Ë°®Á≠âÁöÑÊìç‰ΩúÂ∞±Êó†Ê≥ïËøõË°å‰∫Ü,Âõ†‰∏∫ËøôÊó∂ÂÄôÊòØÈúÄË¶ÅHMaster‰ªãÂÖ•, Âπ∂‰∏îregionÁöÑÊãÜÂàÜ,ÂêàÂπ∂,ËøÅÁßªÁ≠âÊìç‰Ωú‰πüÈÉΩÊó†Ê≥ïËøõË°å‰∫ÜsqoopÈù¢ËØïÈ¢ò:1 „ÄÅSqoopÂØºÂÖ•Êï∞ÊçÆÂà∞hdfs‰∏≠ÁöÑÂèÇÊï∞/opt/module/sqoop/bin/sqoop import \--connect \ # ÁâπÊÆäÁöÑjdbcËøûÊé•ÁöÑÂ≠óÁ¨¶‰∏≤--username \--password \--target-dir \  # hdfsÁõÆÊ†áÁöÑÁõÆÂΩï--delete-target-dir \ # ÂØºÂÖ•ÁöÑÁõÆÊ†áÁõÆÂΩïÂ¶ÇÊûúÂ≠òÂú®ÂàôÂà†Èô§ÈÇ£‰∏™ÁõÆÂΩï--num-mappers \   #Áõ∏ÂΩì‰∫é -m ,Âπ∂Ë°åÂØºÂÖ•Êó∂map taskÁöÑ‰∏™Êï∞--fields-terminated-by   \--query "$2"  ' and $CONDITIONS;' # ÊåáÂÆöÊª°Ë∂≥sqlÂíåÊù°‰ª∂ÁöÑÊï∞ÊçÆÂØºÂÖ• 2„ÄÅSqoopÂØºÂÖ•hiveÊó∂ÁöÑÂèÇÊï∞‰∏ÄÊ≠•Â∞ÜË°®ÁªìÊûÑÂíåÊï∞ÊçÆÈÉΩÂØºÂÖ•Âà∞hive‰∏≠bin/sqoop import \--connect jdbcÁöÑurlÂ≠óÁ¨¶‰∏≤ \--table mysql‰∏≠ÁöÑË°®Âêç\--username Ë¥¶Âè∑ \--password ÂØÜÁ†Å\--hive-import \--m mapTaskÁöÑ‰∏™Êï∞\--hive-database hive‰∏≠ÁöÑÊï∞ÊçÆÂ∫ìÂêç;3„ÄÅ SqoopÂØºÂÖ•ÂØºÂá∫NullÂ≠òÂÇ®‰∏ÄËá¥ÊÄßÈóÆÈ¢òHive‰∏≠ÁöÑNullÂú®Â∫ïÂ±ÇÊòØ‰ª•‚Äú\N‚ÄùÊù•Â≠òÂÇ®ÔºåËÄåMySQL‰∏≠ÁöÑNullÂú®Â∫ïÂ±ÇÂ∞±ÊòØNullÔºå‰∏∫‰∫Ü‰øùËØÅÊï∞ÊçÆ‰∏§Á´ØÁöÑ‰∏ÄËá¥ÊÄß,ËΩ¨ÂåñÁöÑËøáÁ®ã‰∏≠ÈÅáÂà∞null-string,null-non-stringÊï∞ÊçÆÈÉΩËΩ¨ÂåñÊàêÊåáÂÆöÁöÑÁ±ªÂûãÔºåÈÄöÂ∏∏ÊåáÂÆöÊàê"\N"„ÄÇÂú®ÂØºÂá∫Êï∞ÊçÆÊó∂ÈááÁî®‚Äìinput-null-string ‚Äú\N‚Äù --input-null-non-string ‚Äú\N‚Äù ‰∏§‰∏™ÂèÇÊï∞„ÄÇÂØºÂÖ•Êï∞ÊçÆÊó∂ÈááÁî®‚Äìnull-string ‚Äú\N‚Äù --null-non-string ‚Äú\N‚Äù„ÄÇ 4„ÄÅSqoopÊï∞ÊçÆÂØºÂá∫‰∏ÄËá¥ÊÄßÈóÆÈ¢ò1ÔºâÂú∫ÊôØ1ÔºöÂ¶ÇSqoopÂú®ÂØºÂá∫Âà∞MysqlÊó∂Ôºå‰ΩøÁî®4‰∏™Map‰ªªÂä°ÔºåËøáÁ®ã‰∏≠Êúâ2‰∏™‰ªªÂä°Â§±Ë¥•ÔºåÈÇ£Ê≠§Êó∂MySQL‰∏≠Â≠òÂÇ®‰∫ÜÂè¶Â§ñ‰∏§‰∏™Map‰ªªÂä°ÂØºÂÖ•ÁöÑÊï∞ÊçÆÔºåÊ≠§Êó∂ËÄÅÊùøÊ≠£Â•ΩÁúãÂà∞‰∫ÜËøô‰∏™Êä•Ë°®Êï∞ÊçÆ„ÄÇËÄåÂºÄÂèëÂ∑•Á®ãÂ∏àÂèëÁé∞‰ªªÂä°Â§±Ë¥•ÂêéÔºå‰ºöË∞ÉËØïÈóÆÈ¢òÂπ∂ÊúÄÁªàÂ∞ÜÂÖ®ÈÉ®Êï∞ÊçÆÊ≠£Á°ÆÁöÑÂØºÂÖ•MySQLÔºåÈÇ£ÂêéÈù¢ËÄÅÊùøÂÜçÊ¨°ÁúãÊä•Ë°®Êï∞ÊçÆÔºåÂèëÁé∞Êú¨Ê¨°ÁúãÂà∞ÁöÑÊï∞ÊçÆ‰∏é‰πãÂâçÁöÑ‰∏ç‰∏ÄËá¥ÔºåËøôÂú®Áîü‰∫ßÁéØÂ¢ÉÊòØ‰∏çÂÖÅËÆ∏ÁöÑ„ÄÇ‰ΩøÁî®‚Äîstaging-tableÈÄâÈ°πÔºåÂ∞Ühdfs‰∏≠ÁöÑÊï∞ÊçÆÂÖàÂØºÂÖ•Âà∞ËæÖÂä©Ë°®‰∏≠ÔºåÂΩìhdfs‰∏≠ÁöÑÊï∞ÊçÆÂØºÂá∫ÊàêÂäüÂêéÔºåËæÖÂä©Ë°®‰∏≠ÁöÑÊï∞ÊçÆÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÂØºÂá∫Âà∞ÁõÆÊ†áË°®‰∏≠Ôºà‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ËøáÁ®ãË¶Å‰∏çÂÆåÂÖ®ÊàêÂäüÔºåË¶Å‰∏çÂÆåÂÖ®Â§±Ë¥•Ôºâ„ÄÇ‰∏∫‰∫ÜËÉΩÂ§ü‰ΩøÁî®stagingËøô‰∏™ÈÄâÈ°πÔºåstagingË°®Âú®ËøêË°å‰ªªÂä°ÂâçÊàñËÄÖÊòØÁ©∫ÁöÑÔºåË¶Å‰∏çÂ∞±‰ΩøÁî®‚Äîclear-staging-tableÈÖçÁΩÆÔºåÂ¶ÇÊûústagingË°®‰∏≠ÊúâÊï∞ÊçÆÔºåÂπ∂‰∏î‰ΩøÁî®‰∫Ü‚Äîclear-staging-tableÈÄâÈ°π,sqoopÊâßË°åÂØºÂá∫‰ªªÂä°Ââç‰ºöÂà†Èô§stagingË°®‰∏≠ÊâÄÊúâÁöÑÊï∞ÊçÆ„ÄÇÊ≥®ÊÑèÔºö‚ÄìdirectÂØºÂÖ•Êó∂stagingÊñπÂºèÊòØ‰∏çÂèØÁî®ÁöÑÔºå‰ΩøÁî®‰∫Ü‚Äîupdate-keyÈÄâÈ°πÊó∂stagingÊñπÂºè‰πü‰∏çËÉΩÁî®„ÄÇ    sqoop export \    --connect url \    --username root \    --password 123456 \    --table app_cource_study_report \    --columns watch_video_cnt,complete_video_cnt,dt \    --fields-terminated-by "\t" \    --export-dir "/user/hive/warehouse/tmp.db/app_cource_study_analysi_${day}" \    --staging-table app_cource_study_report_tmp \    --clear-staging-table \    --input-null-string '\\N' \    --null-non-string "\\N"2ÔºâÂú∫ÊôØ2ÔºöËÆæÁΩÆmapÊï∞Èáè‰∏∫1‰∏™Ôºà‰∏çÊé®ËçêÔºåÈù¢ËØïÂÆòÊÉ≥Ë¶ÅÁöÑÁ≠îÊ°à‰∏çÂè™Ëøô‰∏™ÔºâÂ§ö‰∏™Map‰ªªÂä°Êó∂ÔºåÈááÁî®‚Äìstaging-tableÊñπÂºèÔºå‰ªçÁÑ∂ÂèØ‰ª•Ëß£ÂÜ≥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò„ÄÇ5„ÄÅ SqoopÂ∫ïÂ±ÇËøêË°åÁöÑ‰ªªÂä°ÊòØ‰ªÄ‰πàÂè™ÊúâMapÈò∂ÊÆµÔºåÊ≤°ÊúâReduceÈò∂ÊÆµÁöÑ‰ªªÂä°„ÄÇ6„ÄÅ Map taskÂπ∂Ë°åÂ∫¶ËÆæÁΩÆÂ§ß‰∫é1ÁöÑÈóÆÈ¢òÈÇ£‰πàÂ∞±ÊòØËØ¥ÂΩìmap taskÂπ∂Ë°åÂ∫¶Â§ß‰∫é1Êó∂Ôºå‰∏ãÈù¢‰∏§‰∏™ÂèÇÊï∞Ë¶ÅÂêåÊó∂‰ΩøÁî®‚Äìsplit-by id ÊåáÂÆöÊ†πÊçÆidÂ≠óÊÆµËøõË°åÂàáÂàÜ‚Äìm n ÊåáÂÆömapÂπ∂Ë°åÂ∫¶n‰∏™7„ÄÅ SqoopÊï∞ÊçÆÂØºÂá∫ÁöÑÊó∂ÂÄô‰∏ÄÊ¨°ÊâßË°åÂ§öÈïøÊó∂Èó¥Sqoop‰ªªÂä°5ÂàÜÈíü-2‰∏™Â∞èÊó∂ÁöÑÈÉΩÊúâ„ÄÇÂèñÂÜ≥‰∫éÊï∞ÊçÆÈáè„ÄÇHiveÁöÑÊû∂ÊûÑÔºöHiveÂíåÊï∞ÊçÆÂ∫ìÁöÑÊØîËæÉÔºöHive ÂíåÊï∞ÊçÆÂ∫ìÈô§‰∫ÜÊã•ÊúâÁ±ª‰ººÁöÑÊü•ËØ¢ËØ≠Ë®ÄÔºåÂÜçÊó†Á±ª‰ºº‰πãÂ§Ñ„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="LC156" class="blob-code blob-code-inner js-file-line">	1. Êï∞ÊçÆÂ≠òÂÇ®‰ΩçÁΩÆ
</td>
      </tr>
      <tr>
        <td id="L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="LC157" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="LC158" class="blob-code blob-code-inner js-file-line">HiveÂ≠òÂÇ®Âú®HDFS„ÄÇÊï∞ÊçÆÂ∫ìÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú®ÂùóËÆæÂ§áÊàñËÄÖÊú¨Âú∞Êñá‰ª∂Á≥ªÁªü‰∏≠„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="LC159" class="blob-code blob-code-inner js-file-line">	1. Êï∞ÊçÆÊõ¥Êñ∞
</td>
      </tr>
      <tr>
        <td id="L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="LC160" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="LC161" class="blob-code blob-code-inner js-file-line">Hive‰∏≠‰∏çÂª∫ËÆÆÂØπÊï∞ÊçÆÁöÑÊîπÂÜô„ÄÇËÄåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÈÄöÂ∏∏ÊòØÈúÄË¶ÅÁªèÂ∏∏ËøõË°å‰øÆÊîπÁöÑÔºå
</td>
      </tr>
      <tr>
        <td id="L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="LC162" class="blob-code blob-code-inner js-file-line">	1. ÊâßË°åÂª∂Ëøü
</td>
      </tr>
      <tr>
        <td id="L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="LC163" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="LC164" class="blob-code blob-code-inner js-file-line">HiveÊâßË°åÂª∂ËøüËæÉÈ´ò„ÄÇÊï∞ÊçÆÂ∫ìÁöÑÊâßË°åÂª∂ËøüËæÉ‰Ωé„ÄÇÂΩìÁÑ∂ÔºåËøô‰∏™ÊòØÊúâÊù°‰ª∂ÁöÑÔºåÂç≥Êï∞ÊçÆËßÑÊ®°ËæÉÂ∞èÔºåÂΩìÊï∞ÊçÆËßÑÊ®°Â§ßÂà∞Ë∂ÖËøáÊï∞ÊçÆÂ∫ìÁöÑÂ§ÑÁêÜËÉΩÂäõÁöÑÊó∂ÂÄôÔºåHiveÁöÑÂπ∂Ë°åËÆ°ÁÆóÊòæÁÑ∂ËÉΩ‰ΩìÁé∞Âá∫‰ºòÂäø„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="LC165" class="blob-code blob-code-inner js-file-line">	1. Êï∞ÊçÆËßÑÊ®°
</td>
      </tr>
      <tr>
        <td id="L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="LC166" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="LC167" class="blob-code blob-code-inner js-file-line">HiveÊîØÊåÅÂæàÂ§ßËßÑÊ®°ÁöÑÊï∞ÊçÆËÆ°ÁÆóÔºõÊï∞ÊçÆÂ∫ìÂèØ‰ª•ÊîØÊåÅÁöÑÊï∞ÊçÆËßÑÊ®°ËæÉÂ∞è„ÄÇHiveÁöÑÂõõ‰∏™ByÁöÑÂå∫Âà´Ôºö
</td>
      </tr>
      <tr>
        <td id="L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="LC168" class="blob-code blob-code-inner js-file-line">	1. Sort ByÔºöÂàÜÂå∫ÂÜÖÊúâÂ∫èÔºõ
</td>
      </tr>
      <tr>
        <td id="L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="LC169" class="blob-code blob-code-inner js-file-line">	2. Order ByÔºöÂÖ®Â±ÄÊéíÂ∫èÔºåÂè™Êúâ‰∏Ä‰∏™ReducerÔºõ
</td>
      </tr>
      <tr>
        <td id="L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="LC170" class="blob-code blob-code-inner js-file-line">	3. Distrbute ByÔºöÁ±ª‰ººMR‰∏≠PartitionÔºåËøõË°åÂàÜÂå∫ÔºåÁªìÂêàsort by‰ΩøÁî®„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="LC171" class="blob-code blob-code-inner js-file-line">	4. Cluster ByÔºöÂΩìDistribute byÂíåSorts byÂ≠óÊÆµÁõ∏ÂêåÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®Cluster byÊñπÂºè„ÄÇCluster byÈô§‰∫ÜÂÖ∑ÊúâDistribute byÁöÑÂäüËÉΩÂ§ñËøòÂÖºÂÖ∑Sort byÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÊéíÂ∫èÂè™ËÉΩÊòØÂçáÂ∫èÊéíÂ∫èÔºå‰∏çËÉΩÊåáÂÆöÊéíÂ∫èËßÑÂàô‰∏∫ASCÊàñËÄÖDESC„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="LC172" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="LC173" class="blob-code blob-code-inner js-file-line">hiveÊï∞ÊçÆÂÄæÊñúÈóÆÈ¢òÔºöÂÄæÊñúÂéüÂõ†Ôºö mapËæìÂá∫Êï∞ÊçÆÊåâKey HashÂàÜÈÖçÂà∞reduce‰∏≠,Áî±‰∫ékeyÂàÜÂ∏É‰∏çÂùáÂåÄ„ÄÅÊàñËÄÖ‰∏öÂä°Êï∞ÊçÆÊú¨Ë∫´ÁöÑÁâπÁÇπ„ÄÇÁ≠âÂéüÂõ†ÈÄ†ÊàêÁöÑreduce‰∏äÁöÑÊï∞ÊçÆÈáèÂ∑ÆÂºÇËøáÂ§ß„ÄÇ1.1)keyÂàÜÂ∏É‰∏çÂùáÂåÄ1.2)‰∏öÂä°Êï∞ÊçÆÊú¨Ë∫´ÁöÑÁâπÊÄß1.3)SQLËØ≠Âè•ÈÄ†ÊàêÊï∞ÊçÆÂÄæÊñúËß£ÂÜ≥ÊñπÊ°àÔºö1&gt;ÂèÇÊï∞Ë∞ÉËäÇÔºö    hive.map.aggr=true    hive.groupby.skewindata=trueÊúâÊï∞ÊçÆÂÄæÊñúÁöÑÊó∂ÂÄôËøõË°åË¥üËΩΩÂùáË°°ÔºåÂΩìÈÄâÈ°πËÆæÂÆö‰∏∫true,ÁîüÊàêÁöÑÊü•ËØ¢ËÆ°Âàí‰ºöÊúâ‰∏§‰∏™MR Job„ÄÇÁ¨¨‰∏Ä‰∏™MR Job‰∏≠ÔºåMapÁöÑËæìÂá∫ÁªìÊûúÈõÜÂêà‰ºöÈöèÊú∫ÂàÜÂ∏ÉÂà∞Reduce‰∏≠ÔºåÊØè‰∏™ReduceÂÅöÈÉ®ÂàÜËÅöÂêàÊìç‰ΩúÔºåÂπ∂ËæìÂá∫ÁªìÊûúÔºåËøôÊ†∑Â§ÑÁêÜÁöÑÁªìÊûúÊòØÁõ∏ÂêåGroup By KeyÊúâÂèØËÉΩË¢´ÂàÜÂèëÂà∞‰∏çÂêåÁöÑReduce‰∏≠Ôºå‰ªéËÄåËææÂà∞Ë¥üËΩΩÂùáË°°ÁöÑÁõÆÁöÑÔºõÁ¨¨‰∫å‰∏™MR JobÂú®Ê†πÊçÆÈ¢ÑÂ§ÑÁêÜÁöÑÊï∞ÊçÆÁªìÊûúÊåâÁÖß Group By Key ÂàÜÂ∏ÉÂà∞Reduce‰∏≠(Ëøô‰∏™ËøáÁ®ãÂèØ‰ª•‰øùËØÅÁõ∏ÂêåÁöÑ Group By Key Ë¢´ÂàÜÂ∏ÉÂà∞Âêå‰∏Ä‰∏™Reduce‰∏≠)ÔºåÊúÄÂêéÂÆåÊàêÊúÄÁªàÁöÑËÅöÂêàÊìç‰Ωú„ÄÇ2&gt;SQLËØ≠Âè•Ë∞ÉËäÇÔºö   1)ÈÄâÁî®join key ÂàÜÂ∏ÉÊúÄÂùáÂåÄÁöÑË°®‰Ωú‰∏∫È©±Âä®Ë°®„ÄÇÂÅöÂ•ΩÂàóË£ÅÂâ™ÂíåfilterÊìç‰ΩúÔºå‰ª•ËææÂà∞‰∏§Ë°®joinÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÈáèÁõ∏ÂØπÂèòÂ∞èÁöÑÊïàÊûú„ÄÇ   2)Â§ßÂ∞èË°®JoinÔºö ‰ΩøÁî®map joinËÆ©Â∞èÁöÑÁª¥Â∫¶Ë°®Ôºà1000Êù°‰ª•‰∏ãÁöÑËÆ∞ÂΩïÊù°Êï∞ÔºâÂÖàËøõÂÜÖÂ≠ò„ÄÇÂú®MapÁ´ØÂÆåÊàêReduce„ÄÇ   3)Â§ßË°®JoinÂ§ßË°®ÔºöÊääÁ©∫ÂÄºÁöÑKeyÂèòÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âä†‰∏ä‰∏Ä‰∏™ÈöèÊú∫Êï∞ÔºåÊääÂÄæÊñúÁöÑÊï∞ÊçÆÂàÜÂà∞‰∏çÂêåÁöÑreduce‰∏äÔºåÁî±‰∫énullÂÄºÂÖ≥ËÅî‰∏ç‰∏äÔºåÂ§ÑÁêÜÂêéÂπ∂‰∏çÂΩ±ÂìçÊúÄÁªàÁöÑÁªìÊûú„ÄÇ   4)count distinctÂ§ßÈáèÁõ∏ÂêåÁâπÊÆäÂÄºÔºöcount distinctÊó∂ÔºåÂ∞ÜÂÄº‰∏∫Á©∫ÁöÑÊÉÖÂÜµÂçïÁã¨Â§ÑÁêÜÔºåÂ¶ÇÊûúÊòØËÆ°ÁÆócount distinctÔºåÂèØ‰ª•‰∏çÁî®Â§ÑÁêÜÔºåÁõ¥Êé•ËøáÊª§ÔºåÂú®ÂÅöÂêéÁªìÊûú‰∏≠Âä†1„ÄÇÂ¶ÇÊûúËøòÊúâÂÖ∂‰ªñËÆ°ÁÆóÔºåÈúÄË¶ÅËøõË°ågroup byÔºåÂèØ‰ª•ÂÖàÂ∞ÜÂÄº‰∏∫Á©∫ÁöÑËÆ∞ÂΩïÂçïÁã¨Â§ÑÁêÜÔºåÂÜçÂíåÂÖ∂‰ªñËÆ°ÁÆóÁªìÊûúËøõË°åunion.ÂàÜÂå∫ÂíåÂàÜÊ°∂ÁöÑÂå∫Âà´ÂàÜÂå∫ÊòØÊåáÊåâÁÖßÊï∞ÊçÆË°®ÁöÑÊüêÂàóÊàñÊüê‰∫õÂàóÂàÜ‰∏∫Â§ö‰∏™Âå∫ÔºåÂå∫‰ªéÂΩ¢Âºè‰∏äÂèØ‰ª•ÁêÜËß£‰∏∫Êñá‰ª∂Â§πÔºåÊØîÂ¶ÇÊàë‰ª¨Ë¶ÅÊî∂ÈõÜÊüê‰∏™Â§ßÂûãÁΩëÁ´ôÁöÑÊó•ÂøóÊï∞ÊçÆÔºå‰∏Ä‰∏™ÁΩëÁ´ôÊØèÂ§©ÁöÑÊó•ÂøóÊï∞ÊçÆÂ≠òÂú®Âêå‰∏ÄÂº†Ë°®‰∏äÔºåÁî±‰∫éÊØèÂ§©‰ºöÁîüÊàêÂ§ßÈáèÁöÑÊó•ÂøóÔºåÂØºËá¥Êï∞ÊçÆË°®ÁöÑÂÜÖÂÆπÂ∑®Â§ßÔºåÂú®Êü•ËØ¢Êó∂ËøõË°åÂÖ®Ë°®Êâ´ÊèèËÄóË¥πÁöÑËµÑÊ∫êÈùûÂ∏∏Â§ö„ÄÇÈÇ£ÂÖ∂ÂÆûËøô‰∏™ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÊåâÁÖßÊó•ÊúüÂØπÊï∞ÊçÆË°®ËøõË°åÂàÜÂå∫Ôºå‰∏çÂêåÊó•ÊúüÁöÑÊï∞ÊçÆÂ≠òÊîæÂú®‰∏çÂêåÁöÑÂàÜÂå∫ÔºåÂú®Êü•ËØ¢Êó∂Âè™Ë¶ÅÊåáÂÆöÂàÜÂå∫Â≠óÊÆµÁöÑÂÄºÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ªéËØ•ÂàÜÂå∫Êü•ÊâæÂàÜÊ°∂ÂàÜÊ°∂ÊòØÁõ∏ÂØπÂàÜÂå∫ËøõË°åÊõ¥ÁªÜÁ≤íÂ∫¶ÁöÑÂàíÂàÜ„ÄÇÂàÜÊ°∂Â∞ÜÊï¥‰∏™Êï∞ÊçÆÂÜÖÂÆπÂÆâË£ÖÊüêÂàóÂ±ûÊÄßÂÄºÂæóhashÂÄºËøõË°åÂå∫ÂàÜÔºàÊ†πÊçÆË°åÔºâÔºåÂ¶ÇË¶ÅÊåâÁÖßnameÂ±ûÊÄßÂàÜ‰∏∫3‰∏™Ê°∂ÔºåÂ∞±ÊòØÂØπnameÂ±ûÊÄßÂÄºÁöÑhashÂÄºÂØπ3ÂèñÊë∏ÔºåÊåâÁÖßÂèñÊ®°ÁªìÊûúÂØπÊï∞ÊçÆÂàÜÊ°∂„ÄÇÂ¶ÇÂèñÊ®°ÁªìÊûú‰∏∫0ÁöÑÊï∞ÊçÆËÆ∞ÂΩïÂ≠òÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂ÔºåÂèñÊ®°‰∏∫1ÁöÑÊï∞ÊçÆÂ≠òÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂ÔºåÂèñÊ®°‰∏∫2ÁöÑÊï∞ÊçÆÂ≠òÊîæÂà∞‰∏Ä‰∏™Êñá‰ª∂redisÁöÑ‰∫îÁßçÊï∞ÊçÆÁ±ªÂûãÔºöÔºà1ÔºâÂ≠óÁ¨¶‰∏≤Á±ªÂûã--stringÔºà2ÔºâÊï£ÂàóÁ±ªÂûã--hashÔºà3ÔºâÂàóË°®Á±ªÂûã--listÔºà4ÔºâÈõÜÂêàÁ±ªÂûã--setÔºà5ÔºâÊúâÂ∫èÈõÜÂêàÁ±ªÂûã--zsetredisÁºìÂ≠òÈõ™Â¥©ÔºöÁî±‰∫éÂéüÊúâÁºìÂ≠òÂ§±ÊïàÔºåÊñ∞ÁºìÂ≠òÊú™Âà∞ÊúüÈó¥(‰æãÂ¶ÇÔºöÊàë‰ª¨ËÆæÁΩÆÁºìÂ≠òÊó∂ÈááÁî®‰∫ÜÁõ∏ÂêåÁöÑËøáÊúüÊó∂Èó¥ÔºåÂú®Âêå‰∏ÄÊó∂ÂàªÂá∫Áé∞Â§ßÈù¢ÁßØÁöÑÁºìÂ≠òËøáÊúü)ÔºåÊâÄÊúâÂéüÊú¨Â∫îËØ•ËÆøÈóÆÁºìÂ≠òÁöÑËØ∑Ê±ÇÈÉΩÂéªÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∫ÜÔºåËÄåÂØπÊï∞ÊçÆÂ∫ìCPUÂíåÂÜÖÂ≠òÈÄ†ÊàêÂ∑®Â§ßÂéãÂäõÔºå‰∏•ÈáçÁöÑ‰ºöÈÄ†ÊàêÊï∞ÊçÆÂ∫ìÂÆïÊú∫„ÄÇ‰ªéËÄåÂΩ¢Êàê‰∏ÄÁ≥ªÂàóËøûÈîÅÂèçÂ∫îÔºåÈÄ†ÊàêÊï¥‰∏™Á≥ªÁªüÂ¥©Ê∫É„ÄÇËß£ÂÜ≥ÊñπÊ°àÊòØÔºöÁªôÊØè‰∏Ä‰∏™ÁºìÂ≠òÊï∞ÊçÆÂ¢ûÂä†Áõ∏Â∫îÁöÑÁºìÂ≠òÊ†áËÆ∞ÔºåËÆ∞ÂΩïÁºìÂ≠òÁöÑÊòØÂê¶Â§±ÊïàÔºåÂ¶ÇÊûúÁºìÂ≠òÊ†áËÆ∞Â§±ÊïàÔºåÂàôÊõ¥Êñ∞Êï∞ÊçÆÁºìÂ≠ò1„ÄÅÁºìÂ≠òÊ†áËÆ∞ÔºöËÆ∞ÂΩïÁºìÂ≠òÊï∞ÊçÆÊòØÂê¶ËøáÊúüÔºåÂ¶ÇÊûúËøáÊúü‰ºöËß¶ÂèëÈÄöÁü•Âè¶Â§ñÁöÑÁ∫øÁ®ãÂú®ÂêéÂè∞ÂéªÊõ¥Êñ∞ÂÆûÈôÖkeyÁöÑÁºìÂ≠òÔºõ2„ÄÅÁºìÂ≠òÊï∞ÊçÆÔºöÂÆÉÁöÑËøáÊúüÊó∂Èó¥ÊØîÁºìÂ≠òÊ†áËÆ∞ÁöÑÊó∂Èó¥Âª∂Èïø1ÂÄçÔºå‰æãÔºöÊ†áËÆ∞ÁºìÂ≠òÊó∂Èó¥30ÂàÜÈíüÔºåÊï∞ÊçÆÁºìÂ≠òËÆæÁΩÆ‰∏∫60ÂàÜÈíü„ÄÇ ËøôÊ†∑ÔºåÂΩìÁºìÂ≠òÊ†áËÆ∞keyËøáÊúüÂêéÔºåÂÆûÈôÖÁºìÂ≠òËøòËÉΩÊääÊóßÊï∞ÊçÆËøîÂõûÁªôË∞ÉÁî®Á´ØÔºåÁõ¥Âà∞Âè¶Â§ñÁöÑÁ∫øÁ®ãÂú®ÂêéÂè∞Êõ¥Êñ∞ÂÆåÊàêÂêéÔºåÊâç‰ºöËøîÂõûÊñ∞ÁºìÂ≠ò„ÄÇredisÁºìÂ≠òÁ©øÈÄèÔºöÊòØÊåáÁî®Êà∑Êü•ËØ¢ÁöÑÊï∞ÊçÆÂú®Êï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâÔºåÂú®ÁºìÂ≠ò‰∏≠‰πüÊ≤°ÊúâÔºåÂØºËá¥Áî®Êà∑Êü•ËØ¢ÁöÑÊó∂ÂÄôÂÜçÁºìÂ≠ò‰∏≠Êâæ‰∏çÂà∞ÔºåÊØèÊ¨°ÈÉΩÂéªÊï∞ÊçÆÂ∫ìÂÜçÊü•ËØ¢‰∏ÄÈÅçÔºåÁÑ∂ÂêéËøîÂõûÁ©∫ÔºàÁõ∏ÂΩì‰∫éËøõË°å‰∫Ü‰∏§Ê¨°Êó†Áî®ÁöÑÊü•ËØ¢Ôºâ„ÄÇËøôÊ†∑ËØ∑Ê±ÇÂ∞±ÁªïËøáÁºìÂ≠òÁõ¥Êé•Êü•Êï∞ÊçÆÂ∫ìÔºåËøô‰πüÊòØÁªèÂ∏∏ÊèêÁöÑÁºìÂ≠òÂëΩ‰∏≠ÁéáÈóÆÈ¢ò„ÄÇÊúâÂæàÂ§öÁßçÊñπÊ≥ïÂèØ‰ª•ÊúâÊïàÂú∞Ëß£ÂÜ≥ÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢òÔºåÊúÄÂ∏∏ËßÅÁöÑÂàôÊòØÈááÁî®Â∏ÉÈöÜËøáÊª§Âô®ÔºåÂ∞ÜÊâÄÊúâÂèØËÉΩÂ≠òÂú®ÁöÑÊï∞ÊçÆÂìàÂ∏åÂà∞‰∏Ä‰∏™Ë∂≥Â§üÂ§ßÁöÑbitmap‰∏≠Ôºå‰∏Ä‰∏™‰∏ÄÂÆö‰∏çÂ≠òÂú®ÁöÑÊï∞ÊçÆ‰ºöË¢´Ëøô‰∏™bitmapÊã¶Êà™ÊéâÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÂØπÂ∫ïÂ±ÇÂ≠òÂÇ®Á≥ªÁªüÁöÑÊü•ËØ¢ÂéãÂäõ„ÄÇredisÁºìÂ≠òÈ¢ÑÁÉ≠ÔºöÂ∞±ÊòØÁ≥ªÁªü‰∏äÁ∫øÂêéÔºåÂ∞ÜÁõ∏ÂÖ≥ÁöÑÁºìÂ≠òÊï∞ÊçÆÁõ¥Êé•Âä†ËΩΩÂà∞ÁºìÂ≠òÁ≥ªÁªü„ÄÇËøôÊ†∑Â∞±ÂèØ‰ª•ÈÅøÂÖçÂú®Áî®Êà∑ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºåÂÖàÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÊçÆÁºìÂ≠òÁöÑÈóÆÈ¢òÔºÅÁî®Êà∑Áõ¥Êé•Êü•ËØ¢‰∫ãÂÖàË¢´È¢ÑÁÉ≠ÁöÑÁºìÂ≠òÊï∞ÊçÆÔºÅËß£ÂÜ≥ÊÄùË∑ØÔºö1„ÄÅÁõ¥Êé•ÂÜô‰∏™ÁºìÂ≠òÂà∑Êñ∞È°µÈù¢Ôºå‰∏äÁ∫øÊó∂ÊâãÂ∑•Êìç‰Ωú‰∏ãÔºõ2„ÄÅÊï∞ÊçÆÈáè‰∏çÂ§ßÔºåÂèØ‰ª•Âú®È°πÁõÆÂêØÂä®ÁöÑÊó∂ÂÄôËá™Âä®ËøõË°åÂä†ËΩΩÔºõ3„ÄÅÂÆöÊó∂Âà∑Êñ∞ÁºìÂ≠òÔºõÁºìÂ≠òÊõ¥Êñ∞ÔºöÈô§‰∫ÜÁºìÂ≠òÊúçÂä°Âô®Ëá™Â∏¶ÁöÑÁºìÂ≠òÂ§±ÊïàÁ≠ñÁï•‰πãÂ§ñÔºàRedisÈªòËÆ§ÁöÑÊúâ6ÁßçÁ≠ñÁï•ÂèØ‰æõÈÄâÊã©ÔºâÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ê†πÊçÆÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÈúÄÊ±ÇËøõË°åËá™ÂÆö‰πâÁöÑÁºìÂ≠òÊ∑òÊ±∞ÔºåÂ∏∏ËßÅÁöÑÁ≠ñÁï•Êúâ‰∏§ÁßçÔºö
</td>
      </tr>
      <tr>
        <td id="L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="LC174" class="blob-code blob-code-inner js-file-line">	1. ÂÆöÊó∂ÂéªÊ∏ÖÁêÜËøáÊúüÁöÑÁºìÂ≠òÔºõ
</td>
      </tr>
      <tr>
        <td id="L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="LC175" class="blob-code blob-code-inner js-file-line">	2. ÂΩìÊúâÁî®Êà∑ËØ∑Ê±ÇËøáÊù•Êó∂ÔºåÂÜçÂà§Êñ≠Ëøô‰∏™ËØ∑Ê±ÇÊâÄÁî®Âà∞ÁöÑÁºìÂ≠òÊòØÂê¶ËøáÊúüÔºåËøáÊúüÁöÑËØùÂ∞±ÂéªÂ∫ïÂ±ÇÁ≥ªÁªüÂæóÂà∞Êñ∞Êï∞ÊçÆÂπ∂Êõ¥Êñ∞ÁºìÂ≠ò„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="LC176" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="LC177" class="blob-code blob-code-inner js-file-line">‰∏§ËÄÖÂêÑÊúâ‰ºòÂä£ÔºåÁ¨¨‰∏ÄÁßçÁöÑÁº∫ÁÇπÊòØÁª¥Êä§Â§ßÈáèÁºìÂ≠òÁöÑkeyÊòØÊØîËæÉÈ∫ªÁÉ¶ÁöÑÔºåÁ¨¨‰∫åÁßçÁöÑÁº∫ÁÇπÂ∞±ÊòØÊØèÊ¨°Áî®Êà∑ËØ∑Ê±ÇËøáÊù•ÈÉΩË¶ÅÂà§Êñ≠ÁºìÂ≠òÂ§±ÊïàÔºåÈÄªËæëÁõ∏ÂØπÊØîËæÉÂ§çÊùÇÔºÅÂÖ∑‰ΩìÁî®Âì™ÁßçÊñπÊ°àÔºåÂ§ßÂÆ∂ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÂ∫îÁî®Âú∫ÊôØÊù•ÊùÉË°°„ÄÇÁºìÂ≠òÈôçÁ∫ßÔºöÂΩìËÆøÈóÆÈáèÂâßÂ¢û„ÄÅÊúçÂä°Âá∫Áé∞ÈóÆÈ¢òÔºàÂ¶ÇÂìçÂ∫îÊó∂Èó¥ÊÖ¢Êàñ‰∏çÂìçÂ∫îÔºâÊàñÈùûÊ†∏ÂøÉÊúçÂä°ÂΩ±ÂìçÂà∞Ê†∏ÂøÉÊµÅÁ®ãÁöÑÊÄßËÉΩÊó∂Ôºå‰ªçÁÑ∂ÈúÄË¶Å‰øùËØÅÊúçÂä°ËøòÊòØÂèØÁî®ÁöÑÔºåÂç≥‰ΩøÊòØÊúâÊçüÊúçÂä°„ÄÇÁ≥ªÁªüÂèØ‰ª•Ê†πÊçÆ‰∏Ä‰∫õÂÖ≥ÈîÆÊï∞ÊçÆËøõË°åËá™Âä®ÈôçÁ∫ßÔºå‰πüÂèØ‰ª•ÈÖçÁΩÆÂºÄÂÖ≥ÂÆûÁé∞‰∫∫Â∑•ÈôçÁ∫ß„ÄÇÈôçÁ∫ßÁöÑÊúÄÁªàÁõÆÁöÑÊòØ‰øùËØÅÊ†∏ÂøÉÊúçÂä°ÂèØÁî®ÔºåÂç≥‰ΩøÊòØÊúâÊçüÁöÑ„ÄÇËÄå‰∏îÊúâ‰∫õÊúçÂä°ÊòØÊó†Ê≥ïÈôçÁ∫ßÁöÑÔºàÂ¶ÇÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶„ÄÅÁªìÁÆóÔºâ„ÄÇÂú®ËøõË°åÈôçÁ∫ß‰πãÂâçË¶ÅÂØπÁ≥ªÁªüËøõË°åÊ¢≥ÁêÜÔºåÁúãÁúãÁ≥ªÁªüÊòØ‰∏çÊòØÂèØ‰ª•‰∏¢Âçí‰øùÂ∏ÖÔºõ‰ªéËÄåÊ¢≥ÁêÜÂá∫Âì™‰∫õÂøÖÈ°ªË™ìÊ≠ª‰øùÊä§ÔºåÂì™‰∫õÂèØÈôçÁ∫ßÔºõÊØîÂ¶ÇÂèØ‰ª•ÂèÇËÄÉÊó•ÂøóÁ∫ßÂà´ËÆæÁΩÆÈ¢ÑÊ°àÔºö1„ÄÅ‰∏ÄËà¨ÔºöÊØîÂ¶ÇÊúâ‰∫õÊúçÂä°ÂÅ∂Â∞îÂõ†‰∏∫ÁΩëÁªúÊäñÂä®ÊàñËÄÖÊúçÂä°Ê≠£Âú®‰∏äÁ∫øËÄåË∂ÖÊó∂ÔºåÂèØ‰ª•Ëá™Âä®ÈôçÁ∫ß
</td>
      </tr>
      <tr>
        <td id="L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="LC178" class="blob-code blob-code-inner js-file-line">	1. 2„ÄÅË≠¶ÂëäÔºöÊúâ‰∫õÊúçÂä°Âú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊàêÂäüÁéáÊúâÊ≥¢Âä®ÔºàÂ¶ÇÂú®95~100%‰πãÈó¥ÔºâÔºåÂèØ‰ª•Ëá™Âä®ÈôçÁ∫ßÊàñ‰∫∫Â∑•ÈôçÁ∫ßÔºåÂπ∂ÂèëÈÄÅÂëäË≠¶Ôºõ
</td>
      </tr>
      <tr>
        <td id="L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="LC179" class="blob-code blob-code-inner js-file-line">	2. 3„ÄÅÈîôËØØÔºöÊØîÂ¶ÇÂèØÁî®Áéá‰Ωé‰∫é90%ÔºåÊàñËÄÖÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†Ë¢´ÊâìÁàÜ‰∫ÜÔºåÊàñËÄÖËÆøÈóÆÈáèÁ™ÅÁÑ∂ÁåõÂ¢ûÂà∞Á≥ªÁªüËÉΩÊâøÂèóÁöÑÊúÄÂ§ßÈòÄÂÄºÔºåÊ≠§Êó∂ÂèØ‰ª•Ê†πÊçÆÊÉÖÂÜµËá™Âä®ÈôçÁ∫ßÊàñËÄÖ‰∫∫Â∑•ÈôçÁ∫ßÔºõ
</td>
      </tr>
      <tr>
        <td id="L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="LC180" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="LC181" class="blob-code blob-code-inner js-file-line">4„ÄÅ‰∏•ÈáçÈîôËØØÔºöÊØîÂ¶ÇÂõ†‰∏∫ÁâπÊÆäÂéüÂõ†Êï∞ÊçÆÈîôËØØ‰∫ÜÔºåÊ≠§Êó∂ÈúÄË¶ÅÁ¥ßÊÄ•‰∫∫Â∑•ÈôçÁ∫ß„ÄÇredisÁöÑÂì®ÂÖµÊ®°ÂºèÔºöÂì®ÂÖµÊ®°ÂºèÊòØ‰∏ÄÁßçÁâπÊÆäÊ®°ÂºèÔºåÂΩì‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÂêéÔºåÊää‰∏ÄÂè∞‰ªéÊúçÂä°Âô®ÂàáÊç¢Êàê‰∏ªÊúçÂä°Âô®ÔºåredisÊèê‰æõ‰∫ÜÂì®ÂÖµÂëΩ‰ª§ÔºåÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑËøõÁ®ãÔºå‰ºöÁã¨Á´ãËøêË°å„ÄÇÂéüÁêÜÊòØÂì®ÂÖµÈÄöËøáÂèëÈÄÅÂëΩ‰ª§Ôºå Á≠âÂæÖredisÊúçÂä°Âô®ÂìçÂ∫îÔºå‰ªéËÄåÁõëÊéßËøêË°åÁöÑÂ§ö‰∏™redisÂÆû‰æã„ÄÇÁÑ∂ËÄå‰∏Ä‰∏™Âì®ÂÖµËøõÁ®ãÂØπRedisÊúçÂä°Âô®ËøõË°åÁõëÊéßÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºå‰∏∫Ê≠§ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™Âì®ÂÖµËøõË°åÁõëÊéß„ÄÇÂêÑ‰∏™Âì®ÂÖµ‰πãÈó¥Ëøò‰ºöËøõË°åÁõëÊéßÔºåËøôÊ†∑Â∞±ÂΩ¢Êàê‰∫ÜÂ§öÂì®ÂÖµÊ®°Âºè„ÄÇÁî®ÊñáÂ≠óÊèèËø∞‰∏Ä‰∏ãÊïÖÈöúÂàáÊç¢ÔºàfailoverÔºâÁöÑËøáÁ®ã„ÄÇÂÅáËÆæ‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÔºåÂì®ÂÖµ1ÂÖàÊ£ÄÊµãÂà∞Ëøô‰∏™ÁªìÊûúÔºåÁ≥ªÁªüÂπ∂‰∏ç‰ºöÈ©¨‰∏äËøõË°åfailoverËøáÁ®ãÔºå‰ªÖ‰ªÖÊòØÂì®ÂÖµ1‰∏ªËßÇÁöÑËÆ§‰∏∫‰∏ªÊúçÂä°Âô®‰∏çÂèØÁî®ÔºåËøô‰∏™Áé∞Ë±°Êàê‰∏∫‰∏ªËßÇ‰∏ãÁ∫ø„ÄÇÂΩìÂêéÈù¢ÁöÑÂì®ÂÖµ‰πüÊ£ÄÊµãÂà∞‰∏ªÊúçÂä°Âô®‰∏çÂèØÁî®ÔºåÂπ∂‰∏îÊï∞ÈáèËææÂà∞‰∏ÄÂÆöÂÄºÊó∂ÔºåÈÇ£‰πàÂì®ÂÖµ‰πãÈó¥Â∞±‰ºöËøõË°å‰∏ÄÊ¨°ÊäïÁ•®ÔºåÊäïÁ•®ÁöÑÁªìÊûúÁî±‰∏Ä‰∏™Âì®ÂÖµÂèëËµ∑ÔºåËøõË°åfailoverÊìç‰Ωú„ÄÇÂàáÊç¢ÊàêÂäüÂêéÔºåÂ∞±‰ºöÈÄöËøáÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºåËÆ©ÂêÑ‰∏™Âì®ÂÖµÊääËá™Â∑±ÁõëÊéßÁöÑ‰ªéÊúçÂä°Âô®ÂÆûÁé∞ÂàáÊç¢‰∏ªÊú∫ÔºåËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ÂÆ¢ËßÇ‰∏ãÁ∫ø„ÄÇËøôÊ†∑ÂØπ‰∫éÂÆ¢Êà∑Á´ØËÄåË®ÄÔºå‰∏ÄÂàáÈÉΩÊòØÈÄèÊòéÁöÑ„ÄÇredisÁöÑÊåÅ‰πÖÂåñÔºöRDBÊåÅ‰πÖÂåñÔºàÂø´ÁÖßÔºâÔºö
</td>
      </tr>
      <tr>
        <td id="L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="LC182" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="LC183" class="blob-code blob-code-inner js-file-line">		1. Âú®ÊåáÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÊåÅ‰πÖÂåñ
</td>
      </tr>
      <tr>
        <td id="L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="LC184" class="blob-code blob-code-inner js-file-line">		2. ÊúçÂä°shutdown‰ºöËá™Âä®ÊåÅ‰πÖÂåñ
</td>
      </tr>
      <tr>
        <td id="L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="LC185" class="blob-code blob-code-inner js-file-line">		3. ËæìÂÖ•bgsave‰πü‰ºöÊåÅ‰πÖÂåñÔºà RedisËøõÁ®ãÊâßË°åforkÊìç‰ΩúÂàõÂª∫Â≠êËøõÁ®ãÔºåRDBÊåÅ‰πÖÂåñËøáÁ®ãÁî±Â≠ê ËøõÁ®ãË¥üË¥£ÔºåÂÆåÊàêÂêéËá™Âä®ÁªìÊùü„ÄÇÈòªÂ°ûÂè™ÂèëÁîüÂú®forkÈò∂ÊÆµÔºå‰∏ÄËà¨Êó∂Èó¥ÂæàÁü≠Ôºâ
</td>
      </tr>
      <tr>
        <td id="L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="LC186" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="LC187" class="blob-code blob-code-inner js-file-line">AOFÊåÅ‰πÖÂåñÔºà‰ª•Êó•ÂøóÂΩ¢ÂºèËÆ∞ÂΩïÊØè‰∏™Êõ¥Êñ∞Êìç‰ΩúÔºâÔºöRedisÈáçÊñ∞ÂêØÂä®Êó∂ËØªÂèñËøô‰∏™Êñá‰ª∂ÔºåÈáçÊñ∞ÊâßË°åÊñ∞Âª∫„ÄÅ‰øÆÊîπÊï∞ÊçÆÁöÑÂëΩ‰ª§ÊÅ¢Â§çÊï∞ÊçÆ„ÄÇ‰øùÂ≠òÁ≠ñÁï•ÔºöÊé®ËçêÔºàÂπ∂‰∏î‰πüÊòØÈªòËÆ§ÔºâÁöÑÊé™ÊñΩ‰∏∫ÊØèÁßíÊåÅ‰πÖÂåñ‰∏ÄÊ¨°ÔºåËøôÁßçÁ≠ñÁï•ÂèØ‰ª•ÂÖºÈ°æÈÄüÂ∫¶ÂíåÂÆâÂÖ®ÊÄß„ÄÇÁº∫ÁÇπÔºö
</td>
      </tr>
      <tr>
        <td id="L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="LC188" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="LC189" class="blob-code blob-code-inner js-file-line">		1. ÊØîËµ∑RDBÂç†Áî®Êõ¥Â§öÁöÑÁ£ÅÁõòÁ©∫Èó¥
</td>
      </tr>
      <tr>
        <td id="L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="LC190" class="blob-code blob-code-inner js-file-line">		2. ÊÅ¢Â§çÂ§á‰ªΩÈÄüÂ∫¶Ë¶ÅÊÖ¢
</td>
      </tr>
      <tr>
        <td id="L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="LC191" class="blob-code blob-code-inner js-file-line">		3. ÊØèÊ¨°ËØªÂÜôÈÉΩÂêåÊ≠•ÁöÑËØùÔºåÊúâ‰∏ÄÂÆöÁöÑÊÄßËÉΩÂéãÂäõ
</td>
      </tr>
      <tr>
        <td id="L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="LC192" class="blob-code blob-code-inner js-file-line">		4. Â≠òÂú®‰∏™Âà´BugÔºåÈÄ†ÊàêÊÅ¢Â§ç‰∏çËÉΩ
</td>
      </tr>
      <tr>
        <td id="L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="LC193" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="LC194" class="blob-code blob-code-inner js-file-line">ÈÄâÊã©Á≠ñÁï•ÔºöÂÆòÊñπÊé®ËçêÔºöÂ¶ÇÊûúÂØπÊï∞ÊçÆ‰∏çÊïèÊÑüÔºåÂèØ‰ª•ÈÄâÂçïÁã¨Áî®RDBÔºõ‰∏çÂª∫ËÆÆÂçïÁã¨Áî®AOFÔºåÂõ†‰∏∫ÂèØËÉΩÂá∫Áé∞Bug;Â¶ÇÊûúÂè™ÊòØÂÅöÁ∫ØÂÜÖÂ≠òÁºìÂ≠òÔºåÂèØ‰ª•ÈÉΩ‰∏çÁî®redisÊÇ≤ËßÇÈîÅÔºöÂÖ∑ÊúâÂº∫ÁÉàÁöÑÁã¨Âç†ÂíåÊéí‰ªñÁâπÊÄß„ÄÇÂÆÉÊåáÁöÑÊòØÂØπÊï∞ÊçÆË¢´Â§ñÁïåÔºàÂåÖÊã¨Êú¨Á≥ªÁªüÂΩìÂâçÁöÑÂÖ∂‰ªñ‰∫ãÂä°Ôºå‰ª•ÂèäÊù•Ëá™Â§ñÈÉ®Á≥ªÁªüÁöÑ‰∫ãÂä°Â§ÑÁêÜÔºâ‰øÆÊîπÊåÅ‰øùÂÆàÊÄÅÂ∫¶ÔºåÂõ†Ê≠§ÔºåÂú®Êï¥‰∏™Êï∞ÊçÆÂ§ÑÁêÜËøáÁ®ã‰∏≠ÔºåÂ∞ÜÊï∞ÊçÆÂ§Ñ‰∫éÈîÅÂÆöÁä∂ÊÄÅ„ÄÇÊÇ≤ËßÇÈîÅÁöÑÂÆûÁé∞ÔºåÂæÄÂæÄ‰æùÈù†Êï∞ÊçÆÂ∫ìÊèê‰æõÁöÑÈîÅÊú∫Âà∂Ôºà‰πüÂè™ÊúâÊï∞ÊçÆÂ∫ìÂ±ÇÊèê‰æõÁöÑÈîÅÊú∫Âà∂ÊâçËÉΩÁúüÊ≠£‰øùËØÅÊï∞ÊçÆËÆøÈóÆÁöÑÊéí‰ªñÊÄßÔºåÂê¶ÂàôÔºåÂç≥‰ΩøÂú®Êú¨Á≥ªÁªü‰∏≠ÂÆûÁé∞‰∫ÜÂä†ÈîÅÊú∫Âà∂Ôºå‰πüÊó†Ê≥ï‰øùËØÅÂ§ñÈÉ®Á≥ªÁªü‰∏ç‰ºö‰øÆÊîπÊï∞ÊçÆÔºâ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºöÊâßË°åÊìç‰ΩúÂâçÂÅáËÆæÂΩìÂâçÁöÑÊìç‰ΩúËÇØÂÆöÔºàÊàñÊúâÂæàÂ§ßÂá†ÁéáÔºâ‰ºöË¢´ÊâìÊñ≠ÔºàÊÇ≤ËßÇÔºâ„ÄÇÂü∫‰∫éËøô‰∏™ÂÅáËÆæÔºåÊàë‰ª¨Âú®ÂÅöÊìç‰ΩúÂâçÂ∞±‰ºöÊääÁõ∏ÂÖ≥ËµÑÊ∫êÈîÅÂÆöÔºå‰∏çÂÖÅËÆ∏Ëá™Â∑±ÊâßË°åÊúüÈó¥ÊúâÂÖ∂‰ªñÊìç‰ΩúÂπ≤Êâ∞„ÄÇÊÇ≤ËßÇÈîÅÁöÑÂπ∂ÂèëÊÄßËÉΩÂ∑ÆÔºå‰ΩÜÊòØËÉΩ‰øùËØÅ‰∏ç‰ºöÂèëÁîüËÑèÊï∞ÊçÆÁöÑÂèØËÉΩÊÄßÂ∞è‰∏ÄÁÇπ„ÄÇredis‰πêËßÇÈîÅÔºöÊâßË°åÊìç‰ΩúÂâçÂÅáËÆæÂΩìÂâçÊìç‰Ωú‰∏ç‰ºöË¢´ÊâìÊñ≠Ôºà‰πêËßÇÔºâ„ÄÇÂü∫‰∫éËøô‰∏™ÂÅáËÆæÔºåÊàë‰ª¨Âú®ÂÅöÊìç‰ΩúÂâç‰∏ç‰ºöÈîÅÂÆöËµÑÊ∫êÔºå‰∏á‰∏ÄÂèëÁîü‰∫ÜÂÖ∂‰ªñÊìç‰ΩúÁöÑÂπ≤Êâ∞ÔºåÈÇ£‰πàÊú¨Ê¨°Êìç‰ΩúÂ∞ÜË¢´ÊîæÂºÉ„ÄÇRedis‰ΩøÁî®ÁöÑÂ∞±ÊòØ‰πêËßÇÈîÅ„ÄÇredisÊòØÂçïÁ∫øÁ®ãÔºå‰∏∫‰ªÄ‰πàÈÇ£‰πàÂø´Ôºö
</td>
      </tr>
      <tr>
        <td id="L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="LC195" class="blob-code blob-code-inner js-file-line">	1. ÂÆåÂÖ®Âü∫‰∫éÂÜÖÂ≠òÔºåÁªùÂ§ßÈÉ®ÂàÜËØ∑Ê±ÇÊòØÁ∫ØÁ≤πÁöÑÂÜÖÂ≠òÊìç‰ΩúÔºåÈùûÂ∏∏Âø´ÈÄü„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="LC196" class="blob-code blob-code-inner js-file-line">	2. Êï∞ÊçÆÁªìÊûÑÁÆÄÂçïÔºåÂØπÊï∞ÊçÆÊìç‰Ωú‰πüÁÆÄÂçïÔºåRedis‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑÊòØ‰∏ìÈó®ËøõË°åËÆæËÆ°ÁöÑ
</td>
      </tr>
      <tr>
        <td id="L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="LC197" class="blob-code blob-code-inner js-file-line">	3. ÈááÁî®ÂçïÁ∫øÁ®ãÔºåÈÅøÂÖç‰∫Ü‰∏çÂøÖË¶ÅÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢ÂíåÁ´û‰∫âÊù°‰ª∂Ôºå‰πü‰∏çÂ≠òÂú®Â§öËøõÁ®ãÊàñËÄÖÂ§öÁ∫øÁ®ãÂØºËá¥ÁöÑÂàáÊç¢ËÄåÊ∂àËÄó CPUÔºå‰∏çÁî®ÂéªËÄÉËôëÂêÑÁßçÈîÅÁöÑÈóÆÈ¢òÔºå‰∏çÂ≠òÂú®Âä†ÈîÅÈáäÊîæÈîÅÊìç‰ΩúÔºåÊ≤°ÊúâÂõ†‰∏∫ÂèØËÉΩÂá∫Áé∞Ê≠ªÈîÅËÄåÂØºËá¥ÁöÑÊÄßËÉΩÊ∂àËÄó
</td>
      </tr>
      <tr>
        <td id="L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="LC198" class="blob-code blob-code-inner js-file-line">	4. ‰ΩøÁî®Â§öË∑ØI/OÂ§çÁî®Ê®°ÂûãÔºåÈùûÈòªÂ°ûIO
</td>
      </tr>
      <tr>
        <td id="L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="LC199" class="blob-code blob-code-inner js-file-line">	5. ‰ΩøÁî®Â∫ïÂ±ÇÊ®°Âûã‰∏çÂêåÔºåÂÆÉ‰ª¨‰πãÈó¥Â∫ïÂ±ÇÂÆûÁé∞ÊñπÂºè‰ª•Âèä‰∏éÂÆ¢Êà∑Á´Ø‰πãÈó¥ÈÄö‰ø°ÁöÑÂ∫îÁî®ÂçèËÆÆ‰∏ç‰∏ÄÊ†∑ÔºåRedisÁõ¥Êé•Ëá™Â∑±ÊûÑÂª∫‰∫ÜVM Êú∫Âà∂ ÔºåÂõ†‰∏∫‰∏ÄËà¨ÁöÑÁ≥ªÁªüË∞ÉÁî®Á≥ªÁªüÂáΩÊï∞ÁöÑËØùÔºå‰ºöÊµ™Ë¥π‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂéªÁßªÂä®ÂíåËØ∑Ê±Ç„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="LC200" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="LC201" class="blob-code blob-code-inner js-file-line">HashMapÁöÑÂ∫ïÂ±ÇÊ∫êÁ†ÅÔºåÊï∞ÊçÆÁªìÊûÑÔºömysql:in Âíå not in Ë¶ÅÂ∞ΩÈáèÈÅøÂÖçÔºåÂõ†‰∏∫1„ÄÅÊïàÁéá‰Ωé„ÄÇ2„ÄÅÂÆπÊòìÂá∫Áé∞ÈóÆÈ¢òÔºåÊàñÊü•ËØ¢ÁªìÊûúÊúâËØØ„ÄÇËß£ÂÜ≥ÊñπÊ≥ï;1„ÄÅÁî®exists ÊàñËÄÖ not exists ‰ª£Êõø„ÄÇ2„ÄÅÁî® join ‰ª£Êõø„ÄÇÂ¶ÇÊûúÊúâÁ°ÆÂÆö‰∏îÊúâÈôêÁöÑÈõÜÂêàÊòØÔºåÂèØ‰ª•‰ΩøÁî®in Âíå not in Â¶ÇÔºöin(0,1,2)„ÄÇanyË°®Á§∫Â≠êÊü•ËØ¢ÁöÑÈõÜÂêàÈáåÊúâ‰ªª‰Ωï‰∏Ä‰∏™Êª°Ë∂≥Â∞±ËøîÂõûtrueÔºåallË°®Á§∫ÂÖ®ÈÉ®ÈÉΩÊª°Ë∂≥ÊâçËøîÂõûtrueÔºåÊòæÁÑ∂‰ªñ‰ª¨ÊòØ‰∏çÂêåÁöÑÁî®Ê≥ïÂíåÊÑè‰πâ„ÄÇÊØîÂ¶Ç‰Ω†Áî®age&gt;any(15,16,22,21,17,18,19)Êù•Âà§Êñ≠‰∏Ä‰∏™‰∫∫Âπ¥ÈæÑÊòØÂê¶Â§ß‰∫éÈõÜÂêàÈáåÁöÑÊâÄÊúâ‰∫∫Â∞±ÊòØÈîôËØØÁöÑÔºåËøôÈáåÂ∫îËØ•Áî®all„ÄÇexists:Âº∫Ë∞ÉÁöÑÊòØÊòØÂê¶ËøîÂõûÁªìÊûúÈõÜÔºå‰∏çË¶ÅÊ±ÇËøîÂõû‰ªÄ‰πà„ÄÇÔºàexistsÂ≠êÂè•‰∏çÂú®‰πéËøîÂõû‰ªÄ‰πàÔºåËÄåÂú®‰πéÊòØ‰∏çÊòØÊúâÁªìÊûúÈõÜËøîÂõûÔºânot existsÔºöË¶ÅÊéíÈô§‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÁî®Âà∞„ÄÇINÂíåExistsÁöÑÂå∫Âà´:
</td>
      </tr>
      <tr>
        <td id="L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="LC202" class="blob-code blob-code-inner js-file-line">ÁÆÄÂçïÊù•ËØ¥ÔºåÂâçËÄÖÊòØÈùûÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåÂ≠êÊü•ËØ¢ÂÖàÊâßË°åÔºå‰∏îÂè™ÊâßË°å‰∏ÄÊ¨°ÔºåÊâßË°åÂÆåÊØïÂêéÂ∞ÜÂÄº‰º†ÈÄíÁªôÂ§ñÂ±ÇÊü•ËØ¢ÔºõÂêéËÄÖÊòØÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåÂ∞ÜÂ§ñÂ±ÇÊü•ËØ¢ÁöÑ‰∏Ä‰∏™ÂÖÉÁªÑ‰º†ÈÄíÁªôÂÜÖÂ±ÇÊü•ËØ¢ÔºåÁÑ∂ÂêéÊâßË°åÂÜÖÂ±ÇÊü•ËØ¢ÔºåÂ§ñÂ±ÇÊü•ËØ¢Ê†πÊçÆËøîÂõûÁöÑÁªìÊûúÈõÜÂæóÂà∞Êª°Ë∂≥Êù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÈáçÂ§çËøô‰∏™ËøáÁ®ãÁõ¥Âà∞Â§ñÂ±ÇÊü•ËØ¢ÁöÑÊâÄÊúâÂÖÉÁªÑÈÉΩÂ§ÑÁêÜÂÆåÊØï„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="LC203" class="blob-code blob-code-inner js-file-line">ÈùûÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÁöÑÊâßË°å‰∏ç‰æùËµñ‰∏éÂ§ñÈÉ®ÁöÑÊü•ËØ¢„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="LC204" class="blob-code blob-code-inner js-file-line">ÊâßË°åËøáÁ®ãÔºö
</td>
      </tr>
      <tr>
        <td id="L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="LC205" class="blob-code blob-code-inner js-file-line">Ôºà1ÔºâÊâßË°åÂ≠êÊü•ËØ¢ÔºåÂÖ∂ÁªìÊûú‰∏çË¢´ÊòæÁ§∫ÔºåËÄåÊòØ‰º†ÈÄíÁªôÂ§ñÈÉ®Êü•ËØ¢Ôºå‰Ωú‰∏∫Â§ñÈÉ®Êü•ËØ¢ÁöÑÊù°‰ª∂‰ΩøÁî®„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="LC206" class="blob-code blob-code-inner js-file-line">Ôºà2ÔºâÊâßË°åÂ§ñÈÉ®Êü•ËØ¢ÔºåÂπ∂ÊòæÁ§∫Êï¥‰∏™ÁªìÊûú„ÄÇ„ÄÄ„ÄÄ
</td>
      </tr>
      <tr>
        <td id="L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="LC207" class="blob-code blob-code-inner js-file-line">ÈùûÁõ∏ÂÖ≥Â≠êÊü•ËØ¢‰∏ÄËà¨ÂèØ‰ª•ÂàÜ‰∏∫ÔºöËøîÂõûÂçïÂÄºÁöÑÂ≠êÊü•ËØ¢ÂíåËøîÂõû‰∏Ä‰∏™ÂàóË°®ÁöÑÂ≠êÊü•ËØ¢
</td>
      </tr>
      <tr>
        <td id="L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="LC208" class="blob-code blob-code-inner js-file-line">Áõ∏ÂÖ≥Â≠êÊü•ËØ¢ÁöÑÊâßË°å‰æùËµñ‰∫éÂ§ñÈÉ®Êü•ËØ¢„ÄÇÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊòØÂ≠êÊü•ËØ¢ÁöÑWHEREÂ≠êÂè•‰∏≠ÂºïÁî®‰∫ÜÂ§ñÈÉ®Êü•ËØ¢ÁöÑË°®„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="LC209" class="blob-code blob-code-inner js-file-line">ÊâßË°åËøáÁ®ãÔºö
</td>
      </tr>
      <tr>
        <td id="L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="LC210" class="blob-code blob-code-inner js-file-line">Ôºà1Ôºâ‰ªéÂ§ñÂ±ÇÊü•ËØ¢‰∏≠ÂèñÂá∫‰∏Ä‰∏™ÂÖÉÁªÑÔºåÂ∞ÜÂÖÉÁªÑÁõ∏ÂÖ≥ÂàóÁöÑÂÄº‰º†ÁªôÂÜÖÂ±ÇÊü•ËØ¢„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="LC211" class="blob-code blob-code-inner js-file-line">Ôºà2ÔºâÊâßË°åÂÜÖÂ±ÇÊü•ËØ¢ÔºåÂæóÂà∞Â≠êÊü•ËØ¢Êìç‰ΩúÁöÑÂÄº„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="LC212" class="blob-code blob-code-inner js-file-line">Ôºà3ÔºâÂ§ñÊü•ËØ¢Ê†πÊçÆÂ≠êÊü•ËØ¢ËøîÂõûÁöÑÁªìÊûúÊàñÁªìÊûúÈõÜÂæóÂà∞Êª°Ë∂≥Êù°‰ª∂ÁöÑË°å„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="LC213" class="blob-code blob-code-inner js-file-line">Ôºà4ÔºâÁÑ∂ÂêéÂ§ñÂ±ÇÊü•ËØ¢ÂèñÂá∫‰∏ã‰∏Ä‰∏™ÂÖÉÁªÑÈáçÂ§çÂÅöÊ≠•È™§1-3ÔºåÁõ¥Âà∞Â§ñÂ±ÇÁöÑÂÖÉÁªÑÂÖ®ÈÉ®Â§ÑÁêÜÂÆåÊØï„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="LC214" class="blob-code blob-code-inner js-file-line">case when ÁöÑ‰∏§ÁßçÁî®Ê≥ï:(Â§öË°åËΩ¨Â§öÂàó)
</td>
      </tr>
      <tr>
        <td id="L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="LC215" class="blob-code blob-code-inner js-file-line">1.  case Â≠óÊÆµ 
</td>
      </tr>
      <tr>
        <td id="L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="LC216" class="blob-code blob-code-inner js-file-line">        when Êù°‰ª∂ then ÁªìÊûú 
</td>
      </tr>
      <tr>
        <td id="L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="LC217" class="blob-code blob-code-inner js-file-line">        else ÁªìÊûú 
</td>
      </tr>
      <tr>
        <td id="L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="LC218" class="blob-code blob-code-inner js-file-line">    end; 
</td>
      </tr>
      <tr>
        <td id="L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="LC219" class="blob-code blob-code-inner js-file-line">2.  case 
</td>
      </tr>
      <tr>
        <td id="L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="LC220" class="blob-code blob-code-inner js-file-line">        when Êù°‰ª∂ then ÁªìÊûú 
</td>
      </tr>
      <tr>
        <td id="L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="LC221" class="blob-code blob-code-inner js-file-line">        when Êù°‰ª∂ then ÁªìÊûú 
</td>
      </tr>
      <tr>
        <td id="L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="LC222" class="blob-code blob-code-inner js-file-line">        else ÁªìÊûú 
</td>
      </tr>
      <tr>
        <td id="L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="LC223" class="blob-code blob-code-inner js-file-line">    end; 
</td>
      </tr>
      <tr>
        <td id="L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="LC224" class="blob-code blob-code-inner js-file-line">ÂΩìÂ§ÑÁêÜnullÂ≠óÊÆµÊòØË¶ÅÁî®Á¨¨‰∫åÁßçÊñπÊ≥ï,Á¨¨‰∏ÄÁßçÊñπÊ≥ïÊü•ËØ¢ÁöÑÁªìÊûúÊòØÈîôÁöÑ.
</td>
      </tr>
      <tr>
        <td id="L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="LC225" class="blob-code blob-code-inner js-file-line">union all:(‰∏ÄË°åËΩ¨Â§öÂàó):ÂêàÂπ∂Êó∂‰∏ç‰ºöÂéªÈô§ÈáçÂ§çÁöÑÊï∞ÊçÆÔºåunion‰ºöÂéªÈáç„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="LC226" class="blob-code blob-code-inner js-file-line">RANK()„ÄÅDENSE_RANK()‰ª•ÂèäROW_NUMBER()Ëøô‰∏â‰∏™ÂáΩÊï∞ÈÉΩÊòØÂØπÂàÜËøáÁªÑÁöÑÊï∞ÊçÆÊéíÂ∫èÂä†Â∫èÂè∑ÔºåËøô‰∏â‰∏™ÂáΩÊï∞ÂèàÂêÑËá™ÊúâÂå∫Âà´ :
</td>
      </tr>
      <tr>
        <td id="L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="LC227" class="blob-code blob-code-inner js-file-line">ROW_NUMBER()  OVER    ([PARTITION BY Colums1]     ORDER BY colums2)  
</td>
      </tr>
      <tr>
        <td id="L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="LC228" class="blob-code blob-code-inner js-file-line">DENSE_RANK()     OVER    ([PARTITION BY Colums1]     ORDER BY colums2)  
</td>
      </tr>
      <tr>
        <td id="L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="LC229" class="blob-code blob-code-inner js-file-line">RANK()                  OVER    ([PARTITION BY colums1]      ORDER BY colums2)
</td>
      </tr>
      <tr>
        <td id="L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="LC230" class="blob-code blob-code-inner js-file-line">Âå∫Âà´:
</td>
      </tr>
      <tr>
        <td id="L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="LC231" class="blob-code blob-code-inner js-file-line">‰∏â‰∏™ÂáΩÊï∞ÈÉΩÊòØÊåâÁÖßcolums1ÂàÜÁªÑÂÜÖ‰ªé1ÂºÄÂßãÊéíÂ∫è
</td>
      </tr>
      <tr>
        <td id="L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="LC232" class="blob-code blob-code-inner js-file-line">    ROW_NUMBER() ÊòØÊ≤°ÊúâÈáçÂ§çÂÄºÁöÑÊéíÂ∫è(Âç≥‰Ωø‰∏§Êù°ËÆ∞ÂΩïÁõ∏ÂêåÔºåÂ∫èÂè∑‰πü‰∏çÈáçÂ§çÁöÑ)Ôºå‰∏ç‰ºöÊúâÂêåÂêçÊ¨°„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="LC233" class="blob-code blob-code-inner js-file-line">    DENSE_RANK() ÊòØËøûÁª≠ÁöÑÊéíÂ∫èÔºå‰∏§‰∏™Á¨¨‰∫åÂêç‰ªçÁÑ∂Ë∑üÁùÄÁ¨¨‰∏âÂêç„ÄÇ
</td>
      </tr>
      <tr>
        <td id="L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="LC234" class="blob-code blob-code-inner js-file-line">    RANK()       ÊòØË∑≥Ë∑ÉÊéíÂ∫èÔºå‰∏§‰∏™Á¨¨‰∫åÂêç‰∏ãÊù•Â∞±ÊòØÁ¨¨ÂõõÂêç„ÄÇ
</td>
      </tr>
</tbody></table>


  </div>

      </div></div>
</div>




  <div class="d-flex flex-column d-md-block col-lg-11 offset-lg-1 pr-lg-3 js-file-commit-form">


  


    <span class="commit-form-avatar hide-sm hide-md ">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/daihang1/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/daihang1"><img class="float-left rounded-1" src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/49648247(2)" width="48" height="48" alt="@daihang1"></a>
    </span>

    <div class="commit-form position-relative  mb-2 p-3 border-0 border-lg-top border-lg-right border-lg-left border-lg-bottom rounded-1">
      <h3>Commit new file</h3>

      <div class="text-orange js-too-long-error d-none">
        <svg class="octicon octicon-light-bulb" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg>
        <strong>ProTip!</strong> Great commit summaries contain fewer than 50 characters. Place extra information in the extended description.
      </div>

      <label for="commit-summary-input" class="sr-only">
        Commit summary
      </label>
      <input id="commit-summary-input" type="text" class="form-control input-block input-contrast js-new-blob-commit-summary" placeholder="Create new file" name="message" value="" autocomplete="off">
      <input type="hidden" class="js-commit-message-fallback" name="placeholder_message" value="Create new file" data-default-value="Create new file">

      <label for="commit-description-textarea" class="sr-only">
        Optional extended description
      </label>

      <div class="position-relative">
        <text-expander keys=": @ #" data-issue-url="/suggestions?issue_suggester=1&amp;repository=-&amp;user_id=daihang1" data-mention-url="/suggestions?mention_suggester=1&amp;repository=-&amp;user_id=daihang1" data-emoji-url="/autocomplete/emoji">
          <textarea id="commit-description-textarea" name="description" class="form-control input-block input-contrast comment-form-textarea js-quick-submit" placeholder="Add an optional extended description‚Ä¶"></textarea>
        </text-expander>
      </div>


      
<div class="form-group mb-0" role="radiogroup" aria-label="Commit choice">
  <div class="form-checkbox pl-4 mt-0 mb-2">
    <label class="text-normal">
      <input type="radio" class="js-quick-pull-choice-option" name="commit-choice" value="direct" checked="">
        <svg class="octicon octicon-git-commit text-gray mr-1 text-center" height="16" width="16" viewBox="0 0 14 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
        Commit directly to the <strong class="branch-name">master</strong> branch.
    </label>
  </div>
  <div class="form-checkbox pl-4 my-0">
    <label class="text-normal">
      <input type="radio" class="js-quick-pull-choice-option" name="commit-choice" value="quick-pull">
      <svg class="octicon octicon-git-pull-request text-gray mr-1 text-center" height="16" width="16" viewBox="0 0 12 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0010 15a1.993 1.993 0 001-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 00-1 3.72v6.56A1.993 1.993 0 002 15a1.993 1.993 0 001-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      Create a <strong>new branch</strong> for this commit and start a pull request.
      <a href="https://help.github.com/articles/using-pull-requests" target="_blank">
        Learn more about pull requests.
      </a>
    </label>
  </div>
</div>

<div class="js-quick-pull-branch-name mt-2 d-none">
  <div class="position-relative mt-2 ">
    <svg class="octicon octicon-git-branch quick-pull-new-branch-icon text-gray-light position-absolute text-center" height="16" width="16" viewBox="0 0 10 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 00-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 00-1-3.72C.88 1 0 1.89 0 3a2 2 0 001 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    <input type="text" value="daihang1-patch-1" class="form-control input-contrast mr-1 pl-5 input-monospace js-quick-pull-new-branch-name" placeholder="New branch name" aria-label="New branch name" aria-describedby="quick-pull-normalization-info" data-generated-branch="daihang1-patch-1" data-check-url="https://github.com/daihang1/-/ref_check#csrf-token=wYZ9fMOpngQ4lk7L515vt51qmJsoE/QmJFD+kkU652WxZjTnX1Q52LhuIf3KvVSxAgE6Vb93ST9KgzVebuCnJA==">
    <span class="text-gray js-quick-pull-normalization-info" id="quick-pull-normalization-info"></span>
  </div>
</div>

<input type="hidden" name="target_branch" class="js-quick-pull-target-branch" value="master" data-default-value="master">
<input type="hidden" name="quick_pull" class="js-quick-pull-choice-value" value="" data-default-value="">


    </div>

    <button type="submit" class="btn btn-primary js-blob-submit flex-auto mx-3 ml-md-3 mr-md-0 ml-lg-0 mb-3 mb-md-0" id="submit-file" data-edit-text="Commit new file" data-pull-text="Propose new file" disabled="">
      Commit new file
    </button>

      <a class="btn btn-danger flex-auto text-center mx-3 mx-md-0" href="https://github.com/daihang1/-">Cancel</a>


  </div>


</form>    </div>


  </div>
</div>

    </main>
  </div>
  

  </div>

        
<div class="footer container-lg width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">¬© 2019 GitHub, Inc.</li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com/">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog/" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 000 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 00.01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
    You can‚Äôt perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha512-/VSJJF96vCzSgC6y09Z4FqzjjuXRWOKIq2twF0Nb5/v8xy4qzngnH6Au6TFwbmNN/lborYJsojEpgIbYjoGvHQ==" type="application/javascript" src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/frameworks-fd548924.js.‰∏ãËΩΩ"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-0mcBYsTTDNy016WuG7Zu/Pb5dsdoVzVb5FlxH4btAPKKyTBKn+5g6N6lXxmMo1WokYH8uOYuLpTgLjU29jSqcA==" type="application/javascript" src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/github-bootstrap-d2670162.js.‰∏ãËΩΩ"></script>
    
          <script crossorigin="anonymous" async="async" integrity="sha512-8qhjoBJICik+p6OAd2Jd4JRcWmjitrTA3Ka0J6377DQWJYvU1NJkcp9ow38EGZ4w9CtzOiiBee/r7r4KM1AoZA==" type="application/javascript" src="./Â§ßÊï∞ÊçÆÈù¢ËØïÁÇπ_files/editor-f2a863a0.js.‰∏ãËΩΩ"></script>

    
  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden="">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 000 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 00.01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <span class="js-stale-session-flash-signed-in" hidden="">You signed in with another tab or window. <a href="https://github.com/daihang1/-/new/master">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden="">You signed out in another tab or window. <a href="https://github.com/daihang1/-/new/master">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog"></template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

  <div aria-live="polite" class="js-global-screen-reader-notice sr-only"></div>

  


</body></html>